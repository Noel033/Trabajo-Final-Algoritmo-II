<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 16.0.0"/>
    <title>ejemplo API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:27px;vertical-align:bottom;width:50px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>




            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#NodoApu">NodoApu</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#NodoApu.__init__">NodoApu</a>
                        </li>
                        <li>
                                <a class="variable" href="#NodoApu.nombre">nombre</a>
                        </li>
                        <li>
                                <a class="variable" href="#NodoApu.datos">datos</a>
                        </li>
                        <li>
                                <a class="variable" href="#NodoApu.izquierda">izquierda</a>
                        </li>
                        <li>
                                <a class="variable" href="#NodoApu.derecha">derecha</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ArbolApus">ArbolApus</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#ArbolApus.raiz">raiz</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArbolApus.total_apus">total_apus</a>
                        </li>
                        <li>
                                <a class="function" href="#ArbolApus.insertar">insertar</a>
                        </li>
                        <li>
                                <a class="function" href="#ArbolApus.buscar">buscar</a>
                        </li>
                        <li>
                                <a class="function" href="#ArbolApus.recorrer_inorden">recorrer_inorden</a>
                        </li>
                        <li>
                                <a class="function" href="#ArbolApus.obtener_apu_por_indice">obtener_apu_por_indice</a>
                        </li>
                        <li>
                                <a class="function" href="#ArbolApus.obtener_datos_apu">obtener_datos_apu</a>
                        </li>
                        <li>
                                <a class="function" href="#ArbolApus.mostrar_arbol">mostrar_arbol</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuBase">ApuBase</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuBase.__init__">ApuBase</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuBase.nombre">nombre</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuBase.color">color</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuBase.health">health</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuBase.bioma">bioma</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuBase.gif">gif</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuBase.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="function" href="#ApuBase.get_datos">get_datos</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuHuascaran">ApuHuascaran</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuHuascaran.__init__">ApuHuascaran</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuHuascaran.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuHuascaran.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuHuascaran.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuCoropuna">ApuCoropuna</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuCoropuna.__init__">ApuCoropuna</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuCoropuna.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuCoropuna.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuCoropuna.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuMisti">ApuMisti</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuMisti.__init__">ApuMisti</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuMisti.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuMisti.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuMisti.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuAmpato">ApuAmpato</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuAmpato.__init__">ApuAmpato</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuAmpato.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuAmpato.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuAmpato.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuSaraSara">ApuSaraSara</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuSaraSara.__init__">ApuSaraSara</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuSaraSara.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuSaraSara.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuSaraSara.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuSalkantay">ApuSalkantay</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuSalkantay.__init__">ApuSalkantay</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuSalkantay.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuSalkantay.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuSalkantay.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuChachani">ApuChachani</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuChachani.__init__">ApuChachani</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuChachani.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuChachani.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuChachani.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuCcarhuarazo">ApuCcarhuarazo</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuCcarhuarazo.__init__">ApuCcarhuarazo</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuCcarhuarazo.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuCcarhuarazo.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuCcarhuarazo.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuRasuwillka">ApuRasuwillka</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuRasuwillka.__init__">ApuRasuwillka</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuRasuwillka.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuRasuwillka.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuRasuwillka.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuHualcaHualca">ApuHualcaHualca</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuHualcaHualca.__init__">ApuHualcaHualca</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuHualcaHualca.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuHualcaHualca.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuHualcaHualca.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuUarancante">ApuUarancante</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuUarancante.__init__">ApuUarancante</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuUarancante.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuUarancante.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuUarancante.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuAllincapac">ApuAllincapac</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuAllincapac.__init__">ApuAllincapac</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuAllincapac.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuAllincapac.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuAllincapac.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuKatunqui">ApuKatunqui</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuKatunqui.__init__">ApuKatunqui</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuKatunqui.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuKatunqui.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuKatunqui.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ApuPatallacta">ApuPatallacta</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ApuPatallacta.__init__">ApuPatallacta</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuPatallacta.illas_robadas">illas_robadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuPatallacta.altura">altura</a>
                        </li>
                        <li>
                                <a class="variable" href="#ApuPatallacta.caracteristicas">caracteristicas</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#APUS_DATA">APUS_DATA</a>
            </li>
            <li>
                    <a class="variable" href="#BIOMA_GIFS">BIOMA_GIFS</a>
            </li>
            <li>
                    <a class="variable" href="#BIOMA_MUSIC">BIOMA_MUSIC</a>
            </li>
            <li>
                    <a class="variable" href="#ILLAS_ROBADAS_POR_ESCENA">ILLAS_ROBADAS_POR_ESCENA</a>
            </li>
            <li>
                    <a class="variable" href="#ILLAS_GIFS">ILLAS_GIFS</a>
            </li>
            <li>
                    <a class="function" href="#cargar_preguntas_desde_json">cargar_preguntas_desde_json</a>
            </li>
            <li>
                    <a class="function" href="#preguntas_por_defecto">preguntas_por_defecto</a>
            </li>
            <li>
                    <a class="variable" href="#PREGUNTAS_APUS">PREGUNTAS_APUS</a>
            </li>
            <li>
                    <a class="function" href="#load_gif_frames">load_gif_frames</a>
            </li>
            <li>
                    <a class="function" href="#load_music">load_music</a>
            </li>
            <li>
                    <a class="function" href="#play_music">play_music</a>
            </li>
            <li>
                    <a class="function" href="#stop_music">stop_music</a>
            </li>
            <li>
                    <a class="function" href="#draw_pixelated_hearts">draw_pixelated_hearts</a>
            </li>
            <li>
                    <a class="class" href="#Player">Player</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Player.__init__">Player</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.scale_factor">scale_factor</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.rect">rect</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.speed">speed</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.vel_x">vel_x</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.vel_y">vel_y</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.on_ground">on_ground</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.gravity">gravity</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.jump_strength">jump_strength</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.facing_right">facing_right</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.walking">walking</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.frame_index">frame_index</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.animation_speed">animation_speed</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.animation_timer">animation_timer</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.lives">lives</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.max_lives">max_lives</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.articulos_collected">articulos_collected</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.font">font</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.collection_radius">collection_radius</a>
                        </li>
                        <li>
                                <a class="variable" href="#Player.mochila">mochila</a>
                        </li>
                        <li>
                                <a class="function" href="#Player.create_placeholder">create_placeholder</a>
                        </li>
                        <li>
                                <a class="function" href="#Player.update">update</a>
                        </li>
                        <li>
                                <a class="function" href="#Player.update_animation">update_animation</a>
                        </li>
                        <li>
                                <a class="function" href="#Player.handle_input">handle_input</a>
                        </li>
                        <li>
                                <a class="function" href="#Player.lose_life">lose_life</a>
                        </li>
                        <li>
                                <a class="function" href="#Player.collect_articulos">collect_articulos</a>
                        </li>
                        <li>
                                <a class="function" href="#Player.check_collection_proximity">check_collection_proximity</a>
                        </li>
                        <li>
                                <a class="function" href="#Player.draw">draw</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Apu">Apu</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Apu.__init__">Apu</a>
                        </li>
                        <li>
                                <a class="variable" href="#Apu.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Apu.size">size</a>
                        </li>
                        <li>
                                <a class="variable" href="#Apu.health">health</a>
                        </li>
                        <li>
                                <a class="variable" href="#Apu.max_health">max_health</a>
                        </li>
                        <li>
                                <a class="variable" href="#Apu.scene_number">scene_number</a>
                        </li>
                        <li>
                                <a class="variable" href="#Apu.frames">frames</a>
                        </li>
                        <li>
                                <a class="variable" href="#Apu.rect">rect</a>
                        </li>
                        <li>
                                <a class="variable" href="#Apu.frame_index">frame_index</a>
                        </li>
                        <li>
                                <a class="variable" href="#Apu.animation_timer">animation_timer</a>
                        </li>
                        <li>
                                <a class="variable" href="#Apu.animation_speed">animation_speed</a>
                        </li>
                        <li>
                                <a class="variable" href="#Apu.font">font</a>
                        </li>
                        <li>
                                <a class="function" href="#Apu.update">update</a>
                        </li>
                        <li>
                                <a class="function" href="#Apu.draw">draw</a>
                        </li>
                        <li>
                                <a class="function" href="#Apu.give_illas_to_player">give_illas_to_player</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Door">Door</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Door.__init__">Door</a>
                        </li>
                        <li>
                                <a class="variable" href="#Door.rect">rect</a>
                        </li>
                        <li>
                                <a class="variable" href="#Door.is_open">is_open</a>
                        </li>
                        <li>
                                <a class="variable" href="#Door.opening_animation">opening_animation</a>
                        </li>
                        <li>
                                <a class="variable" href="#Door.font">font</a>
                        </li>
                        <li>
                                <a class="function" href="#Door.open_door">open_door</a>
                        </li>
                        <li>
                                <a class="function" href="#Door.update">update</a>
                        </li>
                        <li>
                                <a class="function" href="#Door.draw">draw</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Articulo">Articulo</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Articulo.__init__">Articulo</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.size">size</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.rect">rect</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.collected">collected</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.color">color</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.float_timer">float_timer</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.base_y">base_y</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.base_x">base_x</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.font">font</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.rotation_angle">rotation_angle</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.rotation_speed">rotation_speed</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.move_radius">move_radius</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.move_speed">move_speed</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.move_timer">move_timer</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.frames">frames</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.current_frame">current_frame</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.animation_timer">animation_timer</a>
                        </li>
                        <li>
                                <a class="variable" href="#Articulo.animation_speed">animation_speed</a>
                        </li>
                        <li>
                                <a class="function" href="#Articulo.update">update</a>
                        </li>
                        <li>
                                <a class="function" href="#Articulo.draw">draw</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MochilaVisual">MochilaVisual</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MochilaVisual.__init__">MochilaVisual</a>
                        </li>
                        <li>
                                <a class="variable" href="#MochilaVisual.width">width</a>
                        </li>
                        <li>
                                <a class="variable" href="#MochilaVisual.height">height</a>
                        </li>
                        <li>
                                <a class="variable" href="#MochilaVisual.x">x</a>
                        </li>
                        <li>
                                <a class="variable" href="#MochilaVisual.y">y</a>
                        </li>
                        <li>
                                <a class="variable" href="#MochilaVisual.illas_guardadas">illas_guardadas</a>
                        </li>
                        <li>
                                <a class="variable" href="#MochilaVisual.font">font</a>
                        </li>
                        <li>
                                <a class="variable" href="#MochilaVisual.font_small">font_small</a>
                        </li>
                        <li>
                                <a class="variable" href="#MochilaVisual.mostrar_mochila">mostrar_mochila</a>
                        </li>
                        <li>
                                <a class="variable" href="#MochilaVisual.mochila_gif">mochila_gif</a>
                        </li>
                        <li>
                                <a class="variable" href="#MochilaVisual.illas_gifs_cache">illas_gifs_cache</a>
                        </li>
                        <li>
                                <a class="function" href="#MochilaVisual.agregar_illa">agregar_illa</a>
                        </li>
                        <li>
                                <a class="function" href="#MochilaVisual.alternar_visibilidad">alternar_visibilidad</a>
                        </li>
                        <li>
                                <a class="function" href="#MochilaVisual.update">update</a>
                        </li>
                        <li>
                                <a class="function" href="#MochilaVisual.draw">draw</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#QuestionScreen">QuestionScreen</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#QuestionScreen.__init__">QuestionScreen</a>
                        </li>
                        <li>
                                <a class="variable" href="#QuestionScreen.pregunta_data">pregunta_data</a>
                        </li>
                        <li>
                                <a class="variable" href="#QuestionScreen.font_title">font_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#QuestionScreen.font_question">font_question</a>
                        </li>
                        <li>
                                <a class="variable" href="#QuestionScreen.font_options">font_options</a>
                        </li>
                        <li>
                                <a class="variable" href="#QuestionScreen.selected_option">selected_option</a>
                        </li>
                        <li>
                                <a class="variable" href="#QuestionScreen.answered">answered</a>
                        </li>
                        <li>
                                <a class="variable" href="#QuestionScreen.correct">correct</a>
                        </li>
                        <li>
                                <a class="variable" href="#QuestionScreen.show_result">show_result</a>
                        </li>
                        <li>
                                <a class="variable" href="#QuestionScreen.result_timer">result_timer</a>
                        </li>
                        <li>
                                <a class="function" href="#QuestionScreen.handle_input">handle_input</a>
                        </li>
                        <li>
                                <a class="function" href="#QuestionScreen.update">update</a>
                        </li>
                        <li>
                                <a class="function" href="#QuestionScreen.draw">draw</a>
                        </li>
                        <li>
                                <a class="function" href="#QuestionScreen.wrap_text">wrap_text</a>
                        </li>
                        <li>
                                <a class="function" href="#QuestionScreen.is_finished">is_finished</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#GameScene">GameScene</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#GameScene.__init__">GameScene</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameScene.scene_number">scene_number</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameScene.apu">apu</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameScene.door">door</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameScene.question_screen">question_screen</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameScene.completed">completed</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameScene.showing_question">showing_question</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameScene.player_can_advance">player_can_advance</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameScene.illas_message">illas_message</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameScene.illas_message_timer">illas_message_timer</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameScene.artikulos_visuales">artikulos_visuales</a>
                        </li>
                        <li>
                                <a class="function" href="#GameScene.create_visual_artikulos">create_visual_artikulos</a>
                        </li>
                        <li>
                                <a class="function" href="#GameScene.show_artikulos">show_artikulos</a>
                        </li>
                        <li>
                                <a class="function" href="#GameScene.start_question">start_question</a>
                        </li>
                        <li>
                                <a class="function" href="#GameScene.handle_event">handle_event</a>
                        </li>
                        <li>
                                <a class="function" href="#GameScene.update">update</a>
                        </li>
                        <li>
                                <a class="function" href="#GameScene.draw">draw</a>
                        </li>
                        <li>
                                <a class="function" href="#GameScene.can_advance">can_advance</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AnimatedBackground">AnimatedBackground</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AnimatedBackground.__init__">AnimatedBackground</a>
                        </li>
                        <li>
                                <a class="variable" href="#AnimatedBackground.scene_number">scene_number</a>
                        </li>
                        <li>
                                <a class="function" href="#AnimatedBackground.create_biome_background">create_biome_background</a>
                        </li>
                        <li>
                                <a class="function" href="#AnimatedBackground.update">update</a>
                        </li>
                        <li>
                                <a class="function" href="#AnimatedBackground.draw">draw</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#GameManager">GameManager</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#GameManager.__init__">GameManager</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameManager.current_scene">current_scene</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameManager.total_scenes">total_scenes</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameManager.scenes">scenes</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameManager.player">player</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameManager.background">background</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameManager.game_state">game_state</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameManager.font_big">font_big</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameManager.font_medium">font_medium</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameManager.arbol_apus">arbol_apus</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameManager.main_menu">main_menu</a>
                        </li>
                        <li>
                                <a class="variable" href="#GameManager.current_music">current_music</a>
                        </li>
                        <li>
                                <a class="function" href="#GameManager.poblar_arbol_apus">poblar_arbol_apus</a>
                        </li>
                        <li>
                                <a class="function" href="#GameManager.demostrar_funcionalidades_arbol">demostrar_funcionalidades_arbol</a>
                        </li>
                        <li>
                                <a class="function" href="#GameManager.load_menu_music">load_menu_music</a>
                        </li>
                        <li>
                                <a class="function" href="#GameManager.load_biome_music">load_biome_music</a>
                        </li>
                        <li>
                                <a class="function" href="#GameManager.handle_event">handle_event</a>
                        </li>
                        <li>
                                <a class="function" href="#GameManager.update">update</a>
                        </li>
                        <li>
                                <a class="function" href="#GameManager.advance_to_next_scene">advance_to_next_scene</a>
                        </li>
                        <li>
                                <a class="function" href="#GameManager.restart_game">restart_game</a>
                        </li>
                        <li>
                                <a class="function" href="#GameManager.draw">draw</a>
                        </li>
                        <li>
                                <a class="function" href="#GameManager.run">run</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#main">main</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22160%22%20viewBox%3D%220%200%20150%2080%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M132.316%2048.886c.276-4.679%202.342-6.698%204.409-7.982s4.27-1.165%206.751-1.055c1.586.07%203.044.156%204.222-.482%201.142-.619%202.026-1.932%202.162-3.739.268-3.576-1.929-5.368-5.006-5.551s-7.599.524-10.517%201.606c-4.455%201.652-8.588%206.606-9.552%208.992s-2.342%206.193-1.745%2010.873%202.664%209.221%205.878%2011.79%205.878%203.808%2010.103%204.312%203.444.229%206.062.229%205.006-2.202%204.914-4.909-2.296-5.001-4.501-4.863-3.077.505-5.281.229-7.715-2.064-7.899-9.451z%22%20fill%3D%22%23198754%22/%3E%3Ccircle%20cx%3D%22101.504%22%20cy%3D%2248.943%22%20r%3D%2214.208%22%20fill%3D%22none%22%20stroke%3D%22%23198754%22%20stroke-width%3D%229.354%22/%3E%3Cpath%20d%3D%22M87.81.002c-3.637.065-5.001.454-7.014%201.232s-3.443%201.363-6.3%204.282c-1.723%201.76-3.148%205.019-3.776%207.329-.413%201.521-.316%202.63-.316%202.63l-.195%2034.612c.065%205.774-6.755%208.305-9.612%208.37s-9.678-1.038-9.743-9.408%207.128-9.521%208.362-9.521c1.413-.13%202.526-.021%203.718-.016%202.071.009%204.157-.778%204.092-4.671s-4.157-4.736-4.157-4.736c-6.3-.843-11.43%202.206-11.43%202.206S40.917%2038.15%2041.372%2049.634%2051.568%2068.19%2061.311%2068.125s18.316-7.007%2018.445-17.193l.13-22.772c.046-2.291%202.683-3.644%204.476-4.203.745-.232%201.694-.274%201.694-.274l10.457-.13s4.871-.324%207.729-3.114%204.352-6.294%204.352-6.294.974-3.049.13-4.606-.195-1.233-2.792-3.309-8.573-4.477-8.573-4.477S91.447-.063%2087.81.002zM0%2047.169l.065%2028.417S0%2080.127%204.481%2079.997s5.072-3.866%205.049-4.152l-.113-28.482s1.624-7.656%209.937-7.721%2010.002%206.942%2010.002%208.499-.909%2010.51-9.093%2010.51c-.948%200-2.99-.567-4.145-.272-3.919%201-3.194%204.554-3.194%204.554s.065%205.061%207.404%204.996%2018.575-6.034%2018.575-19.074S26.953%2030.04%2019.549%2029.91%201.234%2035.296%200%2047.169z%22%20fill%3D%22%23198754%22/%3E%3Cg%20transform%3D%22matrix%28.325601%200%200%20.325256%20-10.32669%20-45.802786%29%22%3E%3Ccircle%20cx%3D%22297.554%22%20cy%3D%22172.286%22%20r%3D%2216.5%22%20fill%3D%22%23fff%22/%3E%3Cellipse%20cx%3D%22297.709%22%20cy%3D%22172.642%22%20rx%3D%2211.071%22%20ry%3D%2210.871%22%20fill%3D%22%23105a48%22/%3E%3Ccircle%20cx%3D%22304.104%22%20cy%3D%22167.667%22%20r%3D%224.5%22%20fill%3D%22%23fff%22/%3E%3C/g%3E%3Cpath%20d%3D%22M94.661%2017.032l.893-1.476s.99.714%201.916.925%201.575.114%202.955.114l14.565-.162c1.283-.032%203.085-.762%203.02-3.293s-.373-3.503-.373-3.503l1.283-.487s.52.503.877%201.573.309%201.995.292%202.66-.227%201.541-.227%201.541%201.564-.308%202.359-1.038.823-.779%201.489-1.508.812-.86.812-.86.552-.13.877.26.341.957.065%201.46-1.672%202.206-3.247%203.066-2.76%201.427-3.929%201.768-3.848.73-7.063.714l-10.944-.114s-2.143-.081-3.02-.373-2.241-.973-2.598-1.265z%22%20fill%3D%22%23d36d49%22/%3E%3Cg%20fill%3D%22%23105a48%22%3E%3Cellipse%20cx%3D%2293.052%22%20cy%3D%2243.567%22%20rx%3D%22.869%22%20ry%3D%221.014%22%20transform%3D%22rotate%28341.022%29%22/%3E%3Cellipse%20cx%3D%22104.3%22%20cy%3D%22-16.184%22%20rx%3D%22.865%22%20ry%3D%221.009%22%20transform%3D%22rotate%2814.786%29%22/%3E%3C/g%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
ejemplo    </h1>

                
                        <input id="mod-ejemplo-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-ejemplo-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">pygame</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">PIL</span><span class="w"> </span><span class="kn">import</span> <span class="n">Image</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="sd">Mdulo: ejemplo.py</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a><span class="sd">Descripcin: Implementa un juego utilizando Pygame que incluye la lgica de escenas, </span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a><span class="sd">personajes, enemigos y objetos.</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a><span class="sd">Autor: Noel Vilca, Anderson Rosas, Anthony Mondalgo y Paul Anampa</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a><span class="sd">Fecha: 2025-11-07</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a><span class="sd">Variables principales:</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a><span class="sd">    SCREEN_WIDTH (int): Ancho de la pantalla.</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a><span class="sd">    SCREEN_HEIGHT (int): Alto de la pantalla.</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a><span class="sd">    FPS (int): Frames por segundo del juego.</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="sd">    WHITE, BLACK, RED, GREEN, BLUE, YELLOW, GRAY, DARK_GRAY (tuple): Colores usados en el juego.</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a><span class="c1"># ================== PYGAME INICIO ==================</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>    
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a>    <span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a>    <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>  <span class="c1"># Inicializar el mixer para sonido</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a>    <span class="c1"># Configuracin de pantalla</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a>    <span class="n">SCREEN_WIDTH</span> <span class="o">=</span> <span class="mi">800</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a>    <span class="n">SCREEN_HEIGHT</span> <span class="o">=</span> <span class="mi">600</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a>    <span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a>    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s2">&quot;La Travesa de Ekeko - 14 Escenas&quot;</span><span class="p">)</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a>    <span class="c1"># Colores</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a>    <span class="n">WHITE</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a>    <span class="n">BLACK</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a>    <span class="n">RED</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a>    <span class="n">GREEN</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a>    <span class="n">BLUE</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a>    <span class="n">YELLOW</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a>    <span class="n">GRAY</span> <span class="o">=</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a>    <span class="n">DARK_GRAY</span> <span class="o">=</span> <span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a>    <span class="c1"># FPS</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a>    <span class="n">FPS</span> <span class="o">=</span> <span class="mi">60</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a>    <span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a><span class="c1"># ================== RBOL BINARIO PARA APUS ==================</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a><span class="k">class</span><span class="w"> </span><span class="nc">NodoApu</span><span class="p">:</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Nodo del rbol binario que representa un Apu</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a><span class="sd">    Atributos:</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a><span class="sd">        nombre (str): Nombre del Apu.</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a><span class="sd">        datos (dict): Diccionario con la informacin del Apu (color, salud, bioma, gif).</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a><span class="sd">        izquierda (NodoApu): Referencia al hijo izquierdo.</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a><span class="sd">        derecha (NodoApu): Referencia al hijo derecho.</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">):</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">=</span> <span class="n">nombre</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">datos</span> <span class="o">=</span> <span class="n">datos</span>  <span class="c1"># Contiene color, health, bioma, gif</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">izquierda</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">derecha</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArbolApus</span><span class="p">:</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;rbol binario para gestionar los 12 Apus del juego</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a><span class="sd">    </span>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a><span class="sd">    FUNCIONAMIENTO DEL RBOL BINARIO:</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a><span class="sd">    - Se ordena alfabticamente por nombre del Apu</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a><span class="sd">    - Al insertar: nombres menores van a la izquierda, mayores a la derecha</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a><span class="sd">    - Al buscar: compara alfabticamente y navega por el rbol</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a><span class="sd">    - Al recorrer: visita izquierda  raz  derecha (orden alfabtico)</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a><span class="sd">    - Al cambiar de nivel: se mueve automticamente segn la comparacin alfabtica</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">raiz</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a>    
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">insertar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">):</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inserta un nuevo Apu en el rbol binario ordenado alfabticamente&quot;&quot;&quot;</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">raiz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">raiz</span> <span class="o">=</span> <span class="n">NodoApu</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>  <span class="c1"># # INSERTAR APU: Raz del rbol</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_insertar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a>    
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_insertar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodo</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">):</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Mtodo recursivo para insertar un Apu - ORDENA ALFABTICAMENTE&quot;&quot;&quot;</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a>        <span class="k">if</span> <span class="n">nombre</span> <span class="o">&lt;</span> <span class="n">nodo</span><span class="o">.</span><span class="n">nombre</span><span class="p">:</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a>            <span class="k">if</span> <span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a>                <span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span> <span class="o">=</span> <span class="n">NodoApu</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>  <span class="c1"># # INSERTAR APU: Hijo izquierdo</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_insertar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a>        <span class="k">elif</span> <span class="n">nombre</span> <span class="o">&gt;</span> <span class="n">nodo</span><span class="o">.</span><span class="n">nombre</span><span class="p">:</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a>            <span class="k">if</span> <span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a>                <span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span> <span class="o">=</span> <span class="n">NodoApu</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>  <span class="c1"># # INSERTAR APU: Hijo derecho</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_insertar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a>    
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">buscar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">):</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Busca un Apu por su nombre en el rbol - NAVEGA POR NIVELES&quot;&quot;&quot;</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buscar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="n">nombre</span><span class="p">)</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a>    
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_buscar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodo</span><span class="p">,</span> <span class="n">nombre</span><span class="p">):</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Mtodo recursivo para buscar un Apu - RECORRE NIVELES DEL RBOL&quot;&quot;&quot;</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a>        <span class="k">if</span> <span class="n">nodo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a>        <span class="k">if</span> <span class="n">nodo</span><span class="o">.</span><span class="n">nombre</span> <span class="o">==</span> <span class="n">nombre</span><span class="p">:</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a>            <span class="k">return</span> <span class="n">nodo</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a>        <span class="k">elif</span> <span class="n">nombre</span> <span class="o">&lt;</span> <span class="n">nodo</span><span class="o">.</span><span class="n">nombre</span><span class="p">:</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buscar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span><span class="p">,</span> <span class="n">nombre</span><span class="p">)</span>  <span class="c1"># Baja al nivel izquierdo</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buscar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span><span class="p">,</span> <span class="n">nombre</span><span class="p">)</span>  <span class="c1"># Baja al nivel derecho</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a>    
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">recorrer_inorden</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Recorre el rbol en orden (izquierda, raz, derecha) - ORDEN ALFABTICO&quot;&quot;&quot;</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>        <span class="n">apus_ordenados</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_inorden_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="n">apus_ordenados</span><span class="p">)</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a>        <span class="k">return</span> <span class="n">apus_ordenados</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a>    
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_inorden_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodo</span><span class="p">,</span> <span class="n">lista</span><span class="p">):</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Recorrido inorden recursivo - VISITA TODOS LOS NIVELES&quot;&quot;&quot;</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a>        <span class="k">if</span> <span class="n">nodo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_inorden_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span><span class="p">,</span> <span class="n">lista</span><span class="p">)</span>  <span class="c1"># Recorre subrbol izquierdo</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a>            <span class="n">lista</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nodo</span><span class="p">)</span>  <span class="c1"># Procesa nodo actual</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_inorden_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span><span class="p">,</span> <span class="n">lista</span><span class="p">)</span>  <span class="c1"># Recorre subrbol derecho</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a>    
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">obtener_apu_por_indice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indice</span><span class="p">):</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtiene un Apu por su ndice en el recorrido inorden&quot;&quot;&quot;</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a>        <span class="n">apus_ordenados</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recorrer_inorden</span><span class="p">()</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a>        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">indice</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">apus_ordenados</span><span class="p">):</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a>            <span class="k">return</span> <span class="n">apus_ordenados</span><span class="p">[</span><span class="n">indice</span><span class="p">]</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a>    
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">obtener_datos_apu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">):</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtiene los datos de un Apu por su nombre&quot;&quot;&quot;</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a>        <span class="n">nodo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">buscar</span><span class="p">(</span><span class="n">nombre</span><span class="p">)</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a>        <span class="k">if</span> <span class="n">nodo</span><span class="p">:</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a>            <span class="k">return</span> <span class="n">nodo</span><span class="o">.</span><span class="n">datos</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a>    
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">mostrar_arbol</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Muestra la estructura del rbol (para debugging)&quot;&quot;&quot;</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== RBOL BINARIO DE APUS ===&quot;</span><span class="p">)</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mostrar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total de Apus: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a>    
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_mostrar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodo</span><span class="p">,</span> <span class="n">nivel</span><span class="p">):</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Muestra recursivamente la estructura del rbol - MUESTRA NIVELES&quot;&quot;&quot;</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a>        <span class="k">if</span> <span class="n">nodo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_mostrar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span><span class="p">,</span> <span class="n">nivel</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  &quot;</span> <span class="o">*</span> <span class="n">nivel</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">nodo</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">nodo</span><span class="o">.</span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;bioma&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_mostrar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span><span class="p">,</span> <span class="n">nivel</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a><span class="c1"># ================== CLASES ESPECFICAS PARA CADA APU CON SU BIOMA ==================</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuBase</span><span class="p">:</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase base para todos los Apus</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a><span class="sd">    Atributos:</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a><span class="sd">        nombre (str): Nombre del Apu.</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a><span class="sd">        color (tuple[int, int, int]): Color representativo del Apu en RGB.</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a><span class="sd">        health (int): Nivel de salud del Apu.</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a><span class="sd">        bioma (str): Tipo de bioma donde se encuentra el Apu.</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a><span class="sd">        gif (str): Nombre del archivo GIF que representa al Apu.</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a><span class="sd">        illas_robadas (list[str]): Objetos robados por el Apu.</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a><span class="sd">        altura (int): Altura en metros.</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a><span class="sd">        caracteristicas (list[str]): Caractersticas principales del Apu.</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a><span class="sd">    </span>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">health</span><span class="p">,</span> <span class="n">bioma</span><span class="p">,</span> <span class="n">gif</span><span class="p">):</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa un Apu con sus atributos principales.&quot;&quot;&quot;</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">=</span> <span class="n">nombre</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">health</span> <span class="o">=</span> <span class="n">health</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bioma</span> <span class="o">=</span> <span class="n">bioma</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">gif</span> <span class="o">=</span> <span class="n">gif</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a>    
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_datos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Retorna los datos del Apu en formato compatible con el rbol binario&quot;&quot;&quot;</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a>            <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a>            <span class="s2">&quot;health&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">health</span><span class="p">,</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a>            <span class="s2">&quot;bioma&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">bioma</span><span class="p">,</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a>            <span class="s2">&quot;gif&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">gif</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a>        <span class="p">}</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuHuascaran</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Huascarn - Montaa Nevada&quot;&quot;&quot;</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Huascarn&quot;</span><span class="p">,</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Montaa Nevada&quot;</span><span class="p">,</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Huascaran.gif&quot;</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a>        <span class="p">)</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Tumi&quot;</span><span class="p">,</span> <span class="s2">&quot;Chacana&quot;</span><span class="p">]</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6768</span>  <span class="c1"># metros</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Pico ms alto del Per&quot;</span><span class="p">,</span> <span class="s2">&quot;Nevado permanente&quot;</span><span class="p">,</span> <span class="s2">&quot;Parque Nacional&quot;</span><span class="p">]</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuCoropuna</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Coropuna - Glaciar&quot;&quot;&quot;</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Coropuna&quot;</span><span class="p">,</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Glaciar&quot;</span><span class="p">,</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a>        <span class="p">)</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Perro Viringo&quot;</span><span class="p">,</span> <span class="s2">&quot;Cuy&quot;</span><span class="p">]</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6425</span>  <span class="c1"># metros</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn extinto&quot;</span><span class="p">,</span> <span class="s2">&quot;Glaciar extenso&quot;</span><span class="p">,</span> <span class="s2">&quot;Reserva natural&quot;</span><span class="p">]</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuMisti</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Misti - Volcn&quot;&quot;&quot;</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Misti&quot;</span><span class="p">,</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">85</span><span class="p">,</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn&quot;</span><span class="p">,</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Misti.png&quot;</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a>        <span class="p">)</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Illa&quot;</span><span class="p">,</span> <span class="s2">&quot;Torito&quot;</span><span class="p">]</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5822</span>  <span class="c1"># metros</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn activo&quot;</span><span class="p">,</span> <span class="s2">&quot;Cerca de Arequipa&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma cnica perfecta&quot;</span><span class="p">]</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuAmpato</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Ampato - Altiplano&quot;&quot;&quot;</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Ampato&quot;</span><span class="p">,</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">95</span><span class="p">,</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Altiplano&quot;</span><span class="p">,</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Ampato.png&quot;</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a>        <span class="p">)</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Qullqi&quot;</span><span class="p">,</span> <span class="s2">&quot;Quispe&quot;</span><span class="p">]</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6288</span>  <span class="c1"># metros</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn inactivo&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de altiplano&quot;</span><span class="p">,</span> <span class="s2">&quot;Clima fro&quot;</span><span class="p">]</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuSaraSara</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Sara Sara - Volcn Andino&quot;&quot;&quot;</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Sara Sara&quot;</span><span class="p">,</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">88</span><span class="p">,</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn Andino&quot;</span><span class="p">,</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;SaraSara.png&quot;</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a>        <span class="p">)</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Papa&quot;</span><span class="p">,</span> <span class="s2">&quot;Maz&quot;</span><span class="p">]</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5505</span>  <span class="c1"># metros</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn andino&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Ayacucho&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma cnica&quot;</span><span class="p">]</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuSalkantay</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Salkantay - Selva Alta&quot;&quot;&quot;</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Salkantay&quot;</span><span class="p">,</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Selva Alta&quot;</span><span class="p">,</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Salkantay.png&quot;</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a>        <span class="p">)</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Huashacara&quot;</span><span class="p">]</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6271</span>  <span class="c1"># metros</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Transicin a selva&quot;</span><span class="p">,</span> <span class="s2">&quot;Biodiversidad nica&quot;</span><span class="p">,</span> <span class="s2">&quot;Camino a Machu Picchu&quot;</span><span class="p">]</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuChachani</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Chachani - Desierto Alto&quot;&quot;&quot;</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Chachani&quot;</span><span class="p">,</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Desierto Alto&quot;</span><span class="p">,</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Chachani.png&quot;</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a>        <span class="p">)</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Qori&quot;</span><span class="p">,</span> <span class="s2">&quot;Chuo&quot;</span><span class="p">]</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6057</span>  <span class="c1"># metros</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn extinto&quot;</span><span class="p">,</span> <span class="s2">&quot;Desierto de altura&quot;</span><span class="p">,</span> <span class="s2">&quot;Arena volcnica&quot;</span><span class="p">]</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuCcarhuarazo</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Ccarhuarazo - Cordillera Central&quot;&quot;&quot;</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Ccarhuarazo&quot;</span><span class="p">,</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">92</span><span class="p">,</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Cordillera Central&quot;</span><span class="p">,</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>        <span class="p">)</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Cungalpo&quot;</span><span class="p">]</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5120</span>  <span class="c1"># metros</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Cordillera central&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Huancavelica&quot;</span><span class="p">,</span> <span class="s2">&quot;Nevado&quot;</span><span class="p">]</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuRasuwillka</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Rasuwillka - Montaa Sagrada&quot;&quot;&quot;</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Rasuwillka&quot;</span><span class="p">,</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">95</span><span class="p">,</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Montaa Sagrada&quot;</span><span class="p">,</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a>        <span class="p">)</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Hizanche&quot;</span><span class="p">]</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6000</span>  <span class="c1"># metros</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Montaa sagrada&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Cusco&quot;</span><span class="p">,</span> <span class="s2">&quot;Peregrinacin&quot;</span><span class="p">]</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuHualcaHualca</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Hualca Hualca - Volcn Nevado&quot;&quot;&quot;</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Hualca Hualca&quot;</span><span class="p">,</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">87</span><span class="p">,</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn Nevado&quot;</span><span class="p">,</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a>        <span class="p">)</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Calluha&quot;</span><span class="p">]</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6025</span>  <span class="c1"># metros</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn nevado&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Arequipa&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma cnica&quot;</span><span class="p">]</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuUarancante</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Uarancante - Pico Andino&quot;&quot;&quot;</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Uarancante&quot;</span><span class="p">,</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">89</span><span class="p">,</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Pico Andino&quot;</span><span class="p">,</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a>        <span class="p">)</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Inti&quot;</span><span class="p">]</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5800</span>  <span class="c1"># metros</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Pico andino&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Puno&quot;</span><span class="p">,</span> <span class="s2">&quot;Nevado&quot;</span><span class="p">]</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuAllincapac</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Allincapac - Montaa Dorada&quot;&quot;&quot;</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Allincapac&quot;</span><span class="p">,</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">215</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">93</span><span class="p">,</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Montaa Dorada&quot;</span><span class="p">,</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>        <span class="p">)</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Killa&quot;</span><span class="p">]</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5900</span>  <span class="c1"># metros</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Montaa dorada&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Apurmac&quot;</span><span class="p">,</span> <span class="s2">&quot;Sagrada&quot;</span><span class="p">]</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuKatunqui</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Katunqui - Volcn Inactivo&quot;&quot;&quot;</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Katunqui&quot;</span><span class="p">,</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">85</span><span class="p">,</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn Inactivo&quot;</span><span class="p">,</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a>        <span class="p">)</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Chaska&quot;</span><span class="p">]</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5700</span>  <span class="c1"># metros</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn inactivo&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Moquegua&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma redondeada&quot;</span><span class="p">]</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuPatallacta</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Patallacta - Ruinas Sagradas&quot;&quot;&quot;</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Patallacta&quot;</span><span class="p">,</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">139</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Ruinas Sagradas&quot;</span><span class="p">,</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a>        <span class="p">)</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Qullqi&quot;</span><span class="p">,</span> <span class="s2">&quot;Quispe&quot;</span><span class="p">]</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">2800</span>  <span class="c1"># metros</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Ruinas sagradas&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Cusco&quot;</span><span class="p">,</span> <span class="s2">&quot;Sitio arqueolgico&quot;</span><span class="p">]</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a><span class="c1"># ================== DATOS DEL JUEGO (COMPATIBILIDAD) ==================</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a><span class="sd">Diccionario de datos de los Apus para compatibilidad con otras partes del juego.</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a><span class="sd">Cada clave es el nombre del Apu y su valor es un diccionario con:</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a><span class="sd">    color (tuple[int, int, int]): Color RGB del Apu</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a><span class="sd">    health (int): Nivel de salud</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a><span class="sd">    bioma (str): Tipo de bioma</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a><span class="sd">    gif (str): Archivo GIF representativo</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a><span class="n">APUS_DATA</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a>    <span class="s2">&quot;Huascarn&quot;</span><span class="p">:</span> <span class="n">ApuHuascaran</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a>    <span class="s2">&quot;Coropuna&quot;</span><span class="p">:</span> <span class="n">ApuCoropuna</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a>    <span class="s2">&quot;Misti&quot;</span><span class="p">:</span> <span class="n">ApuMisti</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a>    <span class="s2">&quot;Ampato&quot;</span><span class="p">:</span> <span class="n">ApuAmpato</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a>    <span class="s2">&quot;Sara Sara&quot;</span><span class="p">:</span> <span class="n">ApuSaraSara</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a>    <span class="s2">&quot;Salkantay&quot;</span><span class="p">:</span> <span class="n">ApuSalkantay</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a>    <span class="s2">&quot;Chachani&quot;</span><span class="p">:</span> <span class="n">ApuChachani</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a>    <span class="s2">&quot;Ccarhuarazo&quot;</span><span class="p">:</span> <span class="n">ApuCcarhuarazo</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a>    <span class="s2">&quot;Rasuwillka&quot;</span><span class="p">:</span> <span class="n">ApuRasuwillka</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a>    <span class="s2">&quot;Hualca Hualca&quot;</span><span class="p">:</span> <span class="n">ApuHualcaHualca</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a>    <span class="s2">&quot;Uarancante&quot;</span><span class="p">:</span> <span class="n">ApuUarancante</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a>    <span class="s2">&quot;Allincapac&quot;</span><span class="p">:</span> <span class="n">ApuAllincapac</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a>    <span class="s2">&quot;Katunqui&quot;</span><span class="p">:</span> <span class="n">ApuKatunqui</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">(),</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a>    <span class="s2">&quot;Patallacta&quot;</span><span class="p">:</span> <span class="n">ApuPatallacta</span><span class="p">()</span><span class="o">.</span><span class="n">get_datos</span><span class="p">()</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a><span class="p">}</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a><span class="c1"># GIFs de fondo para cada escena/bioma (rutas actualizadas)</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a><span class="sd">BIOMA_GIFS: Lista de rutas de GIFs de fondo para cada bioma/escena.</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a><span class="sd">BIOMA_MUSIC: Lista de rutas de msica asociada a cada bioma/escena.</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a><span class="sd">Cada ndice corresponde al mismo bioma en ambas listas.</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a><span class="n">BIOMA_GIFS</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a>    <span class="s2">&quot;biomas/primerBio.gif&quot;</span><span class="p">,</span>                 <span class="c1"># Huascarn</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a>    <span class="s2">&quot;biomas/segundoBio.gif&quot;</span><span class="p">,</span>                <span class="c1"># Misti</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a>    <span class="s2">&quot;biomas/bioma3_glaciar.gif&quot;</span><span class="p">,</span>            <span class="c1"># Coropuna</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a>    <span class="s2">&quot;biomas/bioma4_altiplano.gif&quot;</span><span class="p">,</span>          <span class="c1"># Ampato</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a>    <span class="s2">&quot;biomas/bioma5_desierto_alto.gif&quot;</span><span class="p">,</span>      <span class="c1"># Chachani</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a>    <span class="s2">&quot;biomas/bioma6_volcan_activo.gif&quot;</span><span class="p">,</span>      <span class="c1"># Sabancaya</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a>    <span class="s2">&quot;biomas/bioma7_pico_nevado.gif&quot;</span><span class="p">,</span>        <span class="c1"># Alpamayo</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a>    <span class="s2">&quot;biomas/bioma8_cordillera.gif&quot;</span><span class="p">,</span>         <span class="c1"># Yerupaj</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a>    <span class="s2">&quot;biomas/bioma9_laguna_sagrada.gif&quot;</span><span class="p">,</span>     <span class="c1"># Ausangate</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a>    <span class="s2">&quot;biomas/bioma10_selva_alta.gif&quot;</span><span class="p">,</span>        <span class="c1"># Salkantay</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a>    <span class="s2">&quot;biomas/bioma11_valle_glaciar.gif&quot;</span><span class="p">,</span>     <span class="c1"># Chopicalqui</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a>    <span class="s2">&quot;biomas/bioma12_cima_suprema.gif&quot;</span>       <span class="c1"># Cotopaxi</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a><span class="p">]</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a><span class="c1"># Msica para cada bioma (rutas actualizadas)</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a><span class="n">BIOMA_MUSIC</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a>    <span class="s2">&quot;music/musica1.mp3&quot;</span><span class="p">,</span>          <span class="c1"># Huascarn</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a>    <span class="s2">&quot;music/musica_2.mp3&quot;</span><span class="p">,</span>         <span class="c1"># Misti</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a>    <span class="s2">&quot;music/musica3_coropuna.mp3&quot;</span><span class="p">,</span> <span class="c1"># Coropuna</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a>    <span class="s2">&quot;music/musica4_ampato.mp3&quot;</span><span class="p">,</span>  <span class="c1"># Ampato</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a>    <span class="s2">&quot;music/musica5_chachani.mp3&quot;</span><span class="p">,</span> <span class="c1"># Chachani</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a>    <span class="s2">&quot;music/musica6_sabancaya.mp3&quot;</span><span class="p">,</span> <span class="c1"># Sabancaya</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a>    <span class="s2">&quot;music/musica7_alpamayo.mp3&quot;</span><span class="p">,</span> <span class="c1"># Alpamayo</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a>    <span class="s2">&quot;music/musica8_yerupaja.mp3&quot;</span><span class="p">,</span> <span class="c1"># Yerupaj</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a>    <span class="s2">&quot;music/musica9_ausangate.mp3&quot;</span><span class="p">,</span> <span class="c1"># Ausangate</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a>    <span class="s2">&quot;music/musica10_salkantay.mp3&quot;</span><span class="p">,</span> <span class="c1"># Salkantay</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a>    <span class="s2">&quot;music/musica11_chopicalqui.mp3&quot;</span><span class="p">,</span> <span class="c1"># Chopicalqui</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a>    <span class="s2">&quot;music/musica12_cotopaxi.mp3&quot;</span> <span class="c1"># Cotopaxi</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a><span class="p">]</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a><span class="c1"># ================== ARRAYS/LISTAS DONDE SE GUARDAN LAS ILLAS ==================</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a><span class="c1">#  ILLAS_ROBADAS_POR_ESCENA: Array principal donde se guardan las illas por escena</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a><span class="c1">#  ILLAS_GIFS: Diccionario que mapea cada illa con su archivo GIF</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a><span class="c1">#  player.articulos_collected: Lista donde se guardan las illas recolectadas por el jugador</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a><span class="c1"># Illas robadas divididas entre los 14 Apus (19 artculos total)</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a><span class="sd">ILLAS_ROBADAS_POR_ESCENA: Lista principal donde se almacenan las illas robadas por cada escena.</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a><span class="sd">Cada elemento de la lista representa una escena y contiene otra lista con los nombres de las illas robadas en esa escena.</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a><span class="sd">Ejemplo de uso:</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a><span class="sd">    # Obtener las illas de la escena 1 (Huascarn)</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a><span class="sd">    illas_escena1 = ILLAS_ROBADAS_POR_ESCENA[0]</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a><span class="sd">    print(illas_escena1)  # Output: [&quot;Tumi&quot;, &quot;Chacana&quot;]</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a><span class="sd">Notas:</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a><span class="sd">    - Los ndices de la lista corresponden a la escena:</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a><span class="sd">        0  Escena 1: Huascarn</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a><span class="sd">        1  Escena 2: Coropuna</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a><span class="sd">        2  Escena 3: Misti</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a><span class="sd">        3  Escena 4: Ampato</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a><span class="sd">        4  Escena 5: Sara Sara</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a><span class="sd">        5  Escena 6: Salkantay</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a><span class="sd">        6  Escena 7: Chachani</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a><span class="sd">        7  Escena 8: Ccarhuarazo</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a><span class="sd">        8  Escena 9: Rasuwillka</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a><span class="sd">        9  Escena 10: Hualca Hualca</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a><span class="sd">        10  Escena 11: Uarancante</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a><span class="sd">        11  Escena 12: Allincapac</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a><span class="sd">        12  Escena 13: Katunqui</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a><span class="sd">        13  Escena 14: Patallacta</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a><span class="sd">    - Cada sublista puede contener una o varias illas (strings).</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a><span class="sd">    - Se reutilizan nombres de illas si es necesario (por ejemplo, &quot;Tumi&quot; en Escena 14).</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a><span class="n">ILLAS_ROBADAS_POR_ESCENA</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a>    <span class="c1"># Escena 1 - Huascarn (2 illas)</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a>    <span class="p">[</span><span class="s2">&quot;Tumi&quot;</span><span class="p">,</span> <span class="s2">&quot;Chacana&quot;</span><span class="p">],</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a>    <span class="c1"># Escena 2 - Coropuna (2 illas)</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a>    <span class="p">[</span><span class="s2">&quot;Perro Viringo&quot;</span><span class="p">,</span> <span class="s2">&quot;Cuy&quot;</span><span class="p">],</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a>    <span class="c1"># Escena 3 - Misti (2 illas)  </span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a>    <span class="p">[</span><span class="s2">&quot;Illa&quot;</span><span class="p">,</span> <span class="s2">&quot;Torito&quot;</span><span class="p">],</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a>    <span class="c1"># Escena 4 - Ampato (2 illas)</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>    <span class="p">[</span><span class="s2">&quot;Qullqi&quot;</span><span class="p">,</span> <span class="s2">&quot;Quispe&quot;</span><span class="p">],</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a>    <span class="c1"># Escena 5 - Sara Sara (2 illas)</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a>    <span class="p">[</span><span class="s2">&quot;Papa&quot;</span><span class="p">,</span> <span class="s2">&quot;Maz&quot;</span><span class="p">],</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a>    <span class="c1"># Escena 6 - Salkantay (1 illa)</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a>    <span class="p">[</span><span class="s2">&quot;Huashacara&quot;</span><span class="p">],</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a>    <span class="c1"># Escena 7 - Chachani (2 illas)</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a>    <span class="p">[</span><span class="s2">&quot;Qori&quot;</span><span class="p">,</span> <span class="s2">&quot;Chuo&quot;</span><span class="p">],</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a>    <span class="c1"># Escena 8 - Ccarhuarazo (1 illa)</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a>    <span class="p">[</span><span class="s2">&quot;Cungalpo&quot;</span><span class="p">],</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a>    <span class="c1"># Escena 9 - Rasuwillka (1 illa)</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a>    <span class="p">[</span><span class="s2">&quot;Hizanche&quot;</span><span class="p">],</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a>    <span class="c1"># Escena 10 - Hualca Hualca (1 illa)</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a>    <span class="p">[</span><span class="s2">&quot;Calluha&quot;</span><span class="p">],</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a>    <span class="c1"># Escena 11 - Uarancante (1 illa)</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a>    <span class="p">[</span><span class="s2">&quot;Inti&quot;</span><span class="p">],</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a>    <span class="c1"># Escena 12 - Allincapac (1 illa)</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a>    <span class="p">[</span><span class="s2">&quot;Killa&quot;</span><span class="p">],</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a>    <span class="c1"># Escena 13 - Katunqui (1 illa)</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a>    <span class="p">[</span><span class="s2">&quot;Chaska&quot;</span><span class="p">],</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a>    <span class="c1"># Escena 14 - Patallacta (1 illa)</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a>    <span class="p">[</span><span class="s2">&quot;Tumi&quot;</span><span class="p">]</span>  <span class="c1"># Reutilizando Tumi para completar</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a><span class="p">]</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a><span class="c1"># GIFs para cada illa robada (rutas actualizadas)</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a><span class="sd">ILLAS_GIFS: Diccionario que mapea el nombre de cada illa robada a su archivo GIF correspondiente.</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a><span class="sd">Formato:</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a><span class="sd">    { &quot;nombre_illa&quot; (str) : &quot;ruta_del_gif&quot; (str) }</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a><span class="sd">Ejemplo de uso:</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a><span class="sd">    # Obtener la ruta del GIF de la illa &quot;Tumi&quot;</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a><span class="sd">    ruta_tumi = ILLAS_GIFS[&quot;Tumi&quot;]</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a><span class="sd">    print(ruta_tumi)  # Output: &quot;illas/tumi.gif&quot;</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a><span class="sd">Notas:</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a><span class="sd">    - Cada clave debe coincidir con el nombre usado en ILLAS_ROBADAS_POR_ESCENA.</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a><span class="sd">    - Los valores son rutas relativas a la carpeta del proyecto.</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a><span class="sd">    - Se deben actualizar las rutas si se cambia la ubicacin de los GIFs.</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a><span class="n">ILLAS_GIFS</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a>    <span class="s2">&quot;Tumi&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/tumi.gif&quot;</span><span class="p">,</span>   
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a>    <span class="s2">&quot;Chacana&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/chacana.gif&quot;</span><span class="p">,</span> 
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a>    <span class="s2">&quot;Illa&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/illa.gif&quot;</span><span class="p">,</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>    <span class="s2">&quot;Torito&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/torito.gif&quot;</span><span class="p">,</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a>    <span class="s2">&quot;Perro Viringo&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/perro_viringo.gif&quot;</span><span class="p">,</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a>    <span class="s2">&quot;Cuy&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/cuy.gif&quot;</span><span class="p">,</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a>    <span class="s2">&quot;Qullqi&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/qullqi.gif&quot;</span><span class="p">,</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a>    <span class="s2">&quot;Quispe&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/quispe.gif&quot;</span><span class="p">,</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a>    <span class="s2">&quot;Qori&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/qori.gif&quot;</span><span class="p">,</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a>    <span class="s2">&quot;Chuo&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/chuno.gif&quot;</span><span class="p">,</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a>    <span class="s2">&quot;Papa&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/papa.gif&quot;</span><span class="p">,</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a>    <span class="s2">&quot;Maz&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/maiz.gif&quot;</span><span class="p">,</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a>    <span class="s2">&quot;Calluha&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/calluha.gif&quot;</span><span class="p">,</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a>    <span class="s2">&quot;Cungalpo&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/cungalpo.gif&quot;</span><span class="p">,</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a>    <span class="s2">&quot;Hizanche&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/hizanche.gif&quot;</span><span class="p">,</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a>    <span class="s2">&quot;Huashacara&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/huashacara.gif&quot;</span><span class="p">,</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a>    <span class="s2">&quot;Inti&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/inti.gif&quot;</span><span class="p">,</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a>    <span class="s2">&quot;Killa&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/killa.gif&quot;</span><span class="p">,</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a>    <span class="s2">&quot;Chaska&quot;</span><span class="p">:</span> <span class="s2">&quot;illas/chaska.gif&quot;</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a><span class="p">}</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a><span class="c1"># ================== CARGA DE PREGUNTAS DESDE JSON ==================</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a><span class="sd">Funciones para cargar preguntas desde un archivo JSON y proporcionar preguntas por defecto.</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a><span class="sd">Funciones:</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a><span class="sd">    cargar_preguntas_desde_json() -&gt; list[dict]:</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a><span class="sd">        Intenta cargar las preguntas desde &quot;preguntas.json&quot;.</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a><span class="sd">        Cada pregunta es un diccionario con la siguiente estructura:</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a><span class="sd">            - &quot;apu&quot; (str): Nombre del Apu relacionado con la pregunta.</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a><span class="sd">            - &quot;pregunta&quot; (str): Texto de la pregunta.</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a><span class="sd">            - &quot;opciones&quot; (list[str]): Lista de opciones posibles.</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a><span class="sd">            - &quot;respuesta_correcta&quot; (int): ndice de la opcin correcta en la lista.</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a><span class="sd">        </span>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a><span class="sd">        Comportamiento:</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a><span class="sd">            - Si el archivo JSON no existe, imprime un mensaje con errory devuelve las preguntas por defecto.</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a><span class="sd">            - Si ocurre cualquier otro error, tambin imprime un mensaje con error y devuelve las preguntas por defecto.</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a><span class="sd">            - Si se carga correctamente, imprime un mensaje de OK indicando cuntas preguntas se cargaron.</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a><span class="sd">    </span>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a><span class="sd">    preguntas_por_defecto() -&gt; list[dict]:</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a><span class="sd">        Devuelve una lista de preguntas predefinidas en caso de error o archivo inexistente.</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a><span class="sd">        Cada pregunta sigue la misma estructura de diccionario indicada arriba.</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a><span class="sd">Ejemplo de uso:</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a><span class="sd">    preguntas = cargar_preguntas_desde_json()</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a><span class="sd">    print(preguntas[0][&quot;pregunta&quot;])</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a><span class="k">def</span><span class="w"> </span><span class="nf">cargar_preguntas_desde_json</span><span class="p">():</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Carga las preguntas desde el archivo preguntas.json&quot;&quot;&quot;</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;preguntas.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">archivo</span><span class="p">:</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>            <span class="n">datos</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">archivo</span><span class="p">)</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a>            <span class="n">preguntas</span> <span class="o">=</span> <span class="n">datos</span><span class="p">[</span><span class="s2">&quot;preguntas&quot;</span><span class="p">]</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cargadas </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">preguntas</span><span class="p">)</span><span class="si">}</span><span class="s2"> preguntas desde preguntas.json&quot;</span><span class="p">)</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a>            <span class="k">return</span> <span class="n">preguntas</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a>    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Archivo preguntas.json no encontrado, usando preguntas por defecto&quot;</span><span class="p">)</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a>        <span class="k">return</span> <span class="n">preguntas_por_defecto</span><span class="p">()</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error cargando preguntas.json: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">, usando preguntas por defecto&quot;</span><span class="p">)</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a>        <span class="k">return</span> <span class="n">preguntas_por_defecto</span><span class="p">()</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a><span class="k">def</span><span class="w"> </span><span class="nf">preguntas_por_defecto</span><span class="p">():</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Preguntas por defecto en caso de error&quot;&quot;&quot;</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a>    <span class="k">return</span> <span class="p">[</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a>        <span class="p">{</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a>            <span class="s2">&quot;apu&quot;</span><span class="p">:</span> <span class="s2">&quot;Huascarn&quot;</span><span class="p">,</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a>            <span class="s2">&quot;pregunta&quot;</span><span class="p">:</span> <span class="s2">&quot;Qu civilizacin es conocida por sus impresionantes lneas trazadas en el desierto que solo pueden verse desde el aire?&quot;</span><span class="p">,</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a>            <span class="s2">&quot;opciones&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Mochica&quot;</span><span class="p">,</span> <span class="s2">&quot;Nazca&quot;</span><span class="p">,</span> <span class="s2">&quot;Chavn&quot;</span><span class="p">,</span> <span class="s2">&quot;Wari&quot;</span><span class="p">],</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a>            <span class="s2">&quot;respuesta_correcta&quot;</span><span class="p">:</span> <span class="mi">1</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>        <span class="p">},</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a>        <span class="p">{</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a>            <span class="s2">&quot;apu&quot;</span><span class="p">:</span> <span class="s2">&quot;Misti&quot;</span><span class="p">,</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a>            <span class="s2">&quot;pregunta&quot;</span><span class="p">:</span> <span class="s2">&quot;Cul fue la capital del Imperio Inca?&quot;</span><span class="p">,</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a>            <span class="s2">&quot;opciones&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Cusco&quot;</span><span class="p">,</span> <span class="s2">&quot;Machu Picchu&quot;</span><span class="p">,</span> <span class="s2">&quot;Ollantaytambo&quot;</span><span class="p">,</span> <span class="s2">&quot;Sacsayhuamn&quot;</span><span class="p">],</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a>            <span class="s2">&quot;respuesta_correcta&quot;</span><span class="p">:</span> <span class="mi">0</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a>        <span class="p">}</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a>    <span class="p">]</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a><span class="c1"># Cargar preguntas al inicio</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a><span class="n">PREGUNTAS_APUS</span> <span class="o">=</span> <span class="n">cargar_preguntas_desde_json</span><span class="p">()</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a><span class="c1"># ================== FUNCIONES ==================</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a><span class="k">def</span><span class="w"> </span><span class="nf">load_gif_frames</span><span class="p">(</span><span class="n">gif_path</span><span class="p">):</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Carga todos los frames de un GIF como superficies pygame</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a><span class="sd">    </span>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a><span class="sd">    Args:</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a><span class="sd">        gif_path (str): Ruta del archivo GIF.</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a><span class="sd">    Returns:</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a><span class="sd">        list[pygame.Surface] | None: Lista de superficies Pygame de cada frame, o None si ocurre un error.</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a><span class="sd">    Notas:</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a><span class="sd">        - Convierte el GIF a modo RGBA si es necesario.</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a><span class="sd">        - til para animaciones de sprites.</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a><span class="sd">        - Los errores se imprimen en consola.</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a><span class="sd">    </span>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a>        <span class="n">gif</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a>        <span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>        <span class="k">for</span> <span class="n">frame_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">gif</span><span class="o">.</span><span class="n">n_frames</span><span class="p">):</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>            <span class="n">gif</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">frame_num</span><span class="p">)</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a>            <span class="n">frame</span> <span class="o">=</span> <span class="n">gif</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a>            <span class="k">if</span> <span class="n">frame</span><span class="o">.</span><span class="n">mode</span> <span class="o">!=</span> <span class="s2">&quot;RGBA&quot;</span><span class="p">:</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a>                <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">)</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a>            <span class="n">frame_surface</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">tobytes</span><span class="p">(),</span> <span class="n">frame</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="s2">&quot;RGBA&quot;</span><span class="p">)</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a>            <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame_surface</span><span class="p">)</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a>        <span class="k">return</span> <span class="n">frames</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error cargando GIF </span><span class="si">{</span><span class="n">gif_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a><span class="k">def</span><span class="w"> </span><span class="nf">load_music</span><span class="p">(</span><span class="n">music_path</span><span class="p">):</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Carga msica de fondo</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a><span class="sd">    </span>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a><span class="sd">    Args:</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a><span class="sd">        music_path (str): Ruta del archivo de msica.</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a><span class="sd">    Returns:</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a><span class="sd">        bool: True si se carg correctamente, False si no existe el archivo o hubo error.</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a><span class="sd">    Notas:</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a><span class="sd">        - No reproduce la msica, solo la carga.</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a><span class="sd">    </span>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">music_path</span><span class="p">):</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">music_path</span><span class="p">)</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error cargando msica </span><span class="si">{</span><span class="n">music_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a><span class="k">def</span><span class="w"> </span><span class="nf">play_music</span><span class="p">(</span><span class="n">music_path</span><span class="p">,</span> <span class="n">loop</span><span class="o">=-</span><span class="mi">1</span><span class="p">):</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Reproduce msica de fondo</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a><span class="sd">    </span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a><span class="sd">    Args:</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a><span class="sd">        music_path (str): Ruta del archivo de msica.</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a><span class="sd">        loop (int, opcional): Nmero de veces que se repite la msica. -1 = loop infinito. Default: -1.</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a><span class="sd">    Returns:</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a><span class="sd">        bool: True si se reproduce correctamente, False si hay error.</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a><span class="sd">    Notas:</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a><span class="sd">        - Llama internamente a load_music.</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a><span class="sd">        - Maneja errores y los imprime en consola.</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a><span class="sd">    </span>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a>        <span class="k">if</span> <span class="n">load_music</span><span class="p">(</span><span class="n">music_path</span><span class="p">):</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">loop</span><span class="p">)</span>  <span class="c1"># -1 = loop infinito</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error reproduciendo msica: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a><span class="k">def</span><span class="w"> </span><span class="nf">stop_music</span><span class="p">():</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Detiene la msica de fondo&quot;&quot;&quot;</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a>    <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a><span class="k">def</span><span class="w"> </span><span class="nf">draw_pixelated_hearts</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">lives</span><span class="p">,</span> <span class="n">max_lives</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Dibuja corazones pixelados estilo Minecraft</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a><span class="sd">    </span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a><span class="sd">    Args:</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a><span class="sd">        screen (pygame.Surface): Pantalla o superficie donde se dibujan los corazones.</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a><span class="sd">        lives (int): Nmero actual de vidas.</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a><span class="sd">        max_lives (int): Nmero mximo de vidas.</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a><span class="sd">        x (int): Coordenada X inicial para dibujar el primer corazn.</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a><span class="sd">        y (int): Coordenada Y inicial para dibujar los corazones.</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a><span class="sd">    Notas:</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a><span class="sd">        - Los corazones llenos se dibujan en rojo, los vacos en gris.</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a><span class="sd">        - Cada corazn se dibuja usando varios rectngulos para dar efecto pixelado.</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a><span class="sd">        - til para HUD de vidas en el juego.</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a><span class="sd">    </span>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a>    <span class="n">heart_size</span> <span class="o">=</span> <span class="mi">20</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a>    <span class="n">spacing</span> <span class="o">=</span> <span class="mi">25</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a>    
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_lives</span><span class="p">):</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a>        <span class="n">heart_x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">spacing</span><span class="p">)</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a>        <span class="n">heart_y</span> <span class="o">=</span> <span class="n">y</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a>        
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">lives</span><span class="p">:</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a>            <span class="n">color</span> <span class="o">=</span> <span class="n">GRAY</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a>            <span class="n">color</span> <span class="o">=</span> <span class="n">RED</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a>        
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a>        <span class="c1"># Dibujar corazn pixelado</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">12</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">6</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">8</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a>        
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a><span class="c1"># ================== MEN E INSTRUCCIONES ==================</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a><span class="c1"># Las clases MainMenu e InstructionsScreen ahora estn en menu.py</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a><span class="c1"># para mantener el cdigo ms organizado y modular</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a><span class="c1"># ================== CLASES DEL JUEGO ==================</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Player</span><span class="p">:</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a><span class="sd">    Clase que representa al jugador Ekeko.</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a>
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a><span class="sd">    Atributos:</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a><span class="sd">        x (int): Posicin inicial en X.</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a><span class="sd">        y (int): Posicin inicial en Y.</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a><span class="sd">        frames (list[pygame.Surface]): Frames de animacin del jugador.</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a><span class="sd">        image (pygame.Surface): Frame actual a dibujar.</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a><span class="sd">        rect (pygame.Rect): Rectngulo para posicin y colisiones.</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a><span class="sd">        speed (int): Velocidad de movimiento horizontal.</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a><span class="sd">        vel_x (float): Velocidad actual horizontal.</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a><span class="sd">        vel_y (float): Velocidad actual vertical.</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a><span class="sd">        on_ground (bool): True si el jugador est en el suelo.</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a><span class="sd">        gravity (float): Fuerza de gravedad.</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a><span class="sd">        jump_strength (float): Fuerza de salto.</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a><span class="sd">        facing_right (bool): Direccin hacia la que mira el jugador.</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a><span class="sd">        walking (bool): True si est caminando.</span>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a><span class="sd">        frame_index (int): ndice del frame de animacin actual.</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a><span class="sd">        animation_speed (float): Velocidad de animacin.</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a><span class="sd">        animation_timer (float): Temporizador de animacin.</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a><span class="sd">        lives (int): Vidas actuales.</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a><span class="sd">        max_lives (int): Mximo de vidas.</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a><span class="sd">        articulos_collected (list[str]): Lista de illas recolectadas.</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a><span class="sd">        font (pygame.Font): Fuente para mostrar el nombre.</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a><span class="sd">        collection_radius (int): Radio para recolectar illas cercanas.</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a><span class="sd">        mochila (MochilaVisual): Objeto que maneja la mochila visual.</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">gif_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scale_factor</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a><span class="sd">        Inicializa al jugador Ekeko.</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a><span class="sd">        </span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a><span class="sd">        Args:</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a><span class="sd">            x (int): Posicin inicial horizontal.</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a><span class="sd">            y (int): Posicin inicial vertical.</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a><span class="sd">            gif_path (str, opcional): Ruta al GIF de animacin del jugador.</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a><span class="sd">            scale_factor (float, opcional): Factor de escala de los sprites.</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">=</span> <span class="n">scale_factor</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a>        <span class="k">if</span> <span class="n">gif_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">gif_path</span><span class="p">):</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">*</span><span class="n">scale_factor</span><span class="p">),</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a>                                                          <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span><span class="o">*</span><span class="n">scale_factor</span><span class="p">)))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[:]</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">create_placeholder</span><span class="p">()</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_placeholder</span><span class="p">()</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">gravity</span> <span class="o">=</span> <span class="mf">0.8</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">jump_strength</span> <span class="o">=</span> <span class="o">-</span><span class="mi">15</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.2</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a>        
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a>        <span class="c1"># Sistema de vidas</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_lives</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a>        
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">articulos_collected</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a>        
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a>        <span class="c1"># Sistema de recoleccin por proximidad</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">collection_radius</span> <span class="o">=</span> <span class="mi">60</span>  <span class="c1"># Radio para recolectar illas</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mochila</span> <span class="o">=</span> <span class="n">MochilaVisual</span><span class="p">()</span>  <span class="c1"># Mochila visual</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_placeholder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Crea frames provisionales del jugador en colores slidos si no hay GIF disponible.&quot;&quot;&quot;</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a>        <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">40</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">)</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a>        <span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">60</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">)</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a>        <span class="n">colors</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">)]</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a>            <span class="n">frame</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a>            <span class="n">frame</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[:]</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la posicin, fsicas (gravedad y suelo) y la animacin del jugador.&quot;&quot;&quot;</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span><span class="p">:</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gravity</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">SCREEN_WIDTH</span><span class="p">:</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">SCREEN_WIDTH</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a>        <span class="n">ground_level</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">150</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;=</span> <span class="n">ground_level</span><span class="p">:</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">ground_level</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_animation</span><span class="p">()</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_animation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza el frame actual segn la animacin y direccin del jugador.&quot;&quot;&quot;</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span><span class="p">:</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span><span class="p">:</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span><span class="p">],</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span><span class="p">]</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot; BOTONES PARA MOVER AL PERSONAJE EKEKO:</span>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a><span class="sd">        - A: Mover hacia la izquierda</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a><span class="sd">        - D: Mover hacia la derecha</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a><span class="sd">        - W: Saltar</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a><span class="sd">        - J: Ver/Ocultar mochila (manejado en GameManager)</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a><span class="sd">        - : Navegar en preguntas (en QuestionScreen)</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a><span class="sd">        - ENTER: Confirmar respuesta (en QuestionScreen)</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a>        <span class="k">if</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_a</span><span class="p">]:</span>  <span class="c1">#  BOTN IZQUIERDA</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">speed</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a>        <span class="k">elif</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_d</span><span class="p">]:</span>  <span class="c1">#  BOTN DERECHA</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a>        <span class="k">if</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_w</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span><span class="p">:</span>  <span class="c1">#  BOTN SALTO</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">jump_strength</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">lose_life</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Resta una vida al jugador. Devuelve True si todava tiene vidas, False si perdi todas.&quot;&quot;&quot;</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_articulos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">articulos_list</span><span class="p">):</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Agrega a la lista de artculos recolectados y a la mochila visual los objetos indicados.&quot;&quot;&quot;</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="n">articulos_list</span><span class="p">:</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a>            <span class="k">if</span> <span class="n">articulo</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">:</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">articulos_collected</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">articulo</span><span class="p">)</span>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">agregar_illa</span><span class="p">(</span><span class="n">articulo</span><span class="p">)</span>  <span class="c1"># Agregar a la mochila visual</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Ekeko recolect: </span><span class="si">{</span><span class="n">articulo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a>    
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">check_collection_proximity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">articulos_list</span><span class="p">):</span>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Verificar si el jugador est cerca de alguna illa para recolectarla&quot;&quot;&quot;</span>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="n">articulos_list</span><span class="p">:</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a>                <span class="c1"># Calcular distancia entre el jugador y la illa</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a>                <span class="n">distance</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> 
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a>                                  <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a>                
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a>                <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collection_radius</span><span class="p">:</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a>                    <span class="c1"># Recolectar la illa</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a>                    <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">collect_articulos</span><span class="p">([</span><span class="n">articulo</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>                    <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibujar al jugador, su nombre y la mochila en la pantalla.&quot;&quot;&quot;</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a>        <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Ekeko&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a>        <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="mi">25</span><span class="p">))</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a>        
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a>        <span class="c1"># Dibujar la mochila</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Apu</span><span class="p">:</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase que representa a un Apu en el juego.&quot;&quot;&quot;</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">arbol_apus</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a><span class="sd">        Inicializa un Apu en el juego.</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a><span class="sd">        Args:</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a><span class="sd">            name (str): Nombre del Apu.</span>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a><span class="sd">            x (int): Posicin horizontal inicial.</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a><span class="sd">            y (int): Posicin vertical inicial.</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a><span class="sd">            scene_number (int, opcional): Nmero de la escena donde aparece.</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a><span class="sd">            arbol_apus (ArbolApus, opcional): rbol binario para obtener los datos del Apu.</span>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a><span class="sd">        Atributos:</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a><span class="sd">            data (dict): Datos del Apu (color, health, bioma, gif).</span>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a><span class="sd">            size (int): Tamao del Apu en pxeles.</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a><span class="sd">            health (int): Vida actual del Apu.</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a><span class="sd">            max_health (int): Vida mxima.</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a><span class="sd">            frames (list[pygame.Surface]): Frames de animacin del Apu.</span>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a><span class="sd">            image (pygame.Surface): Frame actual a mostrar.</span>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a><span class="sd">            rect (pygame.Rect): Rectngulo de colisin del Apu.</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a><span class="sd">            font (pygame.font.Font): Fuente para mostrar el nombre.</span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a>        <span class="c1"># Usar el rbol binario para obtener los datos del Apu</span>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a>        <span class="k">if</span> <span class="n">arbol_apus</span><span class="p">:</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">arbol_apus</span><span class="o">.</span><span class="n">obtener_datos_apu</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: No se encontr el Apu </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> en el rbol&quot;</span><span class="p">)</span>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">),</span> <span class="s2">&quot;health&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">&quot;bioma&quot;</span><span class="p">:</span> <span class="s2">&quot;Desconocido&quot;</span><span class="p">,</span> <span class="s2">&quot;gif&quot;</span><span class="p">:</span> <span class="s2">&quot;coropuna.gif&quot;</span><span class="p">}</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a>            <span class="c1"># Fallback a APUS_DATA si no se proporciona el rbol</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">APUS_DATA</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a>        <span class="c1"># Tamao de Apu: doble del tamao de Ekeko</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a>        <span class="c1"># Ekeko tiene scale_factor=0.1, as que su tamao base es 40*0.1 = 4, altura 60*0.1 = 6</span>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a>        <span class="c1"># Apu ser el doble: 80x120</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">160</span>  <span class="c1"># Doble del tamao original (80 -&gt; 160)</span>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">health</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;health&quot;</span><span class="p">]</span>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_health</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;health&quot;</span><span class="p">]</span>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">=</span> <span class="n">scene_number</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a>        <span class="n">apu_gif_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;apus/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;gif&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a>        <span class="k">if</span> <span class="n">apu_gif_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">apu_gif_path</span><span class="p">):</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">apu_gif_path</span><span class="p">)</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[:]</span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">])</span>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">]</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.15</span>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a><span class="sd">        Actualiza la animacin del Apu.</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a><span class="sd">        Cambia el frame segn el timer de animacin.</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">)</span>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span><span class="p">]</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a><span class="sd">        Dibuja al Apu en pantalla junto con su nombre.</span>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a><span class="sd">        Args:</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a><span class="sd">            screen (pygame.Surface): Pantalla donde dibujar.</span>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a>        <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Apu </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a>        <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="mi">25</span><span class="p">))</span>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">give_illas_to_player</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">):</span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;El Apu entrega las illas robadas al Ekeko</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a><span class="sd">        </span>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a><span class="sd">        Args:</span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a><span class="sd">            player (Player): Instancia del jugador.</span>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a><span class="sd">            scene_number (int): Escena actual para obtener las illas.</span>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a><span class="sd">        Returns:</span>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a><span class="sd">            list[str]: Lista de illas entregadas.</span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a><span class="sd">            &quot;&quot;&quot;</span>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a>        <span class="n">illas</span> <span class="o">=</span> <span class="n">ILLAS_ROBADAS_POR_ESCENA</span><span class="p">[</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; Apu </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> te entrega las illas sagradas: &quot;</span>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a>        
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a>        <span class="k">for</span> <span class="n">illa</span> <span class="ow">in</span> <span class="n">illas</span><span class="p">:</span>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a>            <span class="n">player</span><span class="o">.</span><span class="n">collect_articulos</span><span class="p">([</span><span class="n">illa</span><span class="p">])</span>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos">1036</span></a>            <span class="n">message</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">illa</span><span class="si">}</span><span class="s2">, &quot;</span>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos">1037</span></a>        
</span><span id="L-1038"><a href="#L-1038"><span class="linenos">1038</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; Gurdalas en tu bolsillo!&quot;</span>
</span><span id="L-1039"><a href="#L-1039"><span class="linenos">1039</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos">1040</span></a>        <span class="k">return</span> <span class="n">illas</span>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos">1041</span></a>
</span><span id="L-1042"><a href="#L-1042"><span class="linenos">1042</span></a>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos">1043</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Door</span><span class="p">:</span>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos">1044</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase que representa una puerta en el juego.&quot;&quot;&quot;</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos">1045</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos">1046</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la puerta con su posicin y estado cerrado.</span>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos">1047</span></a>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos">1048</span></a><span class="sd">        Args:</span>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos">1049</span></a><span class="sd">            x (int): Posicin horizontal de la puerta.</span>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos">1050</span></a><span class="sd">            y (int): Posicin vertical de la puerta.</span>
</span><span id="L-1051"><a href="#L-1051"><span class="linenos">1051</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos">1052</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos">1053</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1054"><a href="#L-1054"><span class="linenos">1054</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos">1055</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos">1056</span></a>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos">1057</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open_door</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos">1058</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Abre la puerta (cambia su estado a abierto).&quot;&quot;&quot;</span>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos">1059</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1060"><a href="#L-1060"><span class="linenos">1060</span></a>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos">1061</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1062"><a href="#L-1062"><span class="linenos">1062</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la animacin de apertura si la puerta est abierta.&quot;&quot;&quot;</span>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos">1063</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1064"><a href="#L-1064"><span class="linenos">1064</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">+=</span> <span class="mf">0.05</span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos">1065</span></a>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos">1066</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos">1067</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja la puerta en la pantalla.</span>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos">1068</span></a>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos">1069</span></a><span class="sd">        Muestra la puerta cerrada o abierta segn `is_open` y el progreso de `opening_animation`.</span>
</span><span id="L-1070"><a href="#L-1070"><span class="linenos">1070</span></a>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos">1071</span></a><span class="sd">        Args:</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos">1072</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la puerta.</span>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos">1073</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos">1074</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span><span class="p">:</span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos">1075</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">33</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos">1076</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-1077"><a href="#L-1077"><span class="linenos">1077</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">-</span> <span class="mi">15</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos">1078</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1079"><a href="#L-1079"><span class="linenos">1079</span></a>            <span class="n">open_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span><span class="p">))</span>
</span><span id="L-1080"><a href="#L-1080"><span class="linenos">1080</span></a>            <span class="k">if</span> <span class="n">open_width</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos">1081</span></a>                <span class="n">open_rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">open_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos">1082</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">33</span><span class="p">),</span> <span class="n">open_rect</span><span class="p">)</span>
</span><span id="L-1083"><a href="#L-1083"><span class="linenos">1083</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="n">open_rect</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos">1084</span></a>            
</span><span id="L-1085"><a href="#L-1085"><span class="linenos">1085</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
</span><span id="L-1086"><a href="#L-1086"><span class="linenos">1086</span></a>                <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Puerta Abierta!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GREEN</span><span class="p">)</span>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos">1087</span></a>                <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos">1088</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="L-1089"><a href="#L-1089"><span class="linenos">1089</span></a>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos">1090</span></a>
</span><span id="L-1091"><a href="#L-1091"><span class="linenos">1091</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Articulo</span><span class="p">:</span>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos">1092</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase que representa un artculo/illa recolectable en el juego.&quot;&quot;&quot;</span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos">1093</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos">1094</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa el artculo en la posicin (x, y).</span>
</span><span id="L-1095"><a href="#L-1095"><span class="linenos">1095</span></a>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos">1096</span></a><span class="sd">        Args:</span>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos">1097</span></a><span class="sd">            name (str): Nombre del artculo.</span>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos">1098</span></a><span class="sd">            x (int): Posicin horizontal.</span>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos">1099</span></a><span class="sd">            y (int): Posicin vertical.</span>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos">1100</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1101"><a href="#L-1101"><span class="linenos">1101</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos">1102</span></a>        <span class="c1"># Aumentar el tamao de las illas</span>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos">1103</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">50</span>  <span class="c1"># Aumentado de 30 a 50</span>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos">1104</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos">1105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos">1106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos">1107</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">float_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos">1108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span> <span class="o">=</span> <span class="n">y</span>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos">1109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">base_x</span> <span class="o">=</span> <span class="n">x</span>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos">1110</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Fuente ms grande</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos">1111</span></a>        
</span><span id="L-1112"><a href="#L-1112"><span class="linenos">1112</span></a>        <span class="c1"># Variables para animacin de giro y movimiento</span>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos">1113</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1114"><a href="#L-1114"><span class="linenos">1114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_speed</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Velocidad de giro</span>
</span><span id="L-1115"><a href="#L-1115"><span class="linenos">1115</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_radius</span> <span class="o">=</span> <span class="mi">15</span>  <span class="c1"># Radio de movimiento circular</span>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos">1116</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_speed</span> <span class="o">=</span> <span class="mf">0.05</span>  <span class="c1"># Velocidad de movimiento circular</span>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos">1117</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos">1118</span></a>        
</span><span id="L-1119"><a href="#L-1119"><span class="linenos">1119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos">1120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos">1121</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos">1122</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos">1123</span></a>        
</span><span id="L-1124"><a href="#L-1124"><span class="linenos">1124</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">ILLAS_GIFS</span><span class="p">:</span>
</span><span id="L-1125"><a href="#L-1125"><span class="linenos">1125</span></a>            <span class="n">gif_path</span> <span class="o">=</span> <span class="n">ILLAS_GIFS</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos">1126</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">gif_path</span><span class="p">):</span>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos">1127</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos">1128</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos">1129</span></a>                    <span class="c1"># Aumentar el tamao de los frames</span>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos">1130</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos">1131</span></a>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos">1132</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos">1133</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la animacin del artculo.</span>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos">1134</span></a>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos">1135</span></a><span class="sd">        Incluye:</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos">1136</span></a><span class="sd">            - Flotacin vertical</span>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos">1137</span></a><span class="sd">            - Movimiento circular</span>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos">1138</span></a><span class="sd">            - Rotacin</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos">1139</span></a><span class="sd">            - Animacin de frames si tiene GIF</span>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos">1140</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos">1141</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos">1142</span></a>            <span class="c1"># Animacin de flotacin vertical</span>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos">1143</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">float_timer</span> <span class="o">+=</span> <span class="mf">0.1</span>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos">1144</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mi">8</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">float_timer</span><span class="p">))</span>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos">1145</span></a>            
</span><span id="L-1146"><a href="#L-1146"><span class="linenos">1146</span></a>            <span class="c1"># Animacin de movimiento circular</span>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos">1147</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">move_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">move_speed</span>
</span><span id="L-1148"><a href="#L-1148"><span class="linenos">1148</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_x</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">move_radius</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">move_timer</span><span class="p">))</span>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos">1149</span></a>            
</span><span id="L-1150"><a href="#L-1150"><span class="linenos">1150</span></a>            <span class="c1"># Animacin de giro</span>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos">1151</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_speed</span>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos">1152</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">&gt;=</span> <span class="mi">360</span><span class="p">:</span>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos">1153</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos">1154</span></a>            
</span><span id="L-1155"><a href="#L-1155"><span class="linenos">1155</span></a>            <span class="c1"># Animacin de frames del GIF</span>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos">1156</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos">1157</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos">1158</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos">1159</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos">1160</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos">1161</span></a>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos">1162</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos">1163</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja el artculo en pantalla.</span>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos">1164</span></a>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos">1165</span></a><span class="sd">        Si tiene GIF, dibuja el frame actual rotado; </span>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos">1166</span></a><span class="sd">        si no, dibuja un crculo con efecto de rotacin.</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos">1167</span></a>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos">1168</span></a><span class="sd">        Args:</span>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos">1169</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja el artculo.</span>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos">1170</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos">1171</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos">1172</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos">1173</span></a>                <span class="c1"># Aplicar rotacin al frame actual</span>
</span><span id="L-1174"><a href="#L-1174"><span class="linenos">1174</span></a>                <span class="n">rotated_frame</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span><span class="p">)</span>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos">1175</span></a>                <span class="n">frame_rect</span> <span class="o">=</span> <span class="n">rotated_frame</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">)</span>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos">1176</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">rotated_frame</span><span class="p">,</span> <span class="n">frame_rect</span><span class="p">)</span>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos">1177</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos">1178</span></a>                <span class="c1"># Dibujar crculo con rotacin visual</span>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos">1179</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos">1180</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos">1181</span></a>                
</span><span id="L-1182"><a href="#L-1182"><span class="linenos">1182</span></a>                <span class="c1"># Dibujar efecto de giro con lneas</span>
</span><span id="L-1183"><a href="#L-1183"><span class="linenos">1183</span></a>                <span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span>
</span><span id="L-1184"><a href="#L-1184"><span class="linenos">1184</span></a>                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">45</span><span class="p">):</span>
</span><span id="L-1185"><a href="#L-1185"><span class="linenos">1185</span></a>                    <span class="n">angle_rad</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span><span class="p">)</span>
</span><span id="L-1186"><a href="#L-1186"><span class="linenos">1186</span></a>                    <span class="n">end_x</span> <span class="o">=</span> <span class="n">center_x</span> <span class="o">+</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle_rad</span><span class="p">))</span>
</span><span id="L-1187"><a href="#L-1187"><span class="linenos">1187</span></a>                    <span class="n">end_y</span> <span class="o">=</span> <span class="n">center_y</span> <span class="o">+</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle_rad</span><span class="p">))</span>
</span><span id="L-1188"><a href="#L-1188"><span class="linenos">1188</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="p">(</span><span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span><span class="p">),</span> <span class="p">(</span><span class="n">end_x</span><span class="p">,</span> <span class="n">end_y</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-1189"><a href="#L-1189"><span class="linenos">1189</span></a>            
</span><span id="L-1190"><a href="#L-1190"><span class="linenos">1190</span></a>            <span class="c1"># Texto con sombra para mejor visibilidad</span>
</span><span id="L-1191"><a href="#L-1191"><span class="linenos">1191</span></a>            <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-1192"><a href="#L-1192"><span class="linenos">1192</span></a>            <span class="n">text_shadow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">)</span>
</span><span id="L-1193"><a href="#L-1193"><span class="linenos">1193</span></a>            <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mi">15</span><span class="p">))</span>
</span><span id="L-1194"><a href="#L-1194"><span class="linenos">1194</span></a>            <span class="n">shadow_rect</span> <span class="o">=</span> <span class="n">text_shadow</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mi">16</span><span class="p">))</span>
</span><span id="L-1195"><a href="#L-1195"><span class="linenos">1195</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_shadow</span><span class="p">,</span> <span class="n">shadow_rect</span><span class="p">)</span>
</span><span id="L-1196"><a href="#L-1196"><span class="linenos">1196</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="L-1197"><a href="#L-1197"><span class="linenos">1197</span></a>
</span><span id="L-1198"><a href="#L-1198"><span class="linenos">1198</span></a><span class="k">class</span><span class="w"> </span><span class="nc">MochilaVisual</span><span class="p">:</span>
</span><span id="L-1199"><a href="#L-1199"><span class="linenos">1199</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase para la mochila visual donde se guardan las illas recolectadas&quot;&quot;&quot;</span>
</span><span id="L-1200"><a href="#L-1200"><span class="linenos">1200</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1201"><a href="#L-1201"><span class="linenos">1201</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la mochila visual y prepara los atributos para mostrar las illas recolectadas.&quot;&quot;&quot;</span>
</span><span id="L-1202"><a href="#L-1202"><span class="linenos">1202</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">300</span>  <span class="c1"># Aumentado para mostrar ms illas</span>
</span><span id="L-1203"><a href="#L-1203"><span class="linenos">1203</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">400</span>  <span class="c1"># Aumentado para mostrar GIFs de illas</span>
</span><span id="L-1204"><a href="#L-1204"><span class="linenos">1204</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>  <span class="c1"># Centrado horizontalmente</span>
</span><span id="L-1205"><a href="#L-1205"><span class="linenos">1205</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>  <span class="c1"># Centrado verticalmente</span>
</span><span id="L-1206"><a href="#L-1206"><span class="linenos">1206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1207"><a href="#L-1207"><span class="linenos">1207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1208"><a href="#L-1208"><span class="linenos">1208</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
</span><span id="L-1209"><a href="#L-1209"><span class="linenos">1209</span></a>        
</span><span id="L-1210"><a href="#L-1210"><span class="linenos">1210</span></a>        <span class="c1"># Estado de mostrar/ocultar mochila</span>
</span><span id="L-1211"><a href="#L-1211"><span class="linenos">1211</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1212"><a href="#L-1212"><span class="linenos">1212</span></a>        
</span><span id="L-1213"><a href="#L-1213"><span class="linenos">1213</span></a>        <span class="c1"># Cargar GIF de la mochila si existe</span>
</span><span id="L-1214"><a href="#L-1214"><span class="linenos">1214</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1215"><a href="#L-1215"><span class="linenos">1215</span></a>        <span class="n">mochila_path</span> <span class="o">=</span> <span class="s2">&quot;illas/mochila.gif&quot;</span>  <span class="c1"># Ruta actualizada</span>
</span><span id="L-1216"><a href="#L-1216"><span class="linenos">1216</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">mochila_path</span><span class="p">):</span>
</span><span id="L-1217"><a href="#L-1217"><span class="linenos">1217</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">mochila_path</span><span class="p">)</span>
</span><span id="L-1218"><a href="#L-1218"><span class="linenos">1218</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">:</span>
</span><span id="L-1219"><a href="#L-1219"><span class="linenos">1219</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">]</span>
</span><span id="L-1220"><a href="#L-1220"><span class="linenos">1220</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1221"><a href="#L-1221"><span class="linenos">1221</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1222"><a href="#L-1222"><span class="linenos">1222</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="L-1223"><a href="#L-1223"><span class="linenos">1223</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1224"><a href="#L-1224"><span class="linenos">1224</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1225"><a href="#L-1225"><span class="linenos">1225</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1226"><a href="#L-1226"><span class="linenos">1226</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1227"><a href="#L-1227"><span class="linenos">1227</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1228"><a href="#L-1228"><span class="linenos">1228</span></a>        
</span><span id="L-1229"><a href="#L-1229"><span class="linenos">1229</span></a>        <span class="c1"># Cache de GIFs de illas para mostrar en la mochila</span>
</span><span id="L-1230"><a href="#L-1230"><span class="linenos">1230</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1231"><a href="#L-1231"><span class="linenos">1231</span></a>    
</span><span id="L-1232"><a href="#L-1232"><span class="linenos">1232</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">agregar_illa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">illa_name</span><span class="p">):</span>
</span><span id="L-1233"><a href="#L-1233"><span class="linenos">1233</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Agregar una illa a la mochila</span>
</span><span id="L-1234"><a href="#L-1234"><span class="linenos">1234</span></a><span class="sd">        </span>
</span><span id="L-1235"><a href="#L-1235"><span class="linenos">1235</span></a><span class="sd">        Args:</span>
</span><span id="L-1236"><a href="#L-1236"><span class="linenos">1236</span></a><span class="sd">            illa_name (str): Nombre de la illa a agregar.</span>
</span><span id="L-1237"><a href="#L-1237"><span class="linenos">1237</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1238"><a href="#L-1238"><span class="linenos">1238</span></a>        <span class="k">if</span> <span class="n">illa_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">:</span>
</span><span id="L-1239"><a href="#L-1239"><span class="linenos">1239</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">illa_name</span><span class="p">)</span>
</span><span id="L-1240"><a href="#L-1240"><span class="linenos">1240</span></a>            <span class="c1"># Cargar GIF de la illa si no est en cache</span>
</span><span id="L-1241"><a href="#L-1241"><span class="linenos">1241</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cargar_gif_illa</span><span class="p">(</span><span class="n">illa_name</span><span class="p">)</span>
</span><span id="L-1242"><a href="#L-1242"><span class="linenos">1242</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Illa </span><span class="si">{</span><span class="n">illa_name</span><span class="si">}</span><span class="s2"> guardada en la mochila!&quot;</span><span class="p">)</span>
</span><span id="L-1243"><a href="#L-1243"><span class="linenos">1243</span></a>    
</span><span id="L-1244"><a href="#L-1244"><span class="linenos">1244</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_cargar_gif_illa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">illa_name</span><span class="p">):</span>
</span><span id="L-1245"><a href="#L-1245"><span class="linenos">1245</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Cargar el GIF de una illa especfica</span>
</span><span id="L-1246"><a href="#L-1246"><span class="linenos">1246</span></a><span class="sd">        </span>
</span><span id="L-1247"><a href="#L-1247"><span class="linenos">1247</span></a><span class="sd">        Args:</span>
</span><span id="L-1248"><a href="#L-1248"><span class="linenos">1248</span></a><span class="sd">            illa_name (str): Nombre de la illa cuyo GIF se va a cargar.</span>
</span><span id="L-1249"><a href="#L-1249"><span class="linenos">1249</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1250"><a href="#L-1250"><span class="linenos">1250</span></a>        <span class="k">if</span> <span class="n">illa_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">:</span>
</span><span id="L-1251"><a href="#L-1251"><span class="linenos">1251</span></a>            <span class="k">if</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="n">ILLAS_GIFS</span><span class="p">:</span>
</span><span id="L-1252"><a href="#L-1252"><span class="linenos">1252</span></a>                <span class="n">gif_path</span> <span class="o">=</span> <span class="n">ILLAS_GIFS</span><span class="p">[</span><span class="n">illa_name</span><span class="p">]</span>
</span><span id="L-1253"><a href="#L-1253"><span class="linenos">1253</span></a>                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">gif_path</span><span class="p">):</span>
</span><span id="L-1254"><a href="#L-1254"><span class="linenos">1254</span></a>                    <span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="L-1255"><a href="#L-1255"><span class="linenos">1255</span></a>                    <span class="k">if</span> <span class="n">frames</span><span class="p">:</span>
</span><span id="L-1256"><a href="#L-1256"><span class="linenos">1256</span></a>                        <span class="c1"># Redimensionar frames para la mochila</span>
</span><span id="L-1257"><a href="#L-1257"><span class="linenos">1257</span></a>                        <span class="n">size_illa</span> <span class="o">=</span> <span class="mi">40</span>  <span class="c1"># Tamao de illa en la mochila</span>
</span><span id="L-1258"><a href="#L-1258"><span class="linenos">1258</span></a>                        <span class="n">frames_resized</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">size_illa</span><span class="p">,</span> <span class="n">size_illa</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">frames</span><span class="p">]</span>
</span><span id="L-1259"><a href="#L-1259"><span class="linenos">1259</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">[</span><span class="n">illa_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-1260"><a href="#L-1260"><span class="linenos">1260</span></a>                            <span class="s1">&#39;frames&#39;</span><span class="p">:</span> <span class="n">frames_resized</span><span class="p">,</span>
</span><span id="L-1261"><a href="#L-1261"><span class="linenos">1261</span></a>                            <span class="s1">&#39;current_frame&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="L-1262"><a href="#L-1262"><span class="linenos">1262</span></a>                            <span class="s1">&#39;animation_timer&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="L-1263"><a href="#L-1263"><span class="linenos">1263</span></a>                            <span class="s1">&#39;animation_speed&#39;</span><span class="p">:</span> <span class="mf">0.1</span>
</span><span id="L-1264"><a href="#L-1264"><span class="linenos">1264</span></a>                        <span class="p">}</span>
</span><span id="L-1265"><a href="#L-1265"><span class="linenos">1265</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; GIF de </span><span class="si">{</span><span class="n">illa_name</span><span class="si">}</span><span class="s2"> cargado para la mochila&quot;</span><span class="p">)</span>
</span><span id="L-1266"><a href="#L-1266"><span class="linenos">1266</span></a>    
</span><span id="L-1267"><a href="#L-1267"><span class="linenos">1267</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">alternar_visibilidad</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1268"><a href="#L-1268"><span class="linenos">1268</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Alternar entre mostrar y ocultar la mochila&quot;&quot;&quot;</span>
</span><span id="L-1269"><a href="#L-1269"><span class="linenos">1269</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span>
</span><span id="L-1270"><a href="#L-1270"><span class="linenos">1270</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Mochila </span><span class="si">{</span><span class="s1">&#39;abierta&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;cerrada&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-1271"><a href="#L-1271"><span class="linenos">1271</span></a>    
</span><span id="L-1272"><a href="#L-1272"><span class="linenos">1272</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1273"><a href="#L-1273"><span class="linenos">1273</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualizar animacin de la mochila y las illas</span>
</span><span id="L-1274"><a href="#L-1274"><span class="linenos">1274</span></a><span class="sd">        </span>
</span><span id="L-1275"><a href="#L-1275"><span class="linenos">1275</span></a><span class="sd">        Args:</span>
</span><span id="L-1276"><a href="#L-1276"><span class="linenos">1276</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la mochila.</span>
</span><span id="L-1277"><a href="#L-1277"><span class="linenos">1277</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1278"><a href="#L-1278"><span class="linenos">1278</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span><span class="p">:</span>
</span><span id="L-1279"><a href="#L-1279"><span class="linenos">1279</span></a>            <span class="c1"># Actualizar animacin de la mochila</span>
</span><span id="L-1280"><a href="#L-1280"><span class="linenos">1280</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span><span class="p">:</span>
</span><span id="L-1281"><a href="#L-1281"><span class="linenos">1281</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="L-1282"><a href="#L-1282"><span class="linenos">1282</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1283"><a href="#L-1283"><span class="linenos">1283</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1284"><a href="#L-1284"><span class="linenos">1284</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">)</span>
</span><span id="L-1285"><a href="#L-1285"><span class="linenos">1285</span></a>            
</span><span id="L-1286"><a href="#L-1286"><span class="linenos">1286</span></a>            <span class="c1"># Actualizar animaciones de las illas</span>
</span><span id="L-1287"><a href="#L-1287"><span class="linenos">1287</span></a>            <span class="k">for</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">:</span>
</span><span id="L-1288"><a href="#L-1288"><span class="linenos">1288</span></a>                <span class="n">illa_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">[</span><span class="n">illa_name</span><span class="p">]</span>
</span><span id="L-1289"><a href="#L-1289"><span class="linenos">1289</span></a>                <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_timer&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_speed&#39;</span><span class="p">]</span>
</span><span id="L-1290"><a href="#L-1290"><span class="linenos">1290</span></a>                <span class="k">if</span> <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_timer&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1291"><a href="#L-1291"><span class="linenos">1291</span></a>                    <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_timer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1292"><a href="#L-1292"><span class="linenos">1292</span></a>                    <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;current_frame&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;current_frame&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;frames&#39;</span><span class="p">])</span>
</span><span id="L-1293"><a href="#L-1293"><span class="linenos">1293</span></a>    
</span><span id="L-1294"><a href="#L-1294"><span class="linenos">1294</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="L-1295"><a href="#L-1295"><span class="linenos">1295</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibujar la mochila completa con illas animadas&quot;&quot;&quot;</span>
</span><span id="L-1296"><a href="#L-1296"><span class="linenos">1296</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span><span class="p">:</span>
</span><span id="L-1297"><a href="#L-1297"><span class="linenos">1297</span></a>            <span class="k">return</span>
</span><span id="L-1298"><a href="#L-1298"><span class="linenos">1298</span></a>        
</span><span id="L-1299"><a href="#L-1299"><span class="linenos">1299</span></a>        <span class="c1"># Crear fondo semi-transparente</span>
</span><span id="L-1300"><a href="#L-1300"><span class="linenos">1300</span></a>        <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="L-1301"><a href="#L-1301"><span class="linenos">1301</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
</span><span id="L-1302"><a href="#L-1302"><span class="linenos">1302</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="L-1303"><a href="#L-1303"><span class="linenos">1303</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="L-1304"><a href="#L-1304"><span class="linenos">1304</span></a>        
</span><span id="L-1305"><a href="#L-1305"><span class="linenos">1305</span></a>        <span class="c1"># Dibujar fondo de la mochila</span>
</span><span id="L-1306"><a href="#L-1306"><span class="linenos">1306</span></a>        <span class="n">mochila_rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="L-1307"><a href="#L-1307"><span class="linenos">1307</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">33</span><span class="p">),</span> <span class="n">mochila_rect</span><span class="p">)</span>
</span><span id="L-1308"><a href="#L-1308"><span class="linenos">1308</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="n">mochila_rect</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-1309"><a href="#L-1309"><span class="linenos">1309</span></a>        
</span><span id="L-1310"><a href="#L-1310"><span class="linenos">1310</span></a>        <span class="c1"># Dibujar GIF de la mochila si existe</span>
</span><span id="L-1311"><a href="#L-1311"><span class="linenos">1311</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span><span class="p">:</span>
</span><span id="L-1312"><a href="#L-1312"><span class="linenos">1312</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span><span class="p">],</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
</span><span id="L-1313"><a href="#L-1313"><span class="linenos">1313</span></a>        
</span><span id="L-1314"><a href="#L-1314"><span class="linenos">1314</span></a>        <span class="c1"># Ttulo de la mochila</span>
</span><span id="L-1315"><a href="#L-1315"><span class="linenos">1315</span></a>        <span class="n">title_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;MOCHILA DE EKEKO&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-1316"><a href="#L-1316"><span class="linenos">1316</span></a>        <span class="n">title_rect</span> <span class="o">=</span> <span class="n">title_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="L-1317"><a href="#L-1317"><span class="linenos">1317</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">title_text</span><span class="p">,</span> <span class="n">title_rect</span><span class="p">)</span>
</span><span id="L-1318"><a href="#L-1318"><span class="linenos">1318</span></a>        
</span><span id="L-1319"><a href="#L-1319"><span class="linenos">1319</span></a>        <span class="c1"># Contador de illas</span>
</span><span id="L-1320"><a href="#L-1320"><span class="linenos">1320</span></a>        <span class="n">illas_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Illas Recolectadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span>
</span><span id="L-1321"><a href="#L-1321"><span class="linenos">1321</span></a>        <span class="n">count_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">illas_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="L-1322"><a href="#L-1322"><span class="linenos">1322</span></a>        <span class="n">count_rect</span> <span class="o">=</span> <span class="n">count_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">45</span><span class="p">))</span>
</span><span id="L-1323"><a href="#L-1323"><span class="linenos">1323</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">count_text</span><span class="p">,</span> <span class="n">count_rect</span><span class="p">)</span>
</span><span id="L-1324"><a href="#L-1324"><span class="linenos">1324</span></a>        
</span><span id="L-1325"><a href="#L-1325"><span class="linenos">1325</span></a>        <span class="c1"># Dibujar illas con sus GIFs animados</span>
</span><span id="L-1326"><a href="#L-1326"><span class="linenos">1326</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">:</span>
</span><span id="L-1327"><a href="#L-1327"><span class="linenos">1327</span></a>            <span class="n">start_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">70</span>
</span><span id="L-1328"><a href="#L-1328"><span class="linenos">1328</span></a>            <span class="n">illas_por_fila</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># 4 illas por fila</span>
</span><span id="L-1329"><a href="#L-1329"><span class="linenos">1329</span></a>            <span class="n">spacing_x</span> <span class="o">=</span> <span class="mi">60</span>
</span><span id="L-1330"><a href="#L-1330"><span class="linenos">1330</span></a>            <span class="n">spacing_y</span> <span class="o">=</span> <span class="mi">60</span>
</span><span id="L-1331"><a href="#L-1331"><span class="linenos">1331</span></a>            
</span><span id="L-1332"><a href="#L-1332"><span class="linenos">1332</span></a>            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">):</span>
</span><span id="L-1333"><a href="#L-1333"><span class="linenos">1333</span></a>                <span class="n">fila</span> <span class="o">=</span> <span class="n">i</span> <span class="o">//</span> <span class="n">illas_por_fila</span>
</span><span id="L-1334"><a href="#L-1334"><span class="linenos">1334</span></a>                <span class="n">columna</span> <span class="o">=</span> <span class="n">i</span> <span class="o">%</span> <span class="n">illas_por_fila</span>
</span><span id="L-1335"><a href="#L-1335"><span class="linenos">1335</span></a>                
</span><span id="L-1336"><a href="#L-1336"><span class="linenos">1336</span></a>                <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span> <span class="o">+</span> <span class="p">(</span><span class="n">columna</span> <span class="o">*</span> <span class="n">spacing_x</span><span class="p">)</span>
</span><span id="L-1337"><a href="#L-1337"><span class="linenos">1337</span></a>                <span class="n">y</span> <span class="o">=</span> <span class="n">start_y</span> <span class="o">+</span> <span class="p">(</span><span class="n">fila</span> <span class="o">*</span> <span class="n">spacing_y</span><span class="p">)</span>
</span><span id="L-1338"><a href="#L-1338"><span class="linenos">1338</span></a>                
</span><span id="L-1339"><a href="#L-1339"><span class="linenos">1339</span></a>                <span class="c1"># Dibujar GIF de la illa si est en cache</span>
</span><span id="L-1340"><a href="#L-1340"><span class="linenos">1340</span></a>                <span class="k">if</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">:</span>
</span><span id="L-1341"><a href="#L-1341"><span class="linenos">1341</span></a>                    <span class="n">illa_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">[</span><span class="n">illa_name</span><span class="p">]</span>
</span><span id="L-1342"><a href="#L-1342"><span class="linenos">1342</span></a>                    <span class="n">current_frame</span> <span class="o">=</span> <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;frames&#39;</span><span class="p">][</span><span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;current_frame&#39;</span><span class="p">]]</span>
</span><span id="L-1343"><a href="#L-1343"><span class="linenos">1343</span></a>                    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">current_frame</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</span><span id="L-1344"><a href="#L-1344"><span class="linenos">1344</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-1345"><a href="#L-1345"><span class="linenos">1345</span></a>                    <span class="c1"># Dibujar crculo como fallback</span>
</span><span id="L-1346"><a href="#L-1346"><span class="linenos">1346</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">20</span><span class="p">),</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="L-1347"><a href="#L-1347"><span class="linenos">1347</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">20</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-1348"><a href="#L-1348"><span class="linenos">1348</span></a>                
</span><span id="L-1349"><a href="#L-1349"><span class="linenos">1349</span></a>                <span class="c1"># Dibujar nombre de la illa</span>
</span><span id="L-1350"><a href="#L-1350"><span class="linenos">1350</span></a>                <span class="n">nombre_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">illa_name</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-1351"><a href="#L-1351"><span class="linenos">1351</span></a>                <span class="n">nombre_rect</span> <span class="o">=</span> <span class="n">nombre_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">45</span><span class="p">))</span>
</span><span id="L-1352"><a href="#L-1352"><span class="linenos">1352</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">nombre_text</span><span class="p">,</span> <span class="n">nombre_rect</span><span class="p">)</span>
</span><span id="L-1353"><a href="#L-1353"><span class="linenos">1353</span></a>                
</span><span id="L-1354"><a href="#L-1354"><span class="linenos">1354</span></a>                <span class="c1"># Si hay muchas illas, mostrar scroll</span>
</span><span id="L-1355"><a href="#L-1355"><span class="linenos">1355</span></a>                <span class="k">if</span> <span class="n">fila</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>  <span class="c1"># Mximo 4 filas visibles</span>
</span><span id="L-1356"><a href="#L-1356"><span class="linenos">1356</span></a>                    <span class="n">scroll_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GRAY</span><span class="p">)</span>
</span><span id="L-1357"><a href="#L-1357"><span class="linenos">1357</span></a>                    <span class="n">scroll_rect</span> <span class="o">=</span> <span class="n">scroll_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">30</span><span class="p">))</span>
</span><span id="L-1358"><a href="#L-1358"><span class="linenos">1358</span></a>                    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">scroll_text</span><span class="p">,</span> <span class="n">scroll_rect</span><span class="p">)</span>
</span><span id="L-1359"><a href="#L-1359"><span class="linenos">1359</span></a>                    <span class="k">break</span>
</span><span id="L-1360"><a href="#L-1360"><span class="linenos">1360</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1361"><a href="#L-1361"><span class="linenos">1361</span></a>            <span class="c1"># Mensaje cuando no hay illas</span>
</span><span id="L-1362"><a href="#L-1362"><span class="linenos">1362</span></a>            <span class="n">empty_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;No hay illas recolectadas&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GRAY</span><span class="p">)</span>
</span><span id="L-1363"><a href="#L-1363"><span class="linenos">1363</span></a>            <span class="n">empty_rect</span> <span class="o">=</span> <span class="n">empty_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">//</span> <span class="mi">2</span><span class="p">))</span>
</span><span id="L-1364"><a href="#L-1364"><span class="linenos">1364</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">empty_text</span><span class="p">,</span> <span class="n">empty_rect</span><span class="p">)</span>
</span><span id="L-1365"><a href="#L-1365"><span class="linenos">1365</span></a>        
</span><span id="L-1366"><a href="#L-1366"><span class="linenos">1366</span></a>        <span class="c1"># Instrucciones para cerrar</span>
</span><span id="L-1367"><a href="#L-1367"><span class="linenos">1367</span></a>        <span class="n">close_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Presiona J para cerrar la mochila&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-1368"><a href="#L-1368"><span class="linenos">1368</span></a>        <span class="n">close_rect</span> <span class="o">=</span> <span class="n">close_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="L-1369"><a href="#L-1369"><span class="linenos">1369</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">close_text</span><span class="p">,</span> <span class="n">close_rect</span><span class="p">)</span>
</span><span id="L-1370"><a href="#L-1370"><span class="linenos">1370</span></a>            
</span><span id="L-1371"><a href="#L-1371"><span class="linenos">1371</span></a><span class="c1"># ================== PARTE 3 - GAME MANAGER Y SISTEMA PRINCIPAL ==================</span>
</span><span id="L-1372"><a href="#L-1372"><span class="linenos">1372</span></a>
</span><span id="L-1373"><a href="#L-1373"><span class="linenos">1373</span></a><span class="k">class</span><span class="w"> </span><span class="nc">QuestionScreen</span><span class="p">:</span>
</span><span id="L-1374"><a href="#L-1374"><span class="linenos">1374</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Pantalla de preguntas donde el Apu hace una pregunta al jugador.&quot;&quot;&quot;</span>
</span><span id="L-1375"><a href="#L-1375"><span class="linenos">1375</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pregunta_data</span><span class="p">):</span>
</span><span id="L-1376"><a href="#L-1376"><span class="linenos">1376</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la pantalla de pregunta con los datos proporcionados.</span>
</span><span id="L-1377"><a href="#L-1377"><span class="linenos">1377</span></a>
</span><span id="L-1378"><a href="#L-1378"><span class="linenos">1378</span></a><span class="sd">        Args:</span>
</span><span id="L-1379"><a href="#L-1379"><span class="linenos">1379</span></a><span class="sd">            pregunta_data (dict): Diccionario con las claves:</span>
</span><span id="L-1380"><a href="#L-1380"><span class="linenos">1380</span></a><span class="sd">                - &quot;apu&quot;: nombre del Apu que hace la pregunta</span>
</span><span id="L-1381"><a href="#L-1381"><span class="linenos">1381</span></a><span class="sd">                - &quot;pregunta&quot;: texto de la pregunta</span>
</span><span id="L-1382"><a href="#L-1382"><span class="linenos">1382</span></a><span class="sd">                - &quot;opciones&quot;: lista de opciones</span>
</span><span id="L-1383"><a href="#L-1383"><span class="linenos">1383</span></a><span class="sd">                - &quot;respuesta_correcta&quot;: ndice de la opcin correcta</span>
</span><span id="L-1384"><a href="#L-1384"><span class="linenos">1384</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1385"><a href="#L-1385"><span class="linenos">1385</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span> <span class="o">=</span> <span class="n">pregunta_data</span>
</span><span id="L-1386"><a href="#L-1386"><span class="linenos">1386</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_title</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1387"><a href="#L-1387"><span class="linenos">1387</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>
</span><span id="L-1388"><a href="#L-1388"><span class="linenos">1388</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_options</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="L-1389"><a href="#L-1389"><span class="linenos">1389</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1390"><a href="#L-1390"><span class="linenos">1390</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">answered</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1391"><a href="#L-1391"><span class="linenos">1391</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">correct</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1392"><a href="#L-1392"><span class="linenos">1392</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1393"><a href="#L-1393"><span class="linenos">1393</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1394"><a href="#L-1394"><span class="linenos">1394</span></a>
</span><span id="L-1395"><a href="#L-1395"><span class="linenos">1395</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="L-1396"><a href="#L-1396"><span class="linenos">1396</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot; BOTONES PARA NAVEGAR EN LAS PREGUNTAS:</span>
</span><span id="L-1397"><a href="#L-1397"><span class="linenos">1397</span></a><span class="sd">        - : Navegar entre opciones de respuesta</span>
</span><span id="L-1398"><a href="#L-1398"><span class="linenos">1398</span></a><span class="sd">        - ENTER: Confirmar respuesta seleccionada</span>
</span><span id="L-1399"><a href="#L-1399"><span class="linenos">1399</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1400"><a href="#L-1400"><span class="linenos">1400</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">answered</span><span class="p">:</span>
</span><span id="L-1401"><a href="#L-1401"><span class="linenos">1401</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span><span class="p">:</span>
</span><span id="L-1402"><a href="#L-1402"><span class="linenos">1402</span></a>                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_UP</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1">#  BOTN ARRIBA</span>
</span><span id="L-1403"><a href="#L-1403"><span class="linenos">1403</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="L-1404"><a href="#L-1404"><span class="linenos">1404</span></a>                <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_DOWN</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;opciones&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1">#  BOTN ABAJO</span>
</span><span id="L-1405"><a href="#L-1405"><span class="linenos">1405</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-1406"><a href="#L-1406"><span class="linenos">1406</span></a>                <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_RETURN</span><span class="p">:</span>  <span class="c1">#  BOTN CONFIRMAR</span>
</span><span id="L-1407"><a href="#L-1407"><span class="linenos">1407</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">answered</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1408"><a href="#L-1408"><span class="linenos">1408</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">correct</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;respuesta_correcta&quot;</span><span class="p">])</span>
</span><span id="L-1409"><a href="#L-1409"><span class="linenos">1409</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1410"><a href="#L-1410"><span class="linenos">1410</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">=</span> <span class="mi">120</span>
</span><span id="L-1411"><a href="#L-1411"><span class="linenos">1411</span></a>
</span><span id="L-1412"><a href="#L-1412"><span class="linenos">1412</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1413"><a href="#L-1413"><span class="linenos">1413</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza el temporizador del resultado si se est mostrando.&quot;&quot;&quot;</span>
</span><span id="L-1414"><a href="#L-1414"><span class="linenos">1414</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1415"><a href="#L-1415"><span class="linenos">1415</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="L-1416"><a href="#L-1416"><span class="linenos">1416</span></a>
</span><span id="L-1417"><a href="#L-1417"><span class="linenos">1417</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="L-1418"><a href="#L-1418"><span class="linenos">1418</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja la pantalla de pregunta y resultado en la superficie proporcionada.</span>
</span><span id="L-1419"><a href="#L-1419"><span class="linenos">1419</span></a>
</span><span id="L-1420"><a href="#L-1420"><span class="linenos">1420</span></a><span class="sd">        Args:</span>
</span><span id="L-1421"><a href="#L-1421"><span class="linenos">1421</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la pantalla de pregunta.</span>
</span><span id="L-1422"><a href="#L-1422"><span class="linenos">1422</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1423"><a href="#L-1423"><span class="linenos">1423</span></a>        <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="L-1424"><a href="#L-1424"><span class="linenos">1424</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</span><span id="L-1425"><a href="#L-1425"><span class="linenos">1425</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="L-1426"><a href="#L-1426"><span class="linenos">1426</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="L-1427"><a href="#L-1427"><span class="linenos">1427</span></a>
</span><span id="L-1428"><a href="#L-1428"><span class="linenos">1428</span></a>        <span class="n">apu_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_title</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Apu </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s1">&#39;apu&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> te pregunta:&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-1429"><a href="#L-1429"><span class="linenos">1429</span></a>        <span class="n">apu_rect</span> <span class="o">=</span> <span class="n">apu_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
</span><span id="L-1430"><a href="#L-1430"><span class="linenos">1430</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">apu_text</span><span class="p">,</span> <span class="n">apu_rect</span><span class="p">)</span>
</span><span id="L-1431"><a href="#L-1431"><span class="linenos">1431</span></a>
</span><span id="L-1432"><a href="#L-1432"><span class="linenos">1432</span></a>        <span class="n">question_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrap_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;pregunta&quot;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span><span class="p">,</span> <span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="L-1433"><a href="#L-1433"><span class="linenos">1433</span></a>        <span class="n">y_offset</span> <span class="o">=</span> <span class="mi">150</span>
</span><span id="L-1434"><a href="#L-1434"><span class="linenos">1434</span></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">question_lines</span><span class="p">:</span>
</span><span id="L-1435"><a href="#L-1435"><span class="linenos">1435</span></a>            <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-1436"><a href="#L-1436"><span class="linenos">1436</span></a>            <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y_offset</span><span class="p">))</span>
</span><span id="L-1437"><a href="#L-1437"><span class="linenos">1437</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="L-1438"><a href="#L-1438"><span class="linenos">1438</span></a>            <span class="n">y_offset</span> <span class="o">+=</span> <span class="mi">25</span>
</span><span id="L-1439"><a href="#L-1439"><span class="linenos">1439</span></a>
</span><span id="L-1440"><a href="#L-1440"><span class="linenos">1440</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span><span class="p">:</span>
</span><span id="L-1441"><a href="#L-1441"><span class="linenos">1441</span></a>            <span class="n">y_offset</span> <span class="o">+=</span> <span class="mi">30</span>
</span><span id="L-1442"><a href="#L-1442"><span class="linenos">1442</span></a>            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">opcion</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;opciones&quot;</span><span class="p">]):</span>
</span><span id="L-1443"><a href="#L-1443"><span class="linenos">1443</span></a>                <span class="n">color</span> <span class="o">=</span> <span class="n">YELLOW</span> <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="k">else</span> <span class="n">WHITE</span>
</span><span id="L-1444"><a href="#L-1444"><span class="linenos">1444</span></a>                <span class="n">option_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">chr</span><span class="p">(</span><span class="mi">65</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="si">}</span><span class="s2">) </span><span class="si">{</span><span class="n">opcion</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-1445"><a href="#L-1445"><span class="linenos">1445</span></a>                <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_options</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">option_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
</span><span id="L-1446"><a href="#L-1446"><span class="linenos">1446</span></a>                <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y_offset</span><span class="p">))</span>
</span><span id="L-1447"><a href="#L-1447"><span class="linenos">1447</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="L-1448"><a href="#L-1448"><span class="linenos">1448</span></a>                <span class="n">y_offset</span> <span class="o">+=</span> <span class="mi">30</span>
</span><span id="L-1449"><a href="#L-1449"><span class="linenos">1449</span></a>
</span><span id="L-1450"><a href="#L-1450"><span class="linenos">1450</span></a>            <span class="n">instr_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_options</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Usa  para seleccionar, ENTER para confirmar&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GRAY</span><span class="p">)</span>
</span><span id="L-1451"><a href="#L-1451"><span class="linenos">1451</span></a>            <span class="n">instr_rect</span> <span class="o">=</span> <span class="n">instr_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">50</span><span class="p">))</span>
</span><span id="L-1452"><a href="#L-1452"><span class="linenos">1452</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">instr_text</span><span class="p">,</span> <span class="n">instr_rect</span><span class="p">)</span>
</span><span id="L-1453"><a href="#L-1453"><span class="linenos">1453</span></a>
</span><span id="L-1454"><a href="#L-1454"><span class="linenos">1454</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span><span class="p">:</span>
</span><span id="L-1455"><a href="#L-1455"><span class="linenos">1455</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">correct</span><span class="p">:</span>
</span><span id="L-1456"><a href="#L-1456"><span class="linenos">1456</span></a>                <span class="n">result_text</span> <span class="o">=</span> <span class="s2">&quot;CORRECTO! El Apu te permite pasar&quot;</span>
</span><span id="L-1457"><a href="#L-1457"><span class="linenos">1457</span></a>                <span class="n">color</span> <span class="o">=</span> <span class="n">GREEN</span>
</span><span id="L-1458"><a href="#L-1458"><span class="linenos">1458</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1459"><a href="#L-1459"><span class="linenos">1459</span></a>                <span class="n">result_text</span> <span class="o">=</span> <span class="s2">&quot;INCORRECTO! Pierdes una vida&quot;</span>
</span><span id="L-1460"><a href="#L-1460"><span class="linenos">1460</span></a>                <span class="n">color</span> <span class="o">=</span> <span class="n">RED</span>
</span><span id="L-1461"><a href="#L-1461"><span class="linenos">1461</span></a>            
</span><span id="L-1462"><a href="#L-1462"><span class="linenos">1462</span></a>            <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_title</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">result_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
</span><span id="L-1463"><a href="#L-1463"><span class="linenos">1463</span></a>            <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span><span class="p">))</span>
</span><span id="L-1464"><a href="#L-1464"><span class="linenos">1464</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="L-1465"><a href="#L-1465"><span class="linenos">1465</span></a>
</span><span id="L-1466"><a href="#L-1466"><span class="linenos">1466</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">correct</span><span class="p">:</span>
</span><span id="L-1467"><a href="#L-1467"><span class="linenos">1467</span></a>                <span class="n">correct_answer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;opciones&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;respuesta_correcta&quot;</span><span class="p">]]</span>
</span><span id="L-1468"><a href="#L-1468"><span class="linenos">1468</span></a>                <span class="n">answer_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Respuesta: </span><span class="si">{</span><span class="n">correct_answer</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-1469"><a href="#L-1469"><span class="linenos">1469</span></a>                <span class="n">answer_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">answer_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-1470"><a href="#L-1470"><span class="linenos">1470</span></a>                <span class="n">answer_rect</span> <span class="o">=</span> <span class="n">answer_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">40</span><span class="p">))</span>
</span><span id="L-1471"><a href="#L-1471"><span class="linenos">1471</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">answer_surface</span><span class="p">,</span> <span class="n">answer_rect</span><span class="p">)</span>
</span><span id="L-1472"><a href="#L-1472"><span class="linenos">1472</span></a>
</span><span id="L-1473"><a href="#L-1473"><span class="linenos">1473</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">wrap_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">max_width</span><span class="p">):</span>
</span><span id="L-1474"><a href="#L-1474"><span class="linenos">1474</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Divide un texto en varias lneas para que se ajuste al ancho mximo.</span>
</span><span id="L-1475"><a href="#L-1475"><span class="linenos">1475</span></a>
</span><span id="L-1476"><a href="#L-1476"><span class="linenos">1476</span></a><span class="sd">        Args:</span>
</span><span id="L-1477"><a href="#L-1477"><span class="linenos">1477</span></a><span class="sd">            text (str): Texto a dividir.</span>
</span><span id="L-1478"><a href="#L-1478"><span class="linenos">1478</span></a><span class="sd">            font (pygame.font.Font): Fuente utilizada para medir el texto.</span>
</span><span id="L-1479"><a href="#L-1479"><span class="linenos">1479</span></a><span class="sd">            max_width (int): Ancho mximo permitido por lnea.</span>
</span><span id="L-1480"><a href="#L-1480"><span class="linenos">1480</span></a>
</span><span id="L-1481"><a href="#L-1481"><span class="linenos">1481</span></a><span class="sd">        Returns:</span>
</span><span id="L-1482"><a href="#L-1482"><span class="linenos">1482</span></a><span class="sd">            list[str]: Lista de lneas de texto ajustadas al ancho.</span>
</span><span id="L-1483"><a href="#L-1483"><span class="linenos">1483</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1484"><a href="#L-1484"><span class="linenos">1484</span></a>        <span class="n">words</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</span><span id="L-1485"><a href="#L-1485"><span class="linenos">1485</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1486"><a href="#L-1486"><span class="linenos">1486</span></a>        <span class="n">current_line</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1487"><a href="#L-1487"><span class="linenos">1487</span></a>        
</span><span id="L-1488"><a href="#L-1488"><span class="linenos">1488</span></a>        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
</span><span id="L-1489"><a href="#L-1489"><span class="linenos">1489</span></a>            <span class="n">test_line</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_line</span> <span class="o">+</span> <span class="p">[</span><span class="n">word</span><span class="p">])</span>
</span><span id="L-1490"><a href="#L-1490"><span class="linenos">1490</span></a>            <span class="k">if</span> <span class="n">font</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">test_line</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">max_width</span><span class="p">:</span>
</span><span id="L-1491"><a href="#L-1491"><span class="linenos">1491</span></a>                <span class="n">current_line</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="L-1492"><a href="#L-1492"><span class="linenos">1492</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1493"><a href="#L-1493"><span class="linenos">1493</span></a>                <span class="k">if</span> <span class="n">current_line</span><span class="p">:</span>
</span><span id="L-1494"><a href="#L-1494"><span class="linenos">1494</span></a>                    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_line</span><span class="p">))</span>
</span><span id="L-1495"><a href="#L-1495"><span class="linenos">1495</span></a>                    <span class="n">current_line</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="p">]</span>
</span><span id="L-1496"><a href="#L-1496"><span class="linenos">1496</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-1497"><a href="#L-1497"><span class="linenos">1497</span></a>                    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="L-1498"><a href="#L-1498"><span class="linenos">1498</span></a>        
</span><span id="L-1499"><a href="#L-1499"><span class="linenos">1499</span></a>        <span class="k">if</span> <span class="n">current_line</span><span class="p">:</span>
</span><span id="L-1500"><a href="#L-1500"><span class="linenos">1500</span></a>            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_line</span><span class="p">))</span>
</span><span id="L-1501"><a href="#L-1501"><span class="linenos">1501</span></a>        
</span><span id="L-1502"><a href="#L-1502"><span class="linenos">1502</span></a>        <span class="k">return</span> <span class="n">lines</span>
</span><span id="L-1503"><a href="#L-1503"><span class="linenos">1503</span></a>
</span><span id="L-1504"><a href="#L-1504"><span class="linenos">1504</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1505"><a href="#L-1505"><span class="linenos">1505</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Indica si la pantalla de pregunta ha terminado de mostrar el resultado.</span>
</span><span id="L-1506"><a href="#L-1506"><span class="linenos">1506</span></a>
</span><span id="L-1507"><a href="#L-1507"><span class="linenos">1507</span></a><span class="sd">        Returns:</span>
</span><span id="L-1508"><a href="#L-1508"><span class="linenos">1508</span></a><span class="sd">            bool: True si termin, False en caso contrario.</span>
</span><span id="L-1509"><a href="#L-1509"><span class="linenos">1509</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1510"><a href="#L-1510"><span class="linenos">1510</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">&lt;=</span> <span class="mi">0</span>
</span><span id="L-1511"><a href="#L-1511"><span class="linenos">1511</span></a>
</span><span id="L-1512"><a href="#L-1512"><span class="linenos">1512</span></a>
</span><span id="L-1513"><a href="#L-1513"><span class="linenos">1513</span></a><span class="k">class</span><span class="w"> </span><span class="nc">GameScene</span><span class="p">:</span>
</span><span id="L-1514"><a href="#L-1514"><span class="linenos">1514</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase que representa una escena del juego.</span>
</span><span id="L-1515"><a href="#L-1515"><span class="linenos">1515</span></a>
</span><span id="L-1516"><a href="#L-1516"><span class="linenos">1516</span></a><span class="sd">    Cada escena contiene un Apu, una puerta, artculos flotantes y un sistema de preguntas.</span>
</span><span id="L-1517"><a href="#L-1517"><span class="linenos">1517</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1518"><a href="#L-1518"><span class="linenos">1518</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">,</span> <span class="n">arbol_apus</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1519"><a href="#L-1519"><span class="linenos">1519</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la escena con su Apu, puerta y artculos visuales.</span>
</span><span id="L-1520"><a href="#L-1520"><span class="linenos">1520</span></a>
</span><span id="L-1521"><a href="#L-1521"><span class="linenos">1521</span></a><span class="sd">        Args:</span>
</span><span id="L-1522"><a href="#L-1522"><span class="linenos">1522</span></a><span class="sd">            scene_number (int): Nmero de la escena.</span>
</span><span id="L-1523"><a href="#L-1523"><span class="linenos">1523</span></a><span class="sd">            arbol_apus (ArbolBinario | None): rbol binario con los Apus, opcional.</span>
</span><span id="L-1524"><a href="#L-1524"><span class="linenos">1524</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1525"><a href="#L-1525"><span class="linenos">1525</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">=</span> <span class="n">scene_number</span>
</span><span id="L-1526"><a href="#L-1526"><span class="linenos">1526</span></a>        <span class="c1"># Obtener el nombre del Apu usando el rbol binario</span>
</span><span id="L-1527"><a href="#L-1527"><span class="linenos">1527</span></a>        <span class="k">if</span> <span class="n">arbol_apus</span><span class="p">:</span>
</span><span id="L-1528"><a href="#L-1528"><span class="linenos">1528</span></a>            <span class="n">apu_nodo</span> <span class="o">=</span> <span class="n">arbol_apus</span><span class="o">.</span><span class="n">obtener_apu_por_indice</span><span class="p">(</span><span class="n">scene_number</span><span class="p">)</span>
</span><span id="L-1529"><a href="#L-1529"><span class="linenos">1529</span></a>            <span class="k">if</span> <span class="n">apu_nodo</span><span class="p">:</span>
</span><span id="L-1530"><a href="#L-1530"><span class="linenos">1530</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span> <span class="o">=</span> <span class="n">apu_nodo</span><span class="o">.</span><span class="n">nombre</span>
</span><span id="L-1531"><a href="#L-1531"><span class="linenos">1531</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1532"><a href="#L-1532"><span class="linenos">1532</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">APUS_DATA</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="n">scene_number</span><span class="p">]</span>  <span class="c1"># Fallback</span>
</span><span id="L-1533"><a href="#L-1533"><span class="linenos">1533</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1534"><a href="#L-1534"><span class="linenos">1534</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">APUS_DATA</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="n">scene_number</span><span class="p">]</span>  <span class="c1"># Fallback</span>
</span><span id="L-1535"><a href="#L-1535"><span class="linenos">1535</span></a>        
</span><span id="L-1536"><a href="#L-1536"><span class="linenos">1536</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">apu</span> <span class="o">=</span> <span class="n">Apu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span><span class="p">,</span> <span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">40</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">230</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">,</span> <span class="n">arbol_apus</span><span class="p">)</span>
</span><span id="L-1537"><a href="#L-1537"><span class="linenos">1537</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">door</span> <span class="o">=</span> <span class="n">Door</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="mi">100</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span><span class="p">)</span>
</span><span id="L-1538"><a href="#L-1538"><span class="linenos">1538</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1539"><a href="#L-1539"><span class="linenos">1539</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1540"><a href="#L-1540"><span class="linenos">1540</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1541"><a href="#L-1541"><span class="linenos">1541</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player_can_advance</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1542"><a href="#L-1542"><span class="linenos">1542</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-1543"><a href="#L-1543"><span class="linenos">1543</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1544"><a href="#L-1544"><span class="linenos">1544</span></a>        
</span><span id="L-1545"><a href="#L-1545"><span class="linenos">1545</span></a>        <span class="c1"># Crear artculos visibles que flotan en la escena</span>
</span><span id="L-1546"><a href="#L-1546"><span class="linenos">1546</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1547"><a href="#L-1547"><span class="linenos">1547</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">create_visual_artikulos</span><span class="p">()</span>
</span><span id="L-1548"><a href="#L-1548"><span class="linenos">1548</span></a>
</span><span id="L-1549"><a href="#L-1549"><span class="linenos">1549</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_visual_artikulos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1550"><a href="#L-1550"><span class="linenos">1550</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Crear artculos visuales que aparecern despus de responder correctamente&quot;&quot;&quot;</span>
</span><span id="L-1551"><a href="#L-1551"><span class="linenos">1551</span></a>        <span class="n">illas_de_esta_escena</span> <span class="o">=</span> <span class="n">ILLAS_ROBADAS_POR_ESCENA</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="L-1552"><a href="#L-1552"><span class="linenos">1552</span></a>        <span class="n">x_start</span> <span class="o">=</span> <span class="mi">150</span>
</span><span id="L-1553"><a href="#L-1553"><span class="linenos">1553</span></a>        <span class="n">spacing</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="L-1554"><a href="#L-1554"><span class="linenos">1554</span></a>        
</span><span id="L-1555"><a href="#L-1555"><span class="linenos">1555</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">illas_de_esta_escena</span><span class="p">):</span>
</span><span id="L-1556"><a href="#L-1556"><span class="linenos">1556</span></a>            <span class="n">x</span> <span class="o">=</span> <span class="n">x_start</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">spacing</span><span class="p">)</span>
</span><span id="L-1557"><a href="#L-1557"><span class="linenos">1557</span></a>            <span class="n">y</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span>
</span><span id="L-1558"><a href="#L-1558"><span class="linenos">1558</span></a>            <span class="n">articulo</span> <span class="o">=</span> <span class="n">Articulo</span><span class="p">(</span><span class="n">illa_name</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="L-1559"><a href="#L-1559"><span class="linenos">1559</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># Empiezan como &quot;recolectados&quot; (invisibles)</span>
</span><span id="L-1560"><a href="#L-1560"><span class="linenos">1560</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">articulo</span><span class="p">)</span>
</span><span id="L-1561"><a href="#L-1561"><span class="linenos">1561</span></a>
</span><span id="L-1562"><a href="#L-1562"><span class="linenos">1562</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">show_artikulos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1563"><a href="#L-1563"><span class="linenos">1563</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Hacer visibles los artculos cuando el Apu los entrega&quot;&quot;&quot;</span>
</span><span id="L-1564"><a href="#L-1564"><span class="linenos">1564</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="L-1565"><a href="#L-1565"><span class="linenos">1565</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Hacerlos visibles</span>
</span><span id="L-1566"><a href="#L-1566"><span class="linenos">1566</span></a>        
</span><span id="L-1567"><a href="#L-1567"><span class="linenos">1567</span></a>        <span class="c1"># Timer para recolectarlos automticamente despus de un tiempo</span>
</span><span id="L-1568"><a href="#L-1568"><span class="linenos">1568</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">=</span> <span class="mi">180</span>  <span class="c1"># 3 segundos</span>
</span><span id="L-1569"><a href="#L-1569"><span class="linenos">1569</span></a>
</span><span id="L-1570"><a href="#L-1570"><span class="linenos">1570</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">start_question</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1571"><a href="#L-1571"><span class="linenos">1571</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicia la pantalla de pregunta si no se est mostrando y la escena no est completada.&quot;&quot;&quot;</span>
</span><span id="L-1572"><a href="#L-1572"><span class="linenos">1572</span></a>
</span><span id="L-1573"><a href="#L-1573"><span class="linenos">1573</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="L-1574"><a href="#L-1574"><span class="linenos">1574</span></a>            <span class="c1">#  OPTIMIZACIN MXIMA: Acceso directo a preguntas en memoria</span>
</span><span id="L-1575"><a href="#L-1575"><span class="linenos">1575</span></a>            <span class="n">pregunta_data</span> <span class="o">=</span> <span class="n">PREGUNTAS_APUS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="L-1576"><a href="#L-1576"><span class="linenos">1576</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span> <span class="o">=</span> <span class="n">QuestionScreen</span><span class="p">(</span><span class="n">pregunta_data</span><span class="p">)</span>
</span><span id="L-1577"><a href="#L-1577"><span class="linenos">1577</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1578"><a href="#L-1578"><span class="linenos">1578</span></a>
</span><span id="L-1579"><a href="#L-1579"><span class="linenos">1579</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="L-1580"><a href="#L-1580"><span class="linenos">1580</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Procesa los eventos del jugador relacionados con la pregunta y la recoleccin de illas.</span>
</span><span id="L-1581"><a href="#L-1581"><span class="linenos">1581</span></a>
</span><span id="L-1582"><a href="#L-1582"><span class="linenos">1582</span></a><span class="sd">        Args:</span>
</span><span id="L-1583"><a href="#L-1583"><span class="linenos">1583</span></a><span class="sd">            event (pygame.event.Event): Evento de teclado.</span>
</span><span id="L-1584"><a href="#L-1584"><span class="linenos">1584</span></a><span class="sd">            player (Player): Instancia del jugador.</span>
</span><span id="L-1585"><a href="#L-1585"><span class="linenos">1585</span></a>
</span><span id="L-1586"><a href="#L-1586"><span class="linenos">1586</span></a><span class="sd">        Returns:</span>
</span><span id="L-1587"><a href="#L-1587"><span class="linenos">1587</span></a><span class="sd">            str: &quot;CONTINUE&quot; si el juego sigue, &quot;GAME_OVER&quot; si el jugador pierde todas sus vidas.</span>
</span><span id="L-1588"><a href="#L-1588"><span class="linenos">1588</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1589"><a href="#L-1589"><span class="linenos">1589</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="p">:</span>
</span><span id="L-1590"><a href="#L-1590"><span class="linenos">1590</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="L-1591"><a href="#L-1591"><span class="linenos">1591</span></a>            
</span><span id="L-1592"><a href="#L-1592"><span class="linenos">1592</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">is_finished</span><span class="p">():</span>
</span><span id="L-1593"><a href="#L-1593"><span class="linenos">1593</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">correct</span><span class="p">:</span>
</span><span id="L-1594"><a href="#L-1594"><span class="linenos">1594</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1595"><a href="#L-1595"><span class="linenos">1595</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">open_door</span><span class="p">()</span>
</span><span id="L-1596"><a href="#L-1596"><span class="linenos">1596</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">player_can_advance</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1597"><a href="#L-1597"><span class="linenos">1597</span></a>                    
</span><span id="L-1598"><a href="#L-1598"><span class="linenos">1598</span></a>                    <span class="c1"># El Apu entrega las illas robadas</span>
</span><span id="L-1599"><a href="#L-1599"><span class="linenos">1599</span></a>                    <span class="n">illas_received</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">give_illas_to_player</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">)</span>
</span><span id="L-1600"><a href="#L-1600"><span class="linenos">1600</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">illas_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Recibiste: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">illas_received</span><span class="p">)</span><span class="si">}</span><span class="s2">!&quot;</span>
</span><span id="L-1601"><a href="#L-1601"><span class="linenos">1601</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">=</span> <span class="mi">300</span>
</span><span id="L-1602"><a href="#L-1602"><span class="linenos">1602</span></a>                    
</span><span id="L-1603"><a href="#L-1603"><span class="linenos">1603</span></a>                    <span class="c1"># Mostrar artculos visuales flotando</span>
</span><span id="L-1604"><a href="#L-1604"><span class="linenos">1604</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">show_artikulos</span><span class="p">()</span>
</span><span id="L-1605"><a href="#L-1605"><span class="linenos">1605</span></a>                    
</span><span id="L-1606"><a href="#L-1606"><span class="linenos">1606</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-1607"><a href="#L-1607"><span class="linenos">1607</span></a>                    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">lose_life</span><span class="p">():</span>
</span><span id="L-1608"><a href="#L-1608"><span class="linenos">1608</span></a>                        <span class="c1">#  OPTIMIZACIN MXIMA: Acceso directo a preguntas en memoria</span>
</span><span id="L-1609"><a href="#L-1609"><span class="linenos">1609</span></a>                        <span class="n">pregunta_data</span> <span class="o">=</span> <span class="n">PREGUNTAS_APUS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="L-1610"><a href="#L-1610"><span class="linenos">1610</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span> <span class="o">=</span> <span class="n">QuestionScreen</span><span class="p">(</span><span class="n">pregunta_data</span><span class="p">)</span>
</span><span id="L-1611"><a href="#L-1611"><span class="linenos">1611</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1612"><a href="#L-1612"><span class="linenos">1612</span></a>                        <span class="k">return</span> <span class="s2">&quot;GAME_OVER&quot;</span>
</span><span id="L-1613"><a href="#L-1613"><span class="linenos">1613</span></a>                
</span><span id="L-1614"><a href="#L-1614"><span class="linenos">1614</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1615"><a href="#L-1615"><span class="linenos">1615</span></a>        
</span><span id="L-1616"><a href="#L-1616"><span class="linenos">1616</span></a>        <span class="k">return</span> <span class="s2">&quot;CONTINUE&quot;</span>
</span><span id="L-1617"><a href="#L-1617"><span class="linenos">1617</span></a>
</span><span id="L-1618"><a href="#L-1618"><span class="linenos">1618</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="L-1619"><a href="#L-1619"><span class="linenos">1619</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la escena, incluyendo Apu, puerta, pregunta y artculos.</span>
</span><span id="L-1620"><a href="#L-1620"><span class="linenos">1620</span></a>
</span><span id="L-1621"><a href="#L-1621"><span class="linenos">1621</span></a><span class="sd">        Args:</span>
</span><span id="L-1622"><a href="#L-1622"><span class="linenos">1622</span></a><span class="sd">            player (Player): Instancia del jugador para verificar proximidad y recoleccin.</span>
</span><span id="L-1623"><a href="#L-1623"><span class="linenos">1623</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1624"><a href="#L-1624"><span class="linenos">1624</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-1625"><a href="#L-1625"><span class="linenos">1625</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-1626"><a href="#L-1626"><span class="linenos">1626</span></a>        
</span><span id="L-1627"><a href="#L-1627"><span class="linenos">1627</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="p">:</span>
</span><span id="L-1628"><a href="#L-1628"><span class="linenos">1628</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-1629"><a href="#L-1629"><span class="linenos">1629</span></a>        
</span><span id="L-1630"><a href="#L-1630"><span class="linenos">1630</span></a>        <span class="c1"># Actualizar artculos visuales</span>
</span><span id="L-1631"><a href="#L-1631"><span class="linenos">1631</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="L-1632"><a href="#L-1632"><span class="linenos">1632</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-1633"><a href="#L-1633"><span class="linenos">1633</span></a>        
</span><span id="L-1634"><a href="#L-1634"><span class="linenos">1634</span></a>        <span class="c1"># Verificar recoleccin por proximidad</span>
</span><span id="L-1635"><a href="#L-1635"><span class="linenos">1635</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="L-1636"><a href="#L-1636"><span class="linenos">1636</span></a>            <span class="n">player</span><span class="o">.</span><span class="n">check_collection_proximity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">)</span>
</span><span id="L-1637"><a href="#L-1637"><span class="linenos">1637</span></a>        
</span><span id="L-1638"><a href="#L-1638"><span class="linenos">1638</span></a>        <span class="c1"># Auto-recolectar artculos despus de un tiempo (solo si no se recolectaron manualmente)</span>
</span><span id="L-1639"><a href="#L-1639"><span class="linenos">1639</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;auto_collect_timer&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1640"><a href="#L-1640"><span class="linenos">1640</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="L-1641"><a href="#L-1641"><span class="linenos">1641</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1642"><a href="#L-1642"><span class="linenos">1642</span></a>                <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="L-1643"><a href="#L-1643"><span class="linenos">1643</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="L-1644"><a href="#L-1644"><span class="linenos">1644</span></a>                        <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1645"><a href="#L-1645"><span class="linenos">1645</span></a>                        <span class="n">player</span><span class="o">.</span><span class="n">collect_articulos</span><span class="p">([</span><span class="n">articulo</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
</span><span id="L-1646"><a href="#L-1646"><span class="linenos">1646</span></a>        
</span><span id="L-1647"><a href="#L-1647"><span class="linenos">1647</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1648"><a href="#L-1648"><span class="linenos">1648</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="L-1649"><a href="#L-1649"><span class="linenos">1649</span></a>        
</span><span id="L-1650"><a href="#L-1650"><span class="linenos">1650</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="L-1651"><a href="#L-1651"><span class="linenos">1651</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="p">):</span>
</span><span id="L-1652"><a href="#L-1652"><span class="linenos">1652</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">start_question</span><span class="p">()</span>
</span><span id="L-1653"><a href="#L-1653"><span class="linenos">1653</span></a>
</span><span id="L-1654"><a href="#L-1654"><span class="linenos">1654</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="L-1655"><a href="#L-1655"><span class="linenos">1655</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja la escena completa, incluyendo Apu, puerta, artculos y HUD.</span>
</span><span id="L-1656"><a href="#L-1656"><span class="linenos">1656</span></a>
</span><span id="L-1657"><a href="#L-1657"><span class="linenos">1657</span></a><span class="sd">        Args:</span>
</span><span id="L-1658"><a href="#L-1658"><span class="linenos">1658</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la escena.</span>
</span><span id="L-1659"><a href="#L-1659"><span class="linenos">1659</span></a><span class="sd">            player (Player): Instancia del jugador para mostrar informacin relevante.</span>
</span><span id="L-1660"><a href="#L-1660"><span class="linenos">1660</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1661"><a href="#L-1661"><span class="linenos">1661</span></a>        <span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1662"><a href="#L-1662"><span class="linenos">1662</span></a>        <span class="c1"># Obtener el bioma del Apu usando el rbol binario o fallback</span>
</span><span id="L-1663"><a href="#L-1663"><span class="linenos">1663</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;apu&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">):</span>
</span><span id="L-1664"><a href="#L-1664"><span class="linenos">1664</span></a>            <span class="n">bioma</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bioma&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="L-1665"><a href="#L-1665"><span class="linenos">1665</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1666"><a href="#L-1666"><span class="linenos">1666</span></a>            <span class="n">bioma</span> <span class="o">=</span> <span class="n">APUS_DATA</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bioma&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="L-1667"><a href="#L-1667"><span class="linenos">1667</span></a>        
</span><span id="L-1668"><a href="#L-1668"><span class="linenos">1668</span></a>        <span class="n">scene_text</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Escena </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">/14 - </span><span class="si">{</span><span class="n">bioma</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-1669"><a href="#L-1669"><span class="linenos">1669</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">scene_text</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</span><span id="L-1670"><a href="#L-1670"><span class="linenos">1670</span></a>        
</span><span id="L-1671"><a href="#L-1671"><span class="linenos">1671</span></a>        <span class="n">draw_pixelated_hearts</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">player</span><span class="o">.</span><span class="n">lives</span><span class="p">,</span> <span class="n">player</span><span class="o">.</span><span class="n">max_lives</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
</span><span id="L-1672"><a href="#L-1672"><span class="linenos">1672</span></a>        
</span><span id="L-1673"><a href="#L-1673"><span class="linenos">1673</span></a>        <span class="n">illas_text</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Illas Recuperadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-1674"><a href="#L-1674"><span class="linenos">1674</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">illas_text</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">80</span><span class="p">))</span>
</span><span id="L-1675"><a href="#L-1675"><span class="linenos">1675</span></a>        
</span><span id="L-1676"><a href="#L-1676"><span class="linenos">1676</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1677"><a href="#L-1677"><span class="linenos">1677</span></a>            <span class="n">message_font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1678"><a href="#L-1678"><span class="linenos">1678</span></a>            <span class="n">message_surface</span> <span class="o">=</span> <span class="n">message_font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">illas_message</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GREEN</span><span class="p">)</span>
</span><span id="L-1679"><a href="#L-1679"><span class="linenos">1679</span></a>            <span class="n">message_rect</span> <span class="o">=</span> <span class="n">message_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>
</span><span id="L-1680"><a href="#L-1680"><span class="linenos">1680</span></a>            
</span><span id="L-1681"><a href="#L-1681"><span class="linenos">1681</span></a>            <span class="n">padding</span> <span class="o">=</span> <span class="mi">10</span>
</span><span id="L-1682"><a href="#L-1682"><span class="linenos">1682</span></a>            <span class="n">bg_rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">message_rect</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">padding</span><span class="p">,</span> <span class="n">message_rect</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">padding</span><span class="p">,</span>
</span><span id="L-1683"><a href="#L-1683"><span class="linenos">1683</span></a>                                <span class="n">message_rect</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">padding</span><span class="p">,</span> <span class="n">message_rect</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">padding</span><span class="p">)</span>
</span><span id="L-1684"><a href="#L-1684"><span class="linenos">1684</span></a>            <span class="n">bg_surface</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">bg_rect</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">bg_rect</span><span class="o">.</span><span class="n">height</span><span class="p">))</span>
</span><span id="L-1685"><a href="#L-1685"><span class="linenos">1685</span></a>            <span class="n">bg_surface</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">180</span><span class="p">)</span>
</span><span id="L-1686"><a href="#L-1686"><span class="linenos">1686</span></a>            <span class="n">bg_surface</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="L-1687"><a href="#L-1687"><span class="linenos">1687</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">bg_surface</span><span class="p">,</span> <span class="n">bg_rect</span><span class="p">)</span>
</span><span id="L-1688"><a href="#L-1688"><span class="linenos">1688</span></a>            
</span><span id="L-1689"><a href="#L-1689"><span class="linenos">1689</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">message_surface</span><span class="p">,</span> <span class="n">message_rect</span><span class="p">)</span>
</span><span id="L-1690"><a href="#L-1690"><span class="linenos">1690</span></a>        
</span><span id="L-1691"><a href="#L-1691"><span class="linenos">1691</span></a>        <span class="c1"># Dibujar artculos visuales flotantes con animacin</span>
</span><span id="L-1692"><a href="#L-1692"><span class="linenos">1692</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="L-1693"><a href="#L-1693"><span class="linenos">1693</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-1694"><a href="#L-1694"><span class="linenos">1694</span></a>            
</span><span id="L-1695"><a href="#L-1695"><span class="linenos">1695</span></a>            <span class="c1"># Dibujar indicador de proximidad si est cerca del jugador</span>
</span><span id="L-1696"><a href="#L-1696"><span class="linenos">1696</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="L-1697"><a href="#L-1697"><span class="linenos">1697</span></a>                <span class="n">distance</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> 
</span><span id="L-1698"><a href="#L-1698"><span class="linenos">1698</span></a>                                  <span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</span><span id="L-1699"><a href="#L-1699"><span class="linenos">1699</span></a>                <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="n">player</span><span class="o">.</span><span class="n">collection_radius</span><span class="p">:</span>
</span><span id="L-1700"><a href="#L-1700"><span class="linenos">1700</span></a>                    <span class="c1"># Dibujar crculo de proximidad</span>
</span><span id="L-1701"><a href="#L-1701"><span class="linenos">1701</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> 
</span><span id="L-1702"><a href="#L-1702"><span class="linenos">1702</span></a>                                     <span class="n">player</span><span class="o">.</span><span class="n">collection_radius</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-1703"><a href="#L-1703"><span class="linenos">1703</span></a>                    <span class="c1"># Dibujar texto de instruccin</span>
</span><span id="L-1704"><a href="#L-1704"><span class="linenos">1704</span></a>                    <span class="n">collect_text</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
</span><span id="L-1705"><a href="#L-1705"><span class="linenos">1705</span></a>                        <span class="s2">&quot;Acrcate para recolectar!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="L-1706"><a href="#L-1706"><span class="linenos">1706</span></a>                    <span class="n">collect_rect</span> <span class="o">=</span> <span class="n">collect_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> 
</span><span id="L-1707"><a href="#L-1707"><span class="linenos">1707</span></a>                                                               <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="mi">30</span><span class="p">))</span>
</span><span id="L-1708"><a href="#L-1708"><span class="linenos">1708</span></a>                    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">collect_text</span><span class="p">,</span> <span class="n">collect_rect</span><span class="p">)</span>
</span><span id="L-1709"><a href="#L-1709"><span class="linenos">1709</span></a>        
</span><span id="L-1710"><a href="#L-1710"><span class="linenos">1710</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="L-1711"><a href="#L-1711"><span class="linenos">1711</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-1712"><a href="#L-1712"><span class="linenos">1712</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-1713"><a href="#L-1713"><span class="linenos">1713</span></a>        
</span><span id="L-1714"><a href="#L-1714"><span class="linenos">1714</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="p">:</span>
</span><span id="L-1715"><a href="#L-1715"><span class="linenos">1715</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-1716"><a href="#L-1716"><span class="linenos">1716</span></a>
</span><span id="L-1717"><a href="#L-1717"><span class="linenos">1717</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">can_advance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="L-1718"><a href="#L-1718"><span class="linenos">1718</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifica si el jugador puede avanzar a la siguiente escena.</span>
</span><span id="L-1719"><a href="#L-1719"><span class="linenos">1719</span></a>
</span><span id="L-1720"><a href="#L-1720"><span class="linenos">1720</span></a><span class="sd">        Args:</span>
</span><span id="L-1721"><a href="#L-1721"><span class="linenos">1721</span></a><span class="sd">            player (Player): Instancia del jugador.</span>
</span><span id="L-1722"><a href="#L-1722"><span class="linenos">1722</span></a>
</span><span id="L-1723"><a href="#L-1723"><span class="linenos">1723</span></a><span class="sd">        Returns:</span>
</span><span id="L-1724"><a href="#L-1724"><span class="linenos">1724</span></a><span class="sd">            bool: True si puede avanzar, False en caso contrario.</span>
</span><span id="L-1725"><a href="#L-1725"><span class="linenos">1725</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1726"><a href="#L-1726"><span class="linenos">1726</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">player_can_advance</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span><span id="L-1727"><a href="#L-1727"><span class="linenos">1727</span></a>
</span><span id="L-1728"><a href="#L-1728"><span class="linenos">1728</span></a>
</span><span id="L-1729"><a href="#L-1729"><span class="linenos">1729</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AnimatedBackground</span><span class="p">:</span>
</span><span id="L-1730"><a href="#L-1730"><span class="linenos">1730</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase para manejar el fondo animado o esttico de cada escena.</span>
</span><span id="L-1731"><a href="#L-1731"><span class="linenos">1731</span></a>
</span><span id="L-1732"><a href="#L-1732"><span class="linenos">1732</span></a><span class="sd">    Dependiendo de la escena, carga un GIF animado como fondo o crea un fondo esttico</span>
</span><span id="L-1733"><a href="#L-1733"><span class="linenos">1733</span></a><span class="sd">    con colores representativos del bioma correspondiente.</span>
</span><span id="L-1734"><a href="#L-1734"><span class="linenos">1734</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1735"><a href="#L-1735"><span class="linenos">1735</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="L-1736"><a href="#L-1736"><span class="linenos">1736</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa el fondo segn la escena.</span>
</span><span id="L-1737"><a href="#L-1737"><span class="linenos">1737</span></a>
</span><span id="L-1738"><a href="#L-1738"><span class="linenos">1738</span></a><span class="sd">        Intenta cargar un GIF animado. Si no existe o falla, crea un fondo esttico.</span>
</span><span id="L-1739"><a href="#L-1739"><span class="linenos">1739</span></a>
</span><span id="L-1740"><a href="#L-1740"><span class="linenos">1740</span></a><span class="sd">        Args:</span>
</span><span id="L-1741"><a href="#L-1741"><span class="linenos">1741</span></a><span class="sd">            scene_number (int, opcional): Nmero de la escena. Default es 0.</span>
</span><span id="L-1742"><a href="#L-1742"><span class="linenos">1742</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1743"><a href="#L-1743"><span class="linenos">1743</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">=</span> <span class="n">scene_number</span>
</span><span id="L-1744"><a href="#L-1744"><span class="linenos">1744</span></a>        
</span><span id="L-1745"><a href="#L-1745"><span class="linenos">1745</span></a>        <span class="n">bioma_gif_path</span> <span class="o">=</span> <span class="n">BIOMA_GIFS</span><span class="p">[</span><span class="n">scene_number</span><span class="p">]</span> <span class="k">if</span> <span class="n">scene_number</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">BIOMA_GIFS</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="L-1746"><a href="#L-1746"><span class="linenos">1746</span></a>        
</span><span id="L-1747"><a href="#L-1747"><span class="linenos">1747</span></a>        <span class="k">if</span> <span class="n">bioma_gif_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">bioma_gif_path</span><span class="p">):</span>
</span><span id="L-1748"><a href="#L-1748"><span class="linenos">1748</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">bioma_gif_path</span><span class="p">)</span>
</span><span id="L-1749"><a href="#L-1749"><span class="linenos">1749</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="L-1750"><a href="#L-1750"><span class="linenos">1750</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span><span id="L-1751"><a href="#L-1751"><span class="linenos">1751</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1752"><a href="#L-1752"><span class="linenos">1752</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="L-1753"><a href="#L-1753"><span class="linenos">1753</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1754"><a href="#L-1754"><span class="linenos">1754</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1755"><a href="#L-1755"><span class="linenos">1755</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Cargado fondo animado: </span><span class="si">{</span><span class="n">bioma_gif_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-1756"><a href="#L-1756"><span class="linenos">1756</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1757"><a href="#L-1757"><span class="linenos">1757</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error cargando GIF: </span><span class="si">{</span><span class="n">bioma_gif_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-1758"><a href="#L-1758"><span class="linenos">1758</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">create_biome_background</span><span class="p">()</span>
</span><span id="L-1759"><a href="#L-1759"><span class="linenos">1759</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1760"><a href="#L-1760"><span class="linenos">1760</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; GIF no encontrado: </span><span class="si">{</span><span class="n">bioma_gif_path</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">bioma_gif_path</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;N/A&#39;</span><span class="si">}</span><span class="s2">, usando fondo esttico&quot;</span><span class="p">)</span>
</span><span id="L-1761"><a href="#L-1761"><span class="linenos">1761</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_biome_background</span><span class="p">()</span>
</span><span id="L-1762"><a href="#L-1762"><span class="linenos">1762</span></a>
</span><span id="L-1763"><a href="#L-1763"><span class="linenos">1763</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_biome_background</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1764"><a href="#L-1764"><span class="linenos">1764</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Crea un fondo esttico usando colores del bioma segn la escena.&quot;&quot;&quot;</span>
</span><span id="L-1765"><a href="#L-1765"><span class="linenos">1765</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1766"><a href="#L-1766"><span class="linenos">1766</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="L-1767"><a href="#L-1767"><span class="linenos">1767</span></a>        
</span><span id="L-1768"><a href="#L-1768"><span class="linenos">1768</span></a>        <span class="n">biome_colors</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-1769"><a href="#L-1769"><span class="linenos">1769</span></a>            <span class="p">(</span><span class="mi">135</span><span class="p">,</span> <span class="mi">206</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">149</span><span class="p">,</span> <span class="mi">237</span><span class="p">),</span>  <span class="c1"># Azul montaa</span>
</span><span id="L-1770"><a href="#L-1770"><span class="linenos">1770</span></a>            <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>       <span class="c1"># Naranja volcn</span>
</span><span id="L-1771"><a href="#L-1771"><span class="linenos">1771</span></a>            <span class="p">(</span><span class="mi">176</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>  <span class="c1"># Blanco glaciar</span>
</span><span id="L-1772"><a href="#L-1772"><span class="linenos">1772</span></a>            <span class="p">(</span><span class="mi">154</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">34</span><span class="p">),</span>     <span class="c1"># Verde altiplano</span>
</span><span id="L-1773"><a href="#L-1773"><span class="linenos">1773</span></a>            <span class="p">(</span><span class="mi">238</span><span class="p">,</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">173</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">63</span><span class="p">),</span>   <span class="c1"># Beige desierto</span>
</span><span id="L-1774"><a href="#L-1774"><span class="linenos">1774</span></a>            <span class="p">(</span><span class="mi">220</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>        <span class="c1"># Rojo volcn activo</span>
</span><span id="L-1775"><a href="#L-1775"><span class="linenos">1775</span></a>            <span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">248</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">180</span><span class="p">),</span>   <span class="c1"># Azul claro nevado</span>
</span><span id="L-1776"><a href="#L-1776"><span class="linenos">1776</span></a>            <span class="p">(</span><span class="mi">112</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">79</span><span class="p">),</span>     <span class="c1"># Gris cordillera</span>
</span><span id="L-1777"><a href="#L-1777"><span class="linenos">1777</span></a>            <span class="p">(</span><span class="mi">147</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">219</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">),</span>     <span class="c1"># Prpura laguna</span>
</span><span id="L-1778"><a href="#L-1778"><span class="linenos">1778</span></a>            <span class="p">(</span><span class="mi">34</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>        <span class="c1"># Verde selva</span>
</span><span id="L-1779"><a href="#L-1779"><span class="linenos">1779</span></a>            <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">215</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>    <span class="c1"># Amarillo valle</span>
</span><span id="L-1780"><a href="#L-1780"><span class="linenos">1780</span></a>            <span class="p">(</span><span class="mi">138</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">226</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">)</span>       <span class="c1"># Prpura cima suprema</span>
</span><span id="L-1781"><a href="#L-1781"><span class="linenos">1781</span></a>        <span class="p">]</span>
</span><span id="L-1782"><a href="#L-1782"><span class="linenos">1782</span></a>        
</span><span id="L-1783"><a href="#L-1783"><span class="linenos">1783</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">biome_colors</span><span class="p">):</span>
</span><span id="L-1784"><a href="#L-1784"><span class="linenos">1784</span></a>            <span class="n">sky_color</span> <span class="o">=</span> <span class="n">biome_colors</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">][:</span><span class="mi">3</span><span class="p">]</span>
</span><span id="L-1785"><a href="#L-1785"><span class="linenos">1785</span></a>            <span class="n">ground_color</span> <span class="o">=</span> <span class="n">biome_colors</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">][</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
</span><span id="L-1786"><a href="#L-1786"><span class="linenos">1786</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1787"><a href="#L-1787"><span class="linenos">1787</span></a>            <span class="n">sky_color</span> <span class="o">=</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="L-1788"><a href="#L-1788"><span class="linenos">1788</span></a>            <span class="n">ground_color</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="L-1789"><a href="#L-1789"><span class="linenos">1789</span></a>        
</span><span id="L-1790"><a href="#L-1790"><span class="linenos">1790</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">sky_color</span><span class="p">)</span>
</span><span id="L-1791"><a href="#L-1791"><span class="linenos">1791</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">,</span> <span class="n">ground_color</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">150</span><span class="p">,</span> <span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="mi">150</span><span class="p">))</span>
</span><span id="L-1792"><a href="#L-1792"><span class="linenos">1792</span></a>
</span><span id="L-1793"><a href="#L-1793"><span class="linenos">1793</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1794"><a href="#L-1794"><span class="linenos">1794</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la animacin del GIF si se est usando uno.&quot;&quot;&quot;</span>
</span><span id="L-1795"><a href="#L-1795"><span class="linenos">1795</span></a>
</span><span id="L-1796"><a href="#L-1796"><span class="linenos">1796</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span><span class="p">:</span>
</span><span id="L-1797"><a href="#L-1797"><span class="linenos">1797</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="L-1798"><a href="#L-1798"><span class="linenos">1798</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1799"><a href="#L-1799"><span class="linenos">1799</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1800"><a href="#L-1800"><span class="linenos">1800</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
</span><span id="L-1801"><a href="#L-1801"><span class="linenos">1801</span></a>
</span><span id="L-1802"><a href="#L-1802"><span class="linenos">1802</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="L-1803"><a href="#L-1803"><span class="linenos">1803</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja el fondo en la pantalla.</span>
</span><span id="L-1804"><a href="#L-1804"><span class="linenos">1804</span></a>
</span><span id="L-1805"><a href="#L-1805"><span class="linenos">1805</span></a><span class="sd">        Args:</span>
</span><span id="L-1806"><a href="#L-1806"><span class="linenos">1806</span></a><span class="sd">            screen (pygame.Surface): Superficie de Pygame donde se dibuja el fondo.</span>
</span><span id="L-1807"><a href="#L-1807"><span class="linenos">1807</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1808"><a href="#L-1808"><span class="linenos">1808</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span><span class="p">:</span>
</span><span id="L-1809"><a href="#L-1809"><span class="linenos">1809</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span><span class="p">],</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="L-1810"><a href="#L-1810"><span class="linenos">1810</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1811"><a href="#L-1811"><span class="linenos">1811</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="L-1812"><a href="#L-1812"><span class="linenos">1812</span></a>
</span><span id="L-1813"><a href="#L-1813"><span class="linenos">1813</span></a>
</span><span id="L-1814"><a href="#L-1814"><span class="linenos">1814</span></a><span class="c1"># ================== GAME MANAGER ==================</span>
</span><span id="L-1815"><a href="#L-1815"><span class="linenos">1815</span></a><span class="k">class</span><span class="w"> </span><span class="nc">GameManager</span><span class="p">:</span>
</span><span id="L-1816"><a href="#L-1816"><span class="linenos">1816</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase principal que gestiona el juego completo.&quot;&quot;&quot;</span>
</span><span id="L-1817"><a href="#L-1817"><span class="linenos">1817</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1818"><a href="#L-1818"><span class="linenos">1818</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa GameManager, carga msica del men, rbol de Apus y escenas.&quot;&quot;&quot;</span>
</span><span id="L-1819"><a href="#L-1819"><span class="linenos">1819</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-1820"><a href="#L-1820"><span class="linenos">1820</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span> <span class="o">=</span> <span class="mi">14</span>  <span class="c1"># Actualizado a 14 Apus</span>
</span><span id="L-1821"><a href="#L-1821"><span class="linenos">1821</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1822"><a href="#L-1822"><span class="linenos">1822</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span><span class="p">,</span> <span class="n">gif_path</span><span class="o">=</span><span class="s2">&quot;gif.gif&quot;</span><span class="p">,</span> <span class="n">scale_factor</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="L-1823"><a href="#L-1823"><span class="linenos">1823</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">AnimatedBackground</span><span class="p">(</span><span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-1824"><a href="#L-1824"><span class="linenos">1824</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;MENU&quot;</span>  <span class="c1">#  empieza en men</span>
</span><span id="L-1825"><a href="#L-1825"><span class="linenos">1825</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_big</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1826"><a href="#L-1826"><span class="linenos">1826</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1827"><a href="#L-1827"><span class="linenos">1827</span></a>
</span><span id="L-1828"><a href="#L-1828"><span class="linenos">1828</span></a>        <span class="c1">#  rbol binario de Apus</span>
</span><span id="L-1829"><a href="#L-1829"><span class="linenos">1829</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span> <span class="o">=</span> <span class="n">ArbolApus</span><span class="p">()</span>
</span><span id="L-1830"><a href="#L-1830"><span class="linenos">1830</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">poblar_arbol_apus</span><span class="p">()</span>  <span class="c1"># Poblar el rbol con los 14 Apus</span>
</span><span id="L-1831"><a href="#L-1831"><span class="linenos">1831</span></a>
</span><span id="L-1832"><a href="#L-1832"><span class="linenos">1832</span></a>        <span class="c1">#  Men principal (usando archivo separado)</span>
</span><span id="L-1833"><a href="#L-1833"><span class="linenos">1833</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">menu</span><span class="w"> </span><span class="kn">import</span> <span class="n">MainMenu</span>
</span><span id="L-1834"><a href="#L-1834"><span class="linenos">1834</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span> <span class="o">=</span> <span class="n">MainMenu</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">)</span>
</span><span id="L-1835"><a href="#L-1835"><span class="linenos">1835</span></a>
</span><span id="L-1836"><a href="#L-1836"><span class="linenos">1836</span></a>        <span class="c1">#  Escenas (ahora usando el rbol binario)</span>
</span><span id="L-1837"><a href="#L-1837"><span class="linenos">1837</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span><span class="p">):</span>
</span><span id="L-1838"><a href="#L-1838"><span class="linenos">1838</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">GameScene</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="p">))</span>
</span><span id="L-1839"><a href="#L-1839"><span class="linenos">1839</span></a>
</span><span id="L-1840"><a href="#L-1840"><span class="linenos">1840</span></a>        <span class="c1">#  Msica</span>
</span><span id="L-1841"><a href="#L-1841"><span class="linenos">1841</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1842"><a href="#L-1842"><span class="linenos">1842</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">load_menu_music</span><span class="p">()</span>  <span class="c1">#  suena msica del men apenas inicia</span>
</span><span id="L-1843"><a href="#L-1843"><span class="linenos">1843</span></a>
</span><span id="L-1844"><a href="#L-1844"><span class="linenos">1844</span></a>
</span><span id="L-1845"><a href="#L-1845"><span class="linenos">1845</span></a>
</span><span id="L-1846"><a href="#L-1846"><span class="linenos">1846</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">poblar_arbol_apus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1847"><a href="#L-1847"><span class="linenos">1847</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Poblar el rbol binario con los 14 Apus del juego usando clases especficas&quot;&quot;&quot;</span>
</span><span id="L-1848"><a href="#L-1848"><span class="linenos">1848</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; Poblando rbol binario con los 14 Apus usando clases especficas...&quot;</span><span class="p">)</span>
</span><span id="L-1849"><a href="#L-1849"><span class="linenos">1849</span></a>        
</span><span id="L-1850"><a href="#L-1850"><span class="linenos">1850</span></a>        <span class="c1"># Crear instancias de cada clase de Apu (en orden de la lista de Ekeko)</span>
</span><span id="L-1851"><a href="#L-1851"><span class="linenos">1851</span></a>        <span class="n">apus_instancias</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-1852"><a href="#L-1852"><span class="linenos">1852</span></a>            <span class="n">ApuHuascaran</span><span class="p">(),</span> <span class="n">ApuCoropuna</span><span class="p">(),</span> <span class="n">ApuMisti</span><span class="p">(),</span> <span class="n">ApuAmpato</span><span class="p">(),</span>
</span><span id="L-1853"><a href="#L-1853"><span class="linenos">1853</span></a>            <span class="n">ApuSaraSara</span><span class="p">(),</span> <span class="n">ApuSalkantay</span><span class="p">(),</span> <span class="n">ApuChachani</span><span class="p">(),</span> <span class="n">ApuCcarhuarazo</span><span class="p">(),</span>
</span><span id="L-1854"><a href="#L-1854"><span class="linenos">1854</span></a>            <span class="n">ApuRasuwillka</span><span class="p">(),</span> <span class="n">ApuHualcaHualca</span><span class="p">(),</span> <span class="n">ApuUarancante</span><span class="p">(),</span> <span class="n">ApuAllincapac</span><span class="p">(),</span>
</span><span id="L-1855"><a href="#L-1855"><span class="linenos">1855</span></a>            <span class="n">ApuKatunqui</span><span class="p">(),</span> <span class="n">ApuPatallacta</span><span class="p">()</span>
</span><span id="L-1856"><a href="#L-1856"><span class="linenos">1856</span></a>        <span class="p">]</span>
</span><span id="L-1857"><a href="#L-1857"><span class="linenos">1857</span></a>        
</span><span id="L-1858"><a href="#L-1858"><span class="linenos">1858</span></a>        <span class="c1"># Insertar todos los Apus en el rbol binario</span>
</span><span id="L-1859"><a href="#L-1859"><span class="linenos">1859</span></a>        <span class="k">for</span> <span class="n">apu</span> <span class="ow">in</span> <span class="n">apus_instancias</span><span class="p">:</span>
</span><span id="L-1860"><a href="#L-1860"><span class="linenos">1860</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">insertar</span><span class="p">(</span><span class="n">apu</span><span class="o">.</span><span class="n">nombre</span><span class="p">,</span> <span class="n">apu</span><span class="o">.</span><span class="n">get_datos</span><span class="p">())</span>
</span><span id="L-1861"><a href="#L-1861"><span class="linenos">1861</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">bioma</span><span class="si">}</span><span class="s2">) - Altura: </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">altura</span><span class="si">}</span><span class="s2">m - Illas: </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">illas_robadas</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-1862"><a href="#L-1862"><span class="linenos">1862</span></a>        
</span><span id="L-1863"><a href="#L-1863"><span class="linenos">1863</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;rbol binario poblado con </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">total_apus</span><span class="si">}</span><span class="s2"> Apus&quot;</span><span class="p">)</span>
</span><span id="L-1864"><a href="#L-1864"><span class="linenos">1864</span></a>        <span class="c1"># Mostrar estructura del rbol para debugging</span>
</span><span id="L-1865"><a href="#L-1865"><span class="linenos">1865</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">mostrar_arbol</span><span class="p">()</span>
</span><span id="L-1866"><a href="#L-1866"><span class="linenos">1866</span></a>        
</span><span id="L-1867"><a href="#L-1867"><span class="linenos">1867</span></a>        <span class="c1"># Demostrar funcionalidades del rbol binario</span>
</span><span id="L-1868"><a href="#L-1868"><span class="linenos">1868</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">demostrar_funcionalidades_arbol</span><span class="p">()</span>
</span><span id="L-1869"><a href="#L-1869"><span class="linenos">1869</span></a>    
</span><span id="L-1870"><a href="#L-1870"><span class="linenos">1870</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">demostrar_funcionalidades_arbol</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1871"><a href="#L-1871"><span class="linenos">1871</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Demuestra las funcionalidades del rbol binario&quot;&quot;&quot;</span>
</span><span id="L-1872"><a href="#L-1872"><span class="linenos">1872</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== DEMOSTRACIN DE FUNCIONALIDADES DEL RBOL BINARIO ===&quot;</span><span class="p">)</span>
</span><span id="L-1873"><a href="#L-1873"><span class="linenos">1873</span></a>        
</span><span id="L-1874"><a href="#L-1874"><span class="linenos">1874</span></a>        <span class="c1"># 1. Buscar un Apu especfico</span>
</span><span id="L-1875"><a href="#L-1875"><span class="linenos">1875</span></a>        <span class="n">apu_buscado</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">buscar</span><span class="p">(</span><span class="s2">&quot;Huascarn&quot;</span><span class="p">)</span>
</span><span id="L-1876"><a href="#L-1876"><span class="linenos">1876</span></a>        <span class="k">if</span> <span class="n">apu_buscado</span><span class="p">:</span>
</span><span id="L-1877"><a href="#L-1877"><span class="linenos">1877</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Bsqueda exitosa: Encontrado </span><span class="si">{</span><span class="n">apu_buscado</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">apu_buscado</span><span class="o">.</span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;bioma&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-1878"><a href="#L-1878"><span class="linenos">1878</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1879"><a href="#L-1879"><span class="linenos">1879</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; Apu no encontrado&quot;</span><span class="p">)</span>
</span><span id="L-1880"><a href="#L-1880"><span class="linenos">1880</span></a>        
</span><span id="L-1881"><a href="#L-1881"><span class="linenos">1881</span></a>        <span class="c1"># 2. Recorrer todos los Apus en orden alfabtico</span>
</span><span id="L-1882"><a href="#L-1882"><span class="linenos">1882</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Recorrido inorden (orden alfabtico) de todos los Apus:&quot;</span><span class="p">)</span>
</span><span id="L-1883"><a href="#L-1883"><span class="linenos">1883</span></a>        <span class="n">apus_ordenados</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">recorrer_inorden</span><span class="p">()</span>
</span><span id="L-1884"><a href="#L-1884"><span class="linenos">1884</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">apu</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">apus_ordenados</span><span class="p">):</span>
</span><span id="L-1885"><a href="#L-1885"><span class="linenos">1885</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;bioma&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-1886"><a href="#L-1886"><span class="linenos">1886</span></a>        
</span><span id="L-1887"><a href="#L-1887"><span class="linenos">1887</span></a>        <span class="c1"># 3. Obtener Apu por ndice</span>
</span><span id="L-1888"><a href="#L-1888"><span class="linenos">1888</span></a>        <span class="n">apu_por_indice</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">obtener_apu_por_indice</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-1889"><a href="#L-1889"><span class="linenos">1889</span></a>        <span class="k">if</span> <span class="n">apu_por_indice</span><span class="p">:</span>
</span><span id="L-1890"><a href="#L-1890"><span class="linenos">1890</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Primer Apu en orden alfabtico: </span><span class="si">{</span><span class="n">apu_por_indice</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-1891"><a href="#L-1891"><span class="linenos">1891</span></a>        
</span><span id="L-1892"><a href="#L-1892"><span class="linenos">1892</span></a>        <span class="c1"># 4. Mostrar cmo funciona el recorrido por niveles</span>
</span><span id="L-1893"><a href="#L-1893"><span class="linenos">1893</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> FUNCIONAMIENTO DEL RBOL BINARIO:&quot;</span><span class="p">)</span>
</span><span id="L-1894"><a href="#L-1894"><span class="linenos">1894</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; ORDENACIN: Los Apus se ordenan alfabticamente&quot;</span><span class="p">)</span>
</span><span id="L-1895"><a href="#L-1895"><span class="linenos">1895</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; INSERCIN: Nombres menores van a la IZQUIERDA, mayores a la DERECHA&quot;</span><span class="p">)</span>
</span><span id="L-1896"><a href="#L-1896"><span class="linenos">1896</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; BSQUEDA: Compara alfabticamente y navega por niveles&quot;</span><span class="p">)</span>
</span><span id="L-1897"><a href="#L-1897"><span class="linenos">1897</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; RECORRIDO: Visita izquierda  raz  derecha (orden alfabtico)&quot;</span><span class="p">)</span>
</span><span id="L-1898"><a href="#L-1898"><span class="linenos">1898</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; CAMBIO DE NIVEL: Automtico segn comparacin alfabtica&quot;</span><span class="p">)</span>
</span><span id="L-1899"><a href="#L-1899"><span class="linenos">1899</span></a>        
</span><span id="L-1900"><a href="#L-1900"><span class="linenos">1900</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
</span><span id="L-1901"><a href="#L-1901"><span class="linenos">1901</span></a>
</span><span id="L-1902"><a href="#L-1902"><span class="linenos">1902</span></a>    <span class="c1">#  LO NUEVO QUE DEBES AGREGAR AQU</span>
</span><span id="L-1903"><a href="#L-1903"><span class="linenos">1903</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">load_menu_music</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1904"><a href="#L-1904"><span class="linenos">1904</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Carga la msica del men principal si existe y no est sonando.&quot;&quot;&quot;</span>
</span><span id="L-1905"><a href="#L-1905"><span class="linenos">1905</span></a>        <span class="n">menu_music_path</span> <span class="o">=</span> <span class="s2">&quot;music/inicio.mp3&quot;</span>  <span class="c1">#  ruta actualizada</span>
</span><span id="L-1906"><a href="#L-1906"><span class="linenos">1906</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">menu_music_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">menu_music_path</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span><span class="p">:</span>
</span><span id="L-1907"><a href="#L-1907"><span class="linenos">1907</span></a>         <span class="n">stop_music</span><span class="p">()</span>
</span><span id="L-1908"><a href="#L-1908"><span class="linenos">1908</span></a>         <span class="n">play_music</span><span class="p">(</span><span class="n">menu_music_path</span><span class="p">)</span>
</span><span id="L-1909"><a href="#L-1909"><span class="linenos">1909</span></a>         <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span> <span class="o">=</span> <span class="n">menu_music_path</span>
</span><span id="L-1910"><a href="#L-1910"><span class="linenos">1910</span></a>         <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; Msica del MEN principal cargada&quot;</span><span class="p">)</span>
</span><span id="L-1911"><a href="#L-1911"><span class="linenos">1911</span></a>
</span><span id="L-1912"><a href="#L-1912"><span class="linenos">1912</span></a>
</span><span id="L-1913"><a href="#L-1913"><span class="linenos">1913</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">load_biome_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">):</span>
</span><span id="L-1914"><a href="#L-1914"><span class="linenos">1914</span></a><span class="w">     </span><span class="sd">&quot;&quot;&quot;Carga la msica del bioma correspondiente a la escena actual.&quot;&quot;&quot;</span>
</span><span id="L-1915"><a href="#L-1915"><span class="linenos">1915</span></a>     <span class="k">if</span> <span class="n">scene_number</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">BIOMA_MUSIC</span><span class="p">):</span>
</span><span id="L-1916"><a href="#L-1916"><span class="linenos">1916</span></a>        <span class="n">music_path</span> <span class="o">=</span> <span class="n">BIOMA_MUSIC</span><span class="p">[</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="L-1917"><a href="#L-1917"><span class="linenos">1917</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">music_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">music_path</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span><span class="p">:</span>
</span><span id="L-1918"><a href="#L-1918"><span class="linenos">1918</span></a>            <span class="n">stop_music</span><span class="p">()</span>
</span><span id="L-1919"><a href="#L-1919"><span class="linenos">1919</span></a>            <span class="n">play_music</span><span class="p">(</span><span class="n">music_path</span><span class="p">)</span>
</span><span id="L-1920"><a href="#L-1920"><span class="linenos">1920</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span> <span class="o">=</span> <span class="n">music_path</span>
</span><span id="L-1921"><a href="#L-1921"><span class="linenos">1921</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Msica del bioma </span><span class="si">{</span><span class="n">scene_number</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">music_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-1922"><a href="#L-1922"><span class="linenos">1922</span></a>
</span><span id="L-1923"><a href="#L-1923"><span class="linenos">1923</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="L-1924"><a href="#L-1924"><span class="linenos">1924</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gestiona la entrada del usuario segn el estado del juego.</span>
</span><span id="L-1925"><a href="#L-1925"><span class="linenos">1925</span></a>
</span><span id="L-1926"><a href="#L-1926"><span class="linenos">1926</span></a><span class="sd">        Args:</span>
</span><span id="L-1927"><a href="#L-1927"><span class="linenos">1927</span></a><span class="sd">            event (pygame.event.Event): Evento de Pygame capturado.</span>
</span><span id="L-1928"><a href="#L-1928"><span class="linenos">1928</span></a><span class="sd">        </span>
</span><span id="L-1929"><a href="#L-1929"><span class="linenos">1929</span></a><span class="sd">        Returns:</span>
</span><span id="L-1930"><a href="#L-1930"><span class="linenos">1930</span></a><span class="sd">            str: &quot;QUIT&quot; si se debe cerrar el juego, &quot;CONTINUE&quot; de lo contrario.</span>
</span><span id="L-1931"><a href="#L-1931"><span class="linenos">1931</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1932"><a href="#L-1932"><span class="linenos">1932</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;MENU&quot;</span><span class="p">:</span>
</span><span id="L-1933"><a href="#L-1933"><span class="linenos">1933</span></a>            <span class="c1"># Manejar tecla ESC para salir</span>
</span><span id="L-1934"><a href="#L-1934"><span class="linenos">1934</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_ESCAPE</span><span class="p">:</span>
</span><span id="L-1935"><a href="#L-1935"><span class="linenos">1935</span></a>                <span class="k">return</span> <span class="s2">&quot;QUIT&quot;</span>
</span><span id="L-1936"><a href="#L-1936"><span class="linenos">1936</span></a>            
</span><span id="L-1937"><a href="#L-1937"><span class="linenos">1937</span></a>            <span class="n">menu_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="L-1938"><a href="#L-1938"><span class="linenos">1938</span></a>            <span class="k">if</span> <span class="n">menu_result</span> <span class="o">==</span> <span class="s2">&quot;JUGAR&quot;</span><span class="p">:</span>
</span><span id="L-1939"><a href="#L-1939"><span class="linenos">1939</span></a>                <span class="n">stop_music</span><span class="p">()</span>
</span><span id="L-1940"><a href="#L-1940"><span class="linenos">1940</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;PLAYING&quot;</span>
</span><span id="L-1941"><a href="#L-1941"><span class="linenos">1941</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">load_biome_music</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-1942"><a href="#L-1942"><span class="linenos">1942</span></a>            <span class="k">elif</span> <span class="n">menu_result</span> <span class="o">==</span> <span class="s2">&quot;INSTRUCCIONES&quot;</span><span class="p">:</span>
</span><span id="L-1943"><a href="#L-1943"><span class="linenos">1943</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;INSTRUCTIONS&quot;</span>
</span><span id="L-1944"><a href="#L-1944"><span class="linenos">1944</span></a>            <span class="k">elif</span> <span class="n">menu_result</span> <span class="o">==</span> <span class="s2">&quot;SALIR&quot;</span><span class="p">:</span>
</span><span id="L-1945"><a href="#L-1945"><span class="linenos">1945</span></a>                <span class="k">return</span> <span class="s2">&quot;QUIT&quot;</span>
</span><span id="L-1946"><a href="#L-1946"><span class="linenos">1946</span></a>                
</span><span id="L-1947"><a href="#L-1947"><span class="linenos">1947</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;INSTRUCTIONS&quot;</span><span class="p">:</span>
</span><span id="L-1948"><a href="#L-1948"><span class="linenos">1948</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;instructions_screen&#39;</span><span class="p">):</span>
</span><span id="L-1949"><a href="#L-1949"><span class="linenos">1949</span></a>                <span class="kn">from</span><span class="w"> </span><span class="nn">menu</span><span class="w"> </span><span class="kn">import</span> <span class="n">InstructionsScreen</span>
</span><span id="L-1950"><a href="#L-1950"><span class="linenos">1950</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span> <span class="o">=</span> <span class="n">InstructionsScreen</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">)</span>
</span><span id="L-1951"><a href="#L-1951"><span class="linenos">1951</span></a>            <span class="n">instr_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="L-1952"><a href="#L-1952"><span class="linenos">1952</span></a>            <span class="k">if</span> <span class="n">instr_result</span> <span class="o">==</span> <span class="s2">&quot;BACK&quot;</span><span class="p">:</span>
</span><span id="L-1953"><a href="#L-1953"><span class="linenos">1953</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;MENU&quot;</span>
</span><span id="L-1954"><a href="#L-1954"><span class="linenos">1954</span></a>                
</span><span id="L-1955"><a href="#L-1955"><span class="linenos">1955</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;PLAYING&quot;</span><span class="p">:</span>
</span><span id="L-1956"><a href="#L-1956"><span class="linenos">1956</span></a>            <span class="c1"># Manejar tecla J para mostrar/ocultar mochila</span>
</span><span id="L-1957"><a href="#L-1957"><span class="linenos">1957</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_j</span><span class="p">:</span>
</span><span id="L-1958"><a href="#L-1958"><span class="linenos">1958</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">alternar_visibilidad</span><span class="p">()</span>
</span><span id="L-1959"><a href="#L-1959"><span class="linenos">1959</span></a>            
</span><span id="L-1960"><a href="#L-1960"><span class="linenos">1960</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">handle_event</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>
</span><span id="L-1961"><a href="#L-1961"><span class="linenos">1961</span></a>            <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="s2">&quot;GAME_OVER&quot;</span><span class="p">:</span>
</span><span id="L-1962"><a href="#L-1962"><span class="linenos">1962</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;GAME_OVER&quot;</span>
</span><span id="L-1963"><a href="#L-1963"><span class="linenos">1963</span></a>                <span class="n">stop_music</span><span class="p">()</span>
</span><span id="L-1964"><a href="#L-1964"><span class="linenos">1964</span></a>                
</span><span id="L-1965"><a href="#L-1965"><span class="linenos">1965</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;GAME_OVER&quot;</span><span class="p">,</span> <span class="s2">&quot;VICTORY&quot;</span><span class="p">]:</span>
</span><span id="L-1966"><a href="#L-1966"><span class="linenos">1966</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span><span class="p">:</span>
</span><span id="L-1967"><a href="#L-1967"><span class="linenos">1967</span></a>                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_r</span><span class="p">:</span>
</span><span id="L-1968"><a href="#L-1968"><span class="linenos">1968</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">restart_game</span><span class="p">()</span>
</span><span id="L-1969"><a href="#L-1969"><span class="linenos">1969</span></a>                <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_m</span><span class="p">:</span>
</span><span id="L-1970"><a href="#L-1970"><span class="linenos">1970</span></a>                    <span class="n">stop_music</span><span class="p">()</span>
</span><span id="L-1971"><a href="#L-1971"><span class="linenos">1971</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;MENU&quot;</span>
</span><span id="L-1972"><a href="#L-1972"><span class="linenos">1972</span></a>                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;main_menu&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="p">,</span> <span class="s1">&#39;menu_music_path&#39;</span><span class="p">):</span>
</span><span id="L-1973"><a href="#L-1973"><span class="linenos">1973</span></a>                        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">menu_music_path</span><span class="p">):</span>
</span><span id="L-1974"><a href="#L-1974"><span class="linenos">1974</span></a>                            <span class="n">play_music</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">menu_music_path</span><span class="p">)</span>
</span><span id="L-1975"><a href="#L-1975"><span class="linenos">1975</span></a>        
</span><span id="L-1976"><a href="#L-1976"><span class="linenos">1976</span></a>        <span class="k">return</span> <span class="s2">&quot;CONTINUE&quot;</span>
</span><span id="L-1977"><a href="#L-1977"><span class="linenos">1977</span></a>
</span><span id="L-1978"><a href="#L-1978"><span class="linenos">1978</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1979"><a href="#L-1979"><span class="linenos">1979</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza todos los elementos del juego segn el estado actual.&quot;&quot;&quot;</span>
</span><span id="L-1980"><a href="#L-1980"><span class="linenos">1980</span></a>
</span><span id="L-1981"><a href="#L-1981"><span class="linenos">1981</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;MENU&quot;</span><span class="p">:</span>
</span><span id="L-1982"><a href="#L-1982"><span class="linenos">1982</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-1983"><a href="#L-1983"><span class="linenos">1983</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;PLAYING&quot;</span><span class="p">:</span>
</span><span id="L-1984"><a href="#L-1984"><span class="linenos">1984</span></a>            <span class="n">keys</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">()</span>
</span><span id="L-1985"><a href="#L-1985"><span class="linenos">1985</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
</span><span id="L-1986"><a href="#L-1986"><span class="linenos">1986</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-1987"><a href="#L-1987"><span class="linenos">1987</span></a>            
</span><span id="L-1988"><a href="#L-1988"><span class="linenos">1988</span></a>            <span class="c1"># Actualizar la mochila del jugador</span>
</span><span id="L-1989"><a href="#L-1989"><span class="linenos">1989</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-1990"><a href="#L-1990"><span class="linenos">1990</span></a>            
</span><span id="L-1991"><a href="#L-1991"><span class="linenos">1991</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>
</span><span id="L-1992"><a href="#L-1992"><span class="linenos">1992</span></a>            
</span><span id="L-1993"><a href="#L-1993"><span class="linenos">1993</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">can_advance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">):</span>
</span><span id="L-1994"><a href="#L-1994"><span class="linenos">1994</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">advance_to_next_scene</span><span class="p">()</span>
</span><span id="L-1995"><a href="#L-1995"><span class="linenos">1995</span></a>            
</span><span id="L-1996"><a href="#L-1996"><span class="linenos">1996</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-1997"><a href="#L-1997"><span class="linenos">1997</span></a>
</span><span id="L-1998"><a href="#L-1998"><span class="linenos">1998</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">advance_to_next_scene</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1999"><a href="#L-1999"><span class="linenos">1999</span></a><span class="w">     </span><span class="sd">&quot;&quot;&quot;Avanza a la siguiente escena si se cumplen las condiciones.&quot;&quot;&quot;</span>
</span><span id="L-2000"><a href="#L-2000"><span class="linenos">2000</span></a>
</span><span id="L-2001"><a href="#L-2001"><span class="linenos">2001</span></a>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-2002"><a href="#L-2002"><span class="linenos">2002</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-2003"><a href="#L-2003"><span class="linenos">2003</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="L-2004"><a href="#L-2004"><span class="linenos">2004</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span>
</span><span id="L-2005"><a href="#L-2005"><span class="linenos">2005</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">AnimatedBackground</span><span class="p">(</span><span class="n">scene_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">)</span>
</span><span id="L-2006"><a href="#L-2006"><span class="linenos">2006</span></a>
</span><span id="L-2007"><a href="#L-2007"><span class="linenos">2007</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">load_biome_music</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">)</span>  <span class="c1">#  cambia msica</span>
</span><span id="L-2008"><a href="#L-2008"><span class="linenos">2008</span></a>     <span class="k">else</span><span class="p">:</span>
</span><span id="L-2009"><a href="#L-2009"><span class="linenos">2009</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;VICTORY&quot;</span>
</span><span id="L-2010"><a href="#L-2010"><span class="linenos">2010</span></a>        <span class="n">stop_music</span><span class="p">()</span>
</span><span id="L-2011"><a href="#L-2011"><span class="linenos">2011</span></a>
</span><span id="L-2012"><a href="#L-2012"><span class="linenos">2012</span></a>
</span><span id="L-2013"><a href="#L-2013"><span class="linenos">2013</span></a>
</span><span id="L-2014"><a href="#L-2014"><span class="linenos">2014</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">restart_game</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-2015"><a href="#L-2015"><span class="linenos">2015</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Reinicia el juego desde la primera escena y resetea jugador y escenas.&quot;&quot;&quot;</span>
</span><span id="L-2016"><a href="#L-2016"><span class="linenos">2016</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-2017"><a href="#L-2017"><span class="linenos">2017</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span><span class="p">,</span> <span class="n">gif_path</span><span class="o">=</span><span class="s2">&quot;gif.gif&quot;</span><span class="p">,</span> <span class="n">scale_factor</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="L-2018"><a href="#L-2018"><span class="linenos">2018</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">AnimatedBackground</span><span class="p">(</span><span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-2019"><a href="#L-2019"><span class="linenos">2019</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;PLAYING&quot;</span>
</span><span id="L-2020"><a href="#L-2020"><span class="linenos">2020</span></a>        
</span><span id="L-2021"><a href="#L-2021"><span class="linenos">2021</span></a>        <span class="c1"># Recrear las escenas usando el rbol binario</span>
</span><span id="L-2022"><a href="#L-2022"><span class="linenos">2022</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-2023"><a href="#L-2023"><span class="linenos">2023</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span><span class="p">):</span>
</span><span id="L-2024"><a href="#L-2024"><span class="linenos">2024</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">GameScene</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="p">))</span>
</span><span id="L-2025"><a href="#L-2025"><span class="linenos">2025</span></a>        
</span><span id="L-2026"><a href="#L-2026"><span class="linenos">2026</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">load_biome_music</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-2027"><a href="#L-2027"><span class="linenos">2027</span></a>
</span><span id="L-2028"><a href="#L-2028"><span class="linenos">2028</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="L-2029"><a href="#L-2029"><span class="linenos">2029</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja todos los elementos visibles segn el estado del juego.</span>
</span><span id="L-2030"><a href="#L-2030"><span class="linenos">2030</span></a>
</span><span id="L-2031"><a href="#L-2031"><span class="linenos">2031</span></a><span class="sd">        Args:</span>
</span><span id="L-2032"><a href="#L-2032"><span class="linenos">2032</span></a><span class="sd">            screen (pygame.Surface): Superficie de Pygame donde se dibuja.</span>
</span><span id="L-2033"><a href="#L-2033"><span class="linenos">2033</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2034"><a href="#L-2034"><span class="linenos">2034</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;MENU&quot;</span><span class="p">:</span>
</span><span id="L-2035"><a href="#L-2035"><span class="linenos">2035</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-2036"><a href="#L-2036"><span class="linenos">2036</span></a>            
</span><span id="L-2037"><a href="#L-2037"><span class="linenos">2037</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;INSTRUCTIONS&quot;</span><span class="p">:</span>
</span><span id="L-2038"><a href="#L-2038"><span class="linenos">2038</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>  <span class="c1"># Fondo del men</span>
</span><span id="L-2039"><a href="#L-2039"><span class="linenos">2039</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">menu</span><span class="w"> </span><span class="kn">import</span> <span class="n">InstructionsScreen</span>
</span><span id="L-2040"><a href="#L-2040"><span class="linenos">2040</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;instructions_screen&#39;</span><span class="p">):</span>
</span><span id="L-2041"><a href="#L-2041"><span class="linenos">2041</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span> <span class="o">=</span> <span class="n">InstructionsScreen</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">)</span>
</span><span id="L-2042"><a href="#L-2042"><span class="linenos">2042</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-2043"><a href="#L-2043"><span class="linenos">2043</span></a>            
</span><span id="L-2044"><a href="#L-2044"><span class="linenos">2044</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;PLAYING&quot;</span><span class="p">:</span>
</span><span id="L-2045"><a href="#L-2045"><span class="linenos">2045</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-2046"><a href="#L-2046"><span class="linenos">2046</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-2047"><a href="#L-2047"><span class="linenos">2047</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>
</span><span id="L-2048"><a href="#L-2048"><span class="linenos">2048</span></a>            
</span><span id="L-2049"><a href="#L-2049"><span class="linenos">2049</span></a>            <span class="c1"># Dibujar mochila si est abierta</span>
</span><span id="L-2050"><a href="#L-2050"><span class="linenos">2050</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-2051"><a href="#L-2051"><span class="linenos">2051</span></a>            
</span><span id="L-2052"><a href="#L-2052"><span class="linenos">2052</span></a>            <span class="n">progress_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Progreso: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">/14&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-2053"><a href="#L-2053"><span class="linenos">2053</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">progress_text</span><span class="p">,</span> <span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</span><span id="L-2054"><a href="#L-2054"><span class="linenos">2054</span></a>            
</span><span id="L-2055"><a href="#L-2055"><span class="linenos">2055</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;GAME_OVER&quot;</span><span class="p">:</span>
</span><span id="L-2056"><a href="#L-2056"><span class="linenos">2056</span></a>            <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="L-2057"><a href="#L-2057"><span class="linenos">2057</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</span><span id="L-2058"><a href="#L-2058"><span class="linenos">2058</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="L-2059"><a href="#L-2059"><span class="linenos">2059</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="L-2060"><a href="#L-2060"><span class="linenos">2060</span></a>            
</span><span id="L-2061"><a href="#L-2061"><span class="linenos">2061</span></a>            <span class="n">game_over_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_big</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;GAME OVER!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">RED</span><span class="p">)</span>
</span><span id="L-2062"><a href="#L-2062"><span class="linenos">2062</span></a>            <span class="n">game_over_rect</span> <span class="o">=</span> <span class="n">game_over_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">70</span><span class="p">))</span>
</span><span id="L-2063"><a href="#L-2063"><span class="linenos">2063</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">game_over_text</span><span class="p">,</span> <span class="n">game_over_rect</span><span class="p">)</span>
</span><span id="L-2064"><a href="#L-2064"><span class="linenos">2064</span></a>            
</span><span id="L-2065"><a href="#L-2065"><span class="linenos">2065</span></a>            <span class="n">score_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Llegaste hasta la escena </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-2066"><a href="#L-2066"><span class="linenos">2066</span></a>            <span class="n">score_rect</span> <span class="o">=</span> <span class="n">score_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="L-2067"><a href="#L-2067"><span class="linenos">2067</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">score_text</span><span class="p">,</span> <span class="n">score_rect</span><span class="p">)</span>
</span><span id="L-2068"><a href="#L-2068"><span class="linenos">2068</span></a>            
</span><span id="L-2069"><a href="#L-2069"><span class="linenos">2069</span></a>            <span class="n">articles_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Illas recuperadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-2070"><a href="#L-2070"><span class="linenos">2070</span></a>            <span class="n">articles_rect</span> <span class="o">=</span> <span class="n">articles_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">10</span><span class="p">))</span>
</span><span id="L-2071"><a href="#L-2071"><span class="linenos">2071</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">articles_text</span><span class="p">,</span> <span class="n">articles_rect</span><span class="p">)</span>
</span><span id="L-2072"><a href="#L-2072"><span class="linenos">2072</span></a>            
</span><span id="L-2073"><a href="#L-2073"><span class="linenos">2073</span></a>            <span class="n">restart_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Presiona &#39;R&#39; para reiniciar | &#39;M&#39; para men&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="L-2074"><a href="#L-2074"><span class="linenos">2074</span></a>            <span class="n">restart_rect</span> <span class="o">=</span> <span class="n">restart_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">60</span><span class="p">))</span>
</span><span id="L-2075"><a href="#L-2075"><span class="linenos">2075</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">restart_text</span><span class="p">,</span> <span class="n">restart_rect</span><span class="p">)</span>
</span><span id="L-2076"><a href="#L-2076"><span class="linenos">2076</span></a>            
</span><span id="L-2077"><a href="#L-2077"><span class="linenos">2077</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;VICTORY&quot;</span><span class="p">:</span>
</span><span id="L-2078"><a href="#L-2078"><span class="linenos">2078</span></a>            <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="L-2079"><a href="#L-2079"><span class="linenos">2079</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</span><span id="L-2080"><a href="#L-2080"><span class="linenos">2080</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="L-2081"><a href="#L-2081"><span class="linenos">2081</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="L-2082"><a href="#L-2082"><span class="linenos">2082</span></a>            
</span><span id="L-2083"><a href="#L-2083"><span class="linenos">2083</span></a>            <span class="n">victory_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_big</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;VICTORIA TOTAL!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GREEN</span><span class="p">)</span>
</span><span id="L-2084"><a href="#L-2084"><span class="linenos">2084</span></a>            <span class="n">victory_rect</span> <span class="o">=</span> <span class="n">victory_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">90</span><span class="p">))</span>
</span><span id="L-2085"><a href="#L-2085"><span class="linenos">2085</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">victory_text</span><span class="p">,</span> <span class="n">victory_rect</span><span class="p">)</span>
</span><span id="L-2086"><a href="#L-2086"><span class="linenos">2086</span></a>            
</span><span id="L-2087"><a href="#L-2087"><span class="linenos">2087</span></a>            <span class="n">completion_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Ekeko complet su aventura por los 14 Apus!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="L-2088"><a href="#L-2088"><span class="linenos">2088</span></a>            <span class="n">completion_rect</span> <span class="o">=</span> <span class="n">completion_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">40</span><span class="p">))</span>
</span><span id="L-2089"><a href="#L-2089"><span class="linenos">2089</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">completion_text</span><span class="p">,</span> <span class="n">completion_rect</span><span class="p">)</span>
</span><span id="L-2090"><a href="#L-2090"><span class="linenos">2090</span></a>            
</span><span id="L-2091"><a href="#L-2091"><span class="linenos">2091</span></a>            <span class="n">articles_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
</span><span id="L-2092"><a href="#L-2092"><span class="linenos">2092</span></a>                <span class="sa">f</span><span class="s2">&quot;Illas sagradas recuperadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span><span class="p">,</span> 
</span><span id="L-2093"><a href="#L-2093"><span class="linenos">2093</span></a>                <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span>
</span><span id="L-2094"><a href="#L-2094"><span class="linenos">2094</span></a>            <span class="p">)</span>
</span><span id="L-2095"><a href="#L-2095"><span class="linenos">2095</span></a>            <span class="n">articles_rect</span> <span class="o">=</span> <span class="n">articles_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="L-2096"><a href="#L-2096"><span class="linenos">2096</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">articles_text</span><span class="p">,</span> <span class="n">articles_rect</span><span class="p">)</span>
</span><span id="L-2097"><a href="#L-2097"><span class="linenos">2097</span></a>            
</span><span id="L-2098"><a href="#L-2098"><span class="linenos">2098</span></a>            <span class="n">restart_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Presiona &#39;R&#39; para reiniciar | &#39;M&#39; para men&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="L-2099"><a href="#L-2099"><span class="linenos">2099</span></a>            <span class="n">restart_rect</span> <span class="o">=</span> <span class="n">restart_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">60</span><span class="p">))</span>
</span><span id="L-2100"><a href="#L-2100"><span class="linenos">2100</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">restart_text</span><span class="p">,</span> <span class="n">restart_rect</span><span class="p">)</span>
</span><span id="L-2101"><a href="#L-2101"><span class="linenos">2101</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-2102"><a href="#L-2102"><span class="linenos">2102</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Bucle principal del juego. Maneja eventos, actualizaciones y renderizado.&quot;&quot;&quot;</span>
</span><span id="L-2103"><a href="#L-2103"><span class="linenos">2103</span></a>        <span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-2104"><a href="#L-2104"><span class="linenos">2104</span></a>        <span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
</span><span id="L-2105"><a href="#L-2105"><span class="linenos">2105</span></a>        <span class="k">while</span> <span class="n">running</span><span class="p">:</span>
</span><span id="L-2106"><a href="#L-2106"><span class="linenos">2106</span></a>            <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="L-2107"><a href="#L-2107"><span class="linenos">2107</span></a>                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span><span id="L-2108"><a href="#L-2108"><span class="linenos">2108</span></a>                    <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-2109"><a href="#L-2109"><span class="linenos">2109</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-2110"><a href="#L-2110"><span class="linenos">2110</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">handle_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="L-2111"><a href="#L-2111"><span class="linenos">2111</span></a>
</span><span id="L-2112"><a href="#L-2112"><span class="linenos">2112</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-2113"><a href="#L-2113"><span class="linenos">2113</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-2114"><a href="#L-2114"><span class="linenos">2114</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span><span id="L-2115"><a href="#L-2115"><span class="linenos">2115</span></a>            <span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>  <span class="c1"># 60 FPS</span>
</span><span id="L-2116"><a href="#L-2116"><span class="linenos">2116</span></a>
</span><span id="L-2117"><a href="#L-2117"><span class="linenos">2117</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span><span id="L-2118"><a href="#L-2118"><span class="linenos">2118</span></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
</span><span id="L-2119"><a href="#L-2119"><span class="linenos">2119</span></a>    <span class="n">game</span> <span class="o">=</span> <span class="n">GameManager</span><span class="p">()</span>
</span><span id="L-2120"><a href="#L-2120"><span class="linenos">2120</span></a>    <span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-2121"><a href="#L-2121"><span class="linenos">2121</span></a>    <span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
</span><span id="L-2122"><a href="#L-2122"><span class="linenos">2122</span></a>    <span class="k">while</span> <span class="n">running</span><span class="p">:</span>
</span><span id="L-2123"><a href="#L-2123"><span class="linenos">2123</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="L-2124"><a href="#L-2124"><span class="linenos">2124</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span><span id="L-2125"><a href="#L-2125"><span class="linenos">2125</span></a>                <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-2126"><a href="#L-2126"><span class="linenos">2126</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-2127"><a href="#L-2127"><span class="linenos">2127</span></a>                <span class="n">game</span><span class="o">.</span><span class="n">handle_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="L-2128"><a href="#L-2128"><span class="linenos">2128</span></a>
</span><span id="L-2129"><a href="#L-2129"><span class="linenos">2129</span></a>        <span class="n">game</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-2130"><a href="#L-2130"><span class="linenos">2130</span></a>        <span class="n">game</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="L-2131"><a href="#L-2131"><span class="linenos">2131</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span><span id="L-2132"><a href="#L-2132"><span class="linenos">2132</span></a>        <span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
</span><span id="L-2133"><a href="#L-2133"><span class="linenos">2133</span></a>
</span><span id="L-2134"><a href="#L-2134"><span class="linenos">2134</span></a>    <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span><span id="L-2135"><a href="#L-2135"><span class="linenos">2135</span></a>
</span><span id="L-2136"><a href="#L-2136"><span class="linenos">2136</span></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="L-2137"><a href="#L-2137"><span class="linenos">2137</span></a>    <span class="n">main</span><span class="p">()</span>
</span></pre></div>


            </section>
                <section id="NodoApu">
                            <input id="NodoApu-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">NodoApu</span>:

                <label class="view-source-button" for="NodoApu-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NodoApu"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NodoApu-49"><a href="#NodoApu-49"><span class="linenos">49</span></a><span class="k">class</span><span class="w"> </span><span class="nc">NodoApu</span><span class="p">:</span>
</span><span id="NodoApu-50"><a href="#NodoApu-50"><span class="linenos">50</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Nodo del rbol binario que representa un Apu</span>
</span><span id="NodoApu-51"><a href="#NodoApu-51"><span class="linenos">51</span></a>
</span><span id="NodoApu-52"><a href="#NodoApu-52"><span class="linenos">52</span></a><span class="sd">    Atributos:</span>
</span><span id="NodoApu-53"><a href="#NodoApu-53"><span class="linenos">53</span></a><span class="sd">        nombre (str): Nombre del Apu.</span>
</span><span id="NodoApu-54"><a href="#NodoApu-54"><span class="linenos">54</span></a><span class="sd">        datos (dict): Diccionario con la informacin del Apu (color, salud, bioma, gif).</span>
</span><span id="NodoApu-55"><a href="#NodoApu-55"><span class="linenos">55</span></a><span class="sd">        izquierda (NodoApu): Referencia al hijo izquierdo.</span>
</span><span id="NodoApu-56"><a href="#NodoApu-56"><span class="linenos">56</span></a><span class="sd">        derecha (NodoApu): Referencia al hijo derecho.</span>
</span><span id="NodoApu-57"><a href="#NodoApu-57"><span class="linenos">57</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="NodoApu-58"><a href="#NodoApu-58"><span class="linenos">58</span></a>
</span><span id="NodoApu-59"><a href="#NodoApu-59"><span class="linenos">59</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">):</span>
</span><span id="NodoApu-60"><a href="#NodoApu-60"><span class="linenos">60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">=</span> <span class="n">nombre</span>
</span><span id="NodoApu-61"><a href="#NodoApu-61"><span class="linenos">61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">datos</span> <span class="o">=</span> <span class="n">datos</span>  <span class="c1"># Contiene color, health, bioma, gif</span>
</span><span id="NodoApu-62"><a href="#NodoApu-62"><span class="linenos">62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">izquierda</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="NodoApu-63"><a href="#NodoApu-63"><span class="linenos">63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">derecha</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Nodo del rbol binario que representa un Apu</p>

<p>Atributos:
    nombre (str): Nombre del Apu.
    datos (dict): Diccionario con la informacin del Apu (color, salud, bioma, gif).
    izquierda (NodoApu): Referencia al hijo izquierdo.
    derecha (NodoApu): Referencia al hijo derecho.</p>
</div>


                            <div id="NodoApu.__init__" class="classattr">
                                        <input id="NodoApu.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">NodoApu</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">nombre</span>, </span><span class="param"><span class="n">datos</span></span>)</span>

                <label class="view-source-button" for="NodoApu.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NodoApu.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NodoApu.__init__-59"><a href="#NodoApu.__init__-59"><span class="linenos">59</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">):</span>
</span><span id="NodoApu.__init__-60"><a href="#NodoApu.__init__-60"><span class="linenos">60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">=</span> <span class="n">nombre</span>
</span><span id="NodoApu.__init__-61"><a href="#NodoApu.__init__-61"><span class="linenos">61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">datos</span> <span class="o">=</span> <span class="n">datos</span>  <span class="c1"># Contiene color, health, bioma, gif</span>
</span><span id="NodoApu.__init__-62"><a href="#NodoApu.__init__-62"><span class="linenos">62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">izquierda</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="NodoApu.__init__-63"><a href="#NodoApu.__init__-63"><span class="linenos">63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">derecha</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                            <div id="NodoApu.nombre" class="classattr">
                                <div class="attr variable">
            <span class="name">nombre</span>

        
    </div>
    <a class="headerlink" href="#NodoApu.nombre"></a>
    
    

                            </div>
                            <div id="NodoApu.datos" class="classattr">
                                <div class="attr variable">
            <span class="name">datos</span>

        
    </div>
    <a class="headerlink" href="#NodoApu.datos"></a>
    
    

                            </div>
                            <div id="NodoApu.izquierda" class="classattr">
                                <div class="attr variable">
            <span class="name">izquierda</span>

        
    </div>
    <a class="headerlink" href="#NodoApu.izquierda"></a>
    
    

                            </div>
                            <div id="NodoApu.derecha" class="classattr">
                                <div class="attr variable">
            <span class="name">derecha</span>

        
    </div>
    <a class="headerlink" href="#NodoApu.derecha"></a>
    
    

                            </div>
                </section>
                <section id="ArbolApus">
                            <input id="ArbolApus-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ArbolApus</span>:

                <label class="view-source-button" for="ArbolApus-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArbolApus"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArbolApus-65"><a href="#ArbolApus-65"><span class="linenos"> 65</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArbolApus</span><span class="p">:</span>
</span><span id="ArbolApus-66"><a href="#ArbolApus-66"><span class="linenos"> 66</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;rbol binario para gestionar los 12 Apus del juego</span>
</span><span id="ArbolApus-67"><a href="#ArbolApus-67"><span class="linenos"> 67</span></a><span class="sd">    </span>
</span><span id="ArbolApus-68"><a href="#ArbolApus-68"><span class="linenos"> 68</span></a><span class="sd">    FUNCIONAMIENTO DEL RBOL BINARIO:</span>
</span><span id="ArbolApus-69"><a href="#ArbolApus-69"><span class="linenos"> 69</span></a><span class="sd">    - Se ordena alfabticamente por nombre del Apu</span>
</span><span id="ArbolApus-70"><a href="#ArbolApus-70"><span class="linenos"> 70</span></a><span class="sd">    - Al insertar: nombres menores van a la izquierda, mayores a la derecha</span>
</span><span id="ArbolApus-71"><a href="#ArbolApus-71"><span class="linenos"> 71</span></a><span class="sd">    - Al buscar: compara alfabticamente y navega por el rbol</span>
</span><span id="ArbolApus-72"><a href="#ArbolApus-72"><span class="linenos"> 72</span></a><span class="sd">    - Al recorrer: visita izquierda  raz  derecha (orden alfabtico)</span>
</span><span id="ArbolApus-73"><a href="#ArbolApus-73"><span class="linenos"> 73</span></a><span class="sd">    - Al cambiar de nivel: se mueve automticamente segn la comparacin alfabtica</span>
</span><span id="ArbolApus-74"><a href="#ArbolApus-74"><span class="linenos"> 74</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ArbolApus-75"><a href="#ArbolApus-75"><span class="linenos"> 75</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ArbolApus-76"><a href="#ArbolApus-76"><span class="linenos"> 76</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">raiz</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ArbolApus-77"><a href="#ArbolApus-77"><span class="linenos"> 77</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="ArbolApus-78"><a href="#ArbolApus-78"><span class="linenos"> 78</span></a>    
</span><span id="ArbolApus-79"><a href="#ArbolApus-79"><span class="linenos"> 79</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">insertar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">):</span>
</span><span id="ArbolApus-80"><a href="#ArbolApus-80"><span class="linenos"> 80</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inserta un nuevo Apu en el rbol binario ordenado alfabticamente&quot;&quot;&quot;</span>
</span><span id="ArbolApus-81"><a href="#ArbolApus-81"><span class="linenos"> 81</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">raiz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArbolApus-82"><a href="#ArbolApus-82"><span class="linenos"> 82</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">raiz</span> <span class="o">=</span> <span class="n">NodoApu</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>  <span class="c1"># # INSERTAR APU: Raz del rbol</span>
</span><span id="ArbolApus-83"><a href="#ArbolApus-83"><span class="linenos"> 83</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="ArbolApus-84"><a href="#ArbolApus-84"><span class="linenos"> 84</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ArbolApus-85"><a href="#ArbolApus-85"><span class="linenos"> 85</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_insertar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>
</span><span id="ArbolApus-86"><a href="#ArbolApus-86"><span class="linenos"> 86</span></a>    
</span><span id="ArbolApus-87"><a href="#ArbolApus-87"><span class="linenos"> 87</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_insertar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodo</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">):</span>
</span><span id="ArbolApus-88"><a href="#ArbolApus-88"><span class="linenos"> 88</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Mtodo recursivo para insertar un Apu - ORDENA ALFABTICAMENTE&quot;&quot;&quot;</span>
</span><span id="ArbolApus-89"><a href="#ArbolApus-89"><span class="linenos"> 89</span></a>        <span class="k">if</span> <span class="n">nombre</span> <span class="o">&lt;</span> <span class="n">nodo</span><span class="o">.</span><span class="n">nombre</span><span class="p">:</span>
</span><span id="ArbolApus-90"><a href="#ArbolApus-90"><span class="linenos"> 90</span></a>            <span class="k">if</span> <span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArbolApus-91"><a href="#ArbolApus-91"><span class="linenos"> 91</span></a>                <span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span> <span class="o">=</span> <span class="n">NodoApu</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>  <span class="c1"># # INSERTAR APU: Hijo izquierdo</span>
</span><span id="ArbolApus-92"><a href="#ArbolApus-92"><span class="linenos"> 92</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="ArbolApus-93"><a href="#ArbolApus-93"><span class="linenos"> 93</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="ArbolApus-94"><a href="#ArbolApus-94"><span class="linenos"> 94</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_insertar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>
</span><span id="ArbolApus-95"><a href="#ArbolApus-95"><span class="linenos"> 95</span></a>        <span class="k">elif</span> <span class="n">nombre</span> <span class="o">&gt;</span> <span class="n">nodo</span><span class="o">.</span><span class="n">nombre</span><span class="p">:</span>
</span><span id="ArbolApus-96"><a href="#ArbolApus-96"><span class="linenos"> 96</span></a>            <span class="k">if</span> <span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArbolApus-97"><a href="#ArbolApus-97"><span class="linenos"> 97</span></a>                <span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span> <span class="o">=</span> <span class="n">NodoApu</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>  <span class="c1"># # INSERTAR APU: Hijo derecho</span>
</span><span id="ArbolApus-98"><a href="#ArbolApus-98"><span class="linenos"> 98</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="ArbolApus-99"><a href="#ArbolApus-99"><span class="linenos"> 99</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="ArbolApus-100"><a href="#ArbolApus-100"><span class="linenos">100</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_insertar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>
</span><span id="ArbolApus-101"><a href="#ArbolApus-101"><span class="linenos">101</span></a>    
</span><span id="ArbolApus-102"><a href="#ArbolApus-102"><span class="linenos">102</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">buscar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">):</span>
</span><span id="ArbolApus-103"><a href="#ArbolApus-103"><span class="linenos">103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Busca un Apu por su nombre en el rbol - NAVEGA POR NIVELES&quot;&quot;&quot;</span>
</span><span id="ArbolApus-104"><a href="#ArbolApus-104"><span class="linenos">104</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buscar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="n">nombre</span><span class="p">)</span>
</span><span id="ArbolApus-105"><a href="#ArbolApus-105"><span class="linenos">105</span></a>    
</span><span id="ArbolApus-106"><a href="#ArbolApus-106"><span class="linenos">106</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_buscar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodo</span><span class="p">,</span> <span class="n">nombre</span><span class="p">):</span>
</span><span id="ArbolApus-107"><a href="#ArbolApus-107"><span class="linenos">107</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Mtodo recursivo para buscar un Apu - RECORRE NIVELES DEL RBOL&quot;&quot;&quot;</span>
</span><span id="ArbolApus-108"><a href="#ArbolApus-108"><span class="linenos">108</span></a>        <span class="k">if</span> <span class="n">nodo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArbolApus-109"><a href="#ArbolApus-109"><span class="linenos">109</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="ArbolApus-110"><a href="#ArbolApus-110"><span class="linenos">110</span></a>        <span class="k">if</span> <span class="n">nodo</span><span class="o">.</span><span class="n">nombre</span> <span class="o">==</span> <span class="n">nombre</span><span class="p">:</span>
</span><span id="ArbolApus-111"><a href="#ArbolApus-111"><span class="linenos">111</span></a>            <span class="k">return</span> <span class="n">nodo</span>
</span><span id="ArbolApus-112"><a href="#ArbolApus-112"><span class="linenos">112</span></a>        <span class="k">elif</span> <span class="n">nombre</span> <span class="o">&lt;</span> <span class="n">nodo</span><span class="o">.</span><span class="n">nombre</span><span class="p">:</span>
</span><span id="ArbolApus-113"><a href="#ArbolApus-113"><span class="linenos">113</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buscar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span><span class="p">,</span> <span class="n">nombre</span><span class="p">)</span>  <span class="c1"># Baja al nivel izquierdo</span>
</span><span id="ArbolApus-114"><a href="#ArbolApus-114"><span class="linenos">114</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ArbolApus-115"><a href="#ArbolApus-115"><span class="linenos">115</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buscar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span><span class="p">,</span> <span class="n">nombre</span><span class="p">)</span>  <span class="c1"># Baja al nivel derecho</span>
</span><span id="ArbolApus-116"><a href="#ArbolApus-116"><span class="linenos">116</span></a>    
</span><span id="ArbolApus-117"><a href="#ArbolApus-117"><span class="linenos">117</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">recorrer_inorden</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ArbolApus-118"><a href="#ArbolApus-118"><span class="linenos">118</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Recorre el rbol en orden (izquierda, raz, derecha) - ORDEN ALFABTICO&quot;&quot;&quot;</span>
</span><span id="ArbolApus-119"><a href="#ArbolApus-119"><span class="linenos">119</span></a>        <span class="n">apus_ordenados</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ArbolApus-120"><a href="#ArbolApus-120"><span class="linenos">120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_inorden_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="n">apus_ordenados</span><span class="p">)</span>
</span><span id="ArbolApus-121"><a href="#ArbolApus-121"><span class="linenos">121</span></a>        <span class="k">return</span> <span class="n">apus_ordenados</span>
</span><span id="ArbolApus-122"><a href="#ArbolApus-122"><span class="linenos">122</span></a>    
</span><span id="ArbolApus-123"><a href="#ArbolApus-123"><span class="linenos">123</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_inorden_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodo</span><span class="p">,</span> <span class="n">lista</span><span class="p">):</span>
</span><span id="ArbolApus-124"><a href="#ArbolApus-124"><span class="linenos">124</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Recorrido inorden recursivo - VISITA TODOS LOS NIVELES&quot;&quot;&quot;</span>
</span><span id="ArbolApus-125"><a href="#ArbolApus-125"><span class="linenos">125</span></a>        <span class="k">if</span> <span class="n">nodo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArbolApus-126"><a href="#ArbolApus-126"><span class="linenos">126</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_inorden_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span><span class="p">,</span> <span class="n">lista</span><span class="p">)</span>  <span class="c1"># Recorre subrbol izquierdo</span>
</span><span id="ArbolApus-127"><a href="#ArbolApus-127"><span class="linenos">127</span></a>            <span class="n">lista</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nodo</span><span class="p">)</span>  <span class="c1"># Procesa nodo actual</span>
</span><span id="ArbolApus-128"><a href="#ArbolApus-128"><span class="linenos">128</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_inorden_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span><span class="p">,</span> <span class="n">lista</span><span class="p">)</span>  <span class="c1"># Recorre subrbol derecho</span>
</span><span id="ArbolApus-129"><a href="#ArbolApus-129"><span class="linenos">129</span></a>    
</span><span id="ArbolApus-130"><a href="#ArbolApus-130"><span class="linenos">130</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">obtener_apu_por_indice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indice</span><span class="p">):</span>
</span><span id="ArbolApus-131"><a href="#ArbolApus-131"><span class="linenos">131</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtiene un Apu por su ndice en el recorrido inorden&quot;&quot;&quot;</span>
</span><span id="ArbolApus-132"><a href="#ArbolApus-132"><span class="linenos">132</span></a>        <span class="n">apus_ordenados</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recorrer_inorden</span><span class="p">()</span>
</span><span id="ArbolApus-133"><a href="#ArbolApus-133"><span class="linenos">133</span></a>        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">indice</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">apus_ordenados</span><span class="p">):</span>
</span><span id="ArbolApus-134"><a href="#ArbolApus-134"><span class="linenos">134</span></a>            <span class="k">return</span> <span class="n">apus_ordenados</span><span class="p">[</span><span class="n">indice</span><span class="p">]</span>
</span><span id="ArbolApus-135"><a href="#ArbolApus-135"><span class="linenos">135</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="ArbolApus-136"><a href="#ArbolApus-136"><span class="linenos">136</span></a>    
</span><span id="ArbolApus-137"><a href="#ArbolApus-137"><span class="linenos">137</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">obtener_datos_apu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">):</span>
</span><span id="ArbolApus-138"><a href="#ArbolApus-138"><span class="linenos">138</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtiene los datos de un Apu por su nombre&quot;&quot;&quot;</span>
</span><span id="ArbolApus-139"><a href="#ArbolApus-139"><span class="linenos">139</span></a>        <span class="n">nodo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">buscar</span><span class="p">(</span><span class="n">nombre</span><span class="p">)</span>
</span><span id="ArbolApus-140"><a href="#ArbolApus-140"><span class="linenos">140</span></a>        <span class="k">if</span> <span class="n">nodo</span><span class="p">:</span>
</span><span id="ArbolApus-141"><a href="#ArbolApus-141"><span class="linenos">141</span></a>            <span class="k">return</span> <span class="n">nodo</span><span class="o">.</span><span class="n">datos</span>
</span><span id="ArbolApus-142"><a href="#ArbolApus-142"><span class="linenos">142</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="ArbolApus-143"><a href="#ArbolApus-143"><span class="linenos">143</span></a>    
</span><span id="ArbolApus-144"><a href="#ArbolApus-144"><span class="linenos">144</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">mostrar_arbol</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ArbolApus-145"><a href="#ArbolApus-145"><span class="linenos">145</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Muestra la estructura del rbol (para debugging)&quot;&quot;&quot;</span>
</span><span id="ArbolApus-146"><a href="#ArbolApus-146"><span class="linenos">146</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== RBOL BINARIO DE APUS ===&quot;</span><span class="p">)</span>
</span><span id="ArbolApus-147"><a href="#ArbolApus-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mostrar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="ArbolApus-148"><a href="#ArbolApus-148"><span class="linenos">148</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total de Apus: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="ArbolApus-149"><a href="#ArbolApus-149"><span class="linenos">149</span></a>    
</span><span id="ArbolApus-150"><a href="#ArbolApus-150"><span class="linenos">150</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_mostrar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodo</span><span class="p">,</span> <span class="n">nivel</span><span class="p">):</span>
</span><span id="ArbolApus-151"><a href="#ArbolApus-151"><span class="linenos">151</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Muestra recursivamente la estructura del rbol - MUESTRA NIVELES&quot;&quot;&quot;</span>
</span><span id="ArbolApus-152"><a href="#ArbolApus-152"><span class="linenos">152</span></a>        <span class="k">if</span> <span class="n">nodo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArbolApus-153"><a href="#ArbolApus-153"><span class="linenos">153</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_mostrar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">derecha</span><span class="p">,</span> <span class="n">nivel</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="ArbolApus-154"><a href="#ArbolApus-154"><span class="linenos">154</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  &quot;</span> <span class="o">*</span> <span class="n">nivel</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">nodo</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">nodo</span><span class="o">.</span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;bioma&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="ArbolApus-155"><a href="#ArbolApus-155"><span class="linenos">155</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_mostrar_recursivo</span><span class="p">(</span><span class="n">nodo</span><span class="o">.</span><span class="n">izquierda</span><span class="p">,</span> <span class="n">nivel</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>rbol binario para gestionar los 12 Apus del juego</p>

<p>FUNCIONAMIENTO DEL RBOL BINARIO:</p>

<ul>
<li>Se ordena alfabticamente por nombre del Apu</li>
<li>Al insertar: nombres menores van a la izquierda, mayores a la derecha</li>
<li>Al buscar: compara alfabticamente y navega por el rbol</li>
<li>Al recorrer: visita izquierda  raz  derecha (orden alfabtico)</li>
<li>Al cambiar de nivel: se mueve automticamente segn la comparacin alfabtica</li>
</ul>
</div>


                            <div id="ArbolApus.raiz" class="classattr">
                                <div class="attr variable">
            <span class="name">raiz</span>

        
    </div>
    <a class="headerlink" href="#ArbolApus.raiz"></a>
    
    

                            </div>
                            <div id="ArbolApus.total_apus" class="classattr">
                                <div class="attr variable">
            <span class="name">total_apus</span>

        
    </div>
    <a class="headerlink" href="#ArbolApus.total_apus"></a>
    
    

                            </div>
                            <div id="ArbolApus.insertar" class="classattr">
                                        <input id="ArbolApus.insertar-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">insertar</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">nombre</span>, </span><span class="param"><span class="n">datos</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ArbolApus.insertar-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArbolApus.insertar"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArbolApus.insertar-79"><a href="#ArbolApus.insertar-79"><span class="linenos">79</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">insertar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">):</span>
</span><span id="ArbolApus.insertar-80"><a href="#ArbolApus.insertar-80"><span class="linenos">80</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inserta un nuevo Apu en el rbol binario ordenado alfabticamente&quot;&quot;&quot;</span>
</span><span id="ArbolApus.insertar-81"><a href="#ArbolApus.insertar-81"><span class="linenos">81</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">raiz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArbolApus.insertar-82"><a href="#ArbolApus.insertar-82"><span class="linenos">82</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">raiz</span> <span class="o">=</span> <span class="n">NodoApu</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>  <span class="c1"># # INSERTAR APU: Raz del rbol</span>
</span><span id="ArbolApus.insertar-83"><a href="#ArbolApus.insertar-83"><span class="linenos">83</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="ArbolApus.insertar-84"><a href="#ArbolApus.insertar-84"><span class="linenos">84</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ArbolApus.insertar-85"><a href="#ArbolApus.insertar-85"><span class="linenos">85</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_insertar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">datos</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Inserta un nuevo Apu en el rbol binario ordenado alfabticamente</p>
</div>


                            </div>
                            <div id="ArbolApus.buscar" class="classattr">
                                        <input id="ArbolApus.buscar-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">buscar</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">nombre</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ArbolApus.buscar-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArbolApus.buscar"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArbolApus.buscar-102"><a href="#ArbolApus.buscar-102"><span class="linenos">102</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">buscar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">):</span>
</span><span id="ArbolApus.buscar-103"><a href="#ArbolApus.buscar-103"><span class="linenos">103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Busca un Apu por su nombre en el rbol - NAVEGA POR NIVELES&quot;&quot;&quot;</span>
</span><span id="ArbolApus.buscar-104"><a href="#ArbolApus.buscar-104"><span class="linenos">104</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buscar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="n">nombre</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Busca un Apu por su nombre en el rbol - NAVEGA POR NIVELES</p>
</div>


                            </div>
                            <div id="ArbolApus.recorrer_inorden" class="classattr">
                                        <input id="ArbolApus.recorrer_inorden-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">recorrer_inorden</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ArbolApus.recorrer_inorden-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArbolApus.recorrer_inorden"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArbolApus.recorrer_inorden-117"><a href="#ArbolApus.recorrer_inorden-117"><span class="linenos">117</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">recorrer_inorden</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ArbolApus.recorrer_inorden-118"><a href="#ArbolApus.recorrer_inorden-118"><span class="linenos">118</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Recorre el rbol en orden (izquierda, raz, derecha) - ORDEN ALFABTICO&quot;&quot;&quot;</span>
</span><span id="ArbolApus.recorrer_inorden-119"><a href="#ArbolApus.recorrer_inorden-119"><span class="linenos">119</span></a>        <span class="n">apus_ordenados</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ArbolApus.recorrer_inorden-120"><a href="#ArbolApus.recorrer_inorden-120"><span class="linenos">120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_inorden_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="n">apus_ordenados</span><span class="p">)</span>
</span><span id="ArbolApus.recorrer_inorden-121"><a href="#ArbolApus.recorrer_inorden-121"><span class="linenos">121</span></a>        <span class="k">return</span> <span class="n">apus_ordenados</span>
</span></pre></div>


            <div class="docstring"><p>Recorre el rbol en orden (izquierda, raz, derecha) - ORDEN ALFABTICO</p>
</div>


                            </div>
                            <div id="ArbolApus.obtener_apu_por_indice" class="classattr">
                                        <input id="ArbolApus.obtener_apu_por_indice-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">obtener_apu_por_indice</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">indice</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ArbolApus.obtener_apu_por_indice-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArbolApus.obtener_apu_por_indice"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArbolApus.obtener_apu_por_indice-130"><a href="#ArbolApus.obtener_apu_por_indice-130"><span class="linenos">130</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">obtener_apu_por_indice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indice</span><span class="p">):</span>
</span><span id="ArbolApus.obtener_apu_por_indice-131"><a href="#ArbolApus.obtener_apu_por_indice-131"><span class="linenos">131</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtiene un Apu por su ndice en el recorrido inorden&quot;&quot;&quot;</span>
</span><span id="ArbolApus.obtener_apu_por_indice-132"><a href="#ArbolApus.obtener_apu_por_indice-132"><span class="linenos">132</span></a>        <span class="n">apus_ordenados</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recorrer_inorden</span><span class="p">()</span>
</span><span id="ArbolApus.obtener_apu_por_indice-133"><a href="#ArbolApus.obtener_apu_por_indice-133"><span class="linenos">133</span></a>        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">indice</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">apus_ordenados</span><span class="p">):</span>
</span><span id="ArbolApus.obtener_apu_por_indice-134"><a href="#ArbolApus.obtener_apu_por_indice-134"><span class="linenos">134</span></a>            <span class="k">return</span> <span class="n">apus_ordenados</span><span class="p">[</span><span class="n">indice</span><span class="p">]</span>
</span><span id="ArbolApus.obtener_apu_por_indice-135"><a href="#ArbolApus.obtener_apu_por_indice-135"><span class="linenos">135</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Obtiene un Apu por su ndice en el recorrido inorden</p>
</div>


                            </div>
                            <div id="ArbolApus.obtener_datos_apu" class="classattr">
                                        <input id="ArbolApus.obtener_datos_apu-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">obtener_datos_apu</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">nombre</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ArbolApus.obtener_datos_apu-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArbolApus.obtener_datos_apu"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArbolApus.obtener_datos_apu-137"><a href="#ArbolApus.obtener_datos_apu-137"><span class="linenos">137</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">obtener_datos_apu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">):</span>
</span><span id="ArbolApus.obtener_datos_apu-138"><a href="#ArbolApus.obtener_datos_apu-138"><span class="linenos">138</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtiene los datos de un Apu por su nombre&quot;&quot;&quot;</span>
</span><span id="ArbolApus.obtener_datos_apu-139"><a href="#ArbolApus.obtener_datos_apu-139"><span class="linenos">139</span></a>        <span class="n">nodo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">buscar</span><span class="p">(</span><span class="n">nombre</span><span class="p">)</span>
</span><span id="ArbolApus.obtener_datos_apu-140"><a href="#ArbolApus.obtener_datos_apu-140"><span class="linenos">140</span></a>        <span class="k">if</span> <span class="n">nodo</span><span class="p">:</span>
</span><span id="ArbolApus.obtener_datos_apu-141"><a href="#ArbolApus.obtener_datos_apu-141"><span class="linenos">141</span></a>            <span class="k">return</span> <span class="n">nodo</span><span class="o">.</span><span class="n">datos</span>
</span><span id="ArbolApus.obtener_datos_apu-142"><a href="#ArbolApus.obtener_datos_apu-142"><span class="linenos">142</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Obtiene los datos de un Apu por su nombre</p>
</div>


                            </div>
                            <div id="ArbolApus.mostrar_arbol" class="classattr">
                                        <input id="ArbolApus.mostrar_arbol-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mostrar_arbol</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ArbolApus.mostrar_arbol-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArbolApus.mostrar_arbol"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArbolApus.mostrar_arbol-144"><a href="#ArbolApus.mostrar_arbol-144"><span class="linenos">144</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">mostrar_arbol</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ArbolApus.mostrar_arbol-145"><a href="#ArbolApus.mostrar_arbol-145"><span class="linenos">145</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Muestra la estructura del rbol (para debugging)&quot;&quot;&quot;</span>
</span><span id="ArbolApus.mostrar_arbol-146"><a href="#ArbolApus.mostrar_arbol-146"><span class="linenos">146</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== RBOL BINARIO DE APUS ===&quot;</span><span class="p">)</span>
</span><span id="ArbolApus.mostrar_arbol-147"><a href="#ArbolApus.mostrar_arbol-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mostrar_recursivo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raiz</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="ArbolApus.mostrar_arbol-148"><a href="#ArbolApus.mostrar_arbol-148"><span class="linenos">148</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total de Apus: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">total_apus</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Muestra la estructura del rbol (para debugging)</p>
</div>


                            </div>
                </section>
                <section id="ApuBase">
                            <input id="ApuBase-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuBase</span>:

                <label class="view-source-button" for="ApuBase-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuBase"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuBase-159"><a href="#ApuBase-159"><span class="linenos">159</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuBase</span><span class="p">:</span>
</span><span id="ApuBase-160"><a href="#ApuBase-160"><span class="linenos">160</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase base para todos los Apus</span>
</span><span id="ApuBase-161"><a href="#ApuBase-161"><span class="linenos">161</span></a>
</span><span id="ApuBase-162"><a href="#ApuBase-162"><span class="linenos">162</span></a><span class="sd">    Atributos:</span>
</span><span id="ApuBase-163"><a href="#ApuBase-163"><span class="linenos">163</span></a><span class="sd">        nombre (str): Nombre del Apu.</span>
</span><span id="ApuBase-164"><a href="#ApuBase-164"><span class="linenos">164</span></a><span class="sd">        color (tuple[int, int, int]): Color representativo del Apu en RGB.</span>
</span><span id="ApuBase-165"><a href="#ApuBase-165"><span class="linenos">165</span></a><span class="sd">        health (int): Nivel de salud del Apu.</span>
</span><span id="ApuBase-166"><a href="#ApuBase-166"><span class="linenos">166</span></a><span class="sd">        bioma (str): Tipo de bioma donde se encuentra el Apu.</span>
</span><span id="ApuBase-167"><a href="#ApuBase-167"><span class="linenos">167</span></a><span class="sd">        gif (str): Nombre del archivo GIF que representa al Apu.</span>
</span><span id="ApuBase-168"><a href="#ApuBase-168"><span class="linenos">168</span></a><span class="sd">        illas_robadas (list[str]): Objetos robados por el Apu.</span>
</span><span id="ApuBase-169"><a href="#ApuBase-169"><span class="linenos">169</span></a><span class="sd">        altura (int): Altura en metros.</span>
</span><span id="ApuBase-170"><a href="#ApuBase-170"><span class="linenos">170</span></a><span class="sd">        caracteristicas (list[str]): Caractersticas principales del Apu.</span>
</span><span id="ApuBase-171"><a href="#ApuBase-171"><span class="linenos">171</span></a><span class="sd">    </span>
</span><span id="ApuBase-172"><a href="#ApuBase-172"><span class="linenos">172</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ApuBase-173"><a href="#ApuBase-173"><span class="linenos">173</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">health</span><span class="p">,</span> <span class="n">bioma</span><span class="p">,</span> <span class="n">gif</span><span class="p">):</span>
</span><span id="ApuBase-174"><a href="#ApuBase-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa un Apu con sus atributos principales.&quot;&quot;&quot;</span>
</span><span id="ApuBase-175"><a href="#ApuBase-175"><span class="linenos">175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">=</span> <span class="n">nombre</span>
</span><span id="ApuBase-176"><a href="#ApuBase-176"><span class="linenos">176</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="ApuBase-177"><a href="#ApuBase-177"><span class="linenos">177</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">health</span> <span class="o">=</span> <span class="n">health</span>
</span><span id="ApuBase-178"><a href="#ApuBase-178"><span class="linenos">178</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bioma</span> <span class="o">=</span> <span class="n">bioma</span>
</span><span id="ApuBase-179"><a href="#ApuBase-179"><span class="linenos">179</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">gif</span> <span class="o">=</span> <span class="n">gif</span>
</span><span id="ApuBase-180"><a href="#ApuBase-180"><span class="linenos">180</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ApuBase-181"><a href="#ApuBase-181"><span class="linenos">181</span></a>    
</span><span id="ApuBase-182"><a href="#ApuBase-182"><span class="linenos">182</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_datos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuBase-183"><a href="#ApuBase-183"><span class="linenos">183</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Retorna los datos del Apu en formato compatible con el rbol binario&quot;&quot;&quot;</span>
</span><span id="ApuBase-184"><a href="#ApuBase-184"><span class="linenos">184</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="ApuBase-185"><a href="#ApuBase-185"><span class="linenos">185</span></a>            <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
</span><span id="ApuBase-186"><a href="#ApuBase-186"><span class="linenos">186</span></a>            <span class="s2">&quot;health&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">health</span><span class="p">,</span>
</span><span id="ApuBase-187"><a href="#ApuBase-187"><span class="linenos">187</span></a>            <span class="s2">&quot;bioma&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">bioma</span><span class="p">,</span>
</span><span id="ApuBase-188"><a href="#ApuBase-188"><span class="linenos">188</span></a>            <span class="s2">&quot;gif&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">gif</span>
</span><span id="ApuBase-189"><a href="#ApuBase-189"><span class="linenos">189</span></a>        <span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>Clase base para todos los Apus</p>

<p>Atributos:
    nombre (str): Nombre del Apu.
    color (tuple[int, int, int]): Color representativo del Apu en RGB.
    health (int): Nivel de salud del Apu.
    bioma (str): Tipo de bioma donde se encuentra el Apu.
    gif (str): Nombre del archivo GIF que representa al Apu.
    illas_robadas (list[str]): Objetos robados por el Apu.
    altura (int): Altura en metros.
    caracteristicas (list[str]): Caractersticas principales del Apu.</p>
</div>


                            <div id="ApuBase.__init__" class="classattr">
                                        <input id="ApuBase.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuBase</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">nombre</span>, </span><span class="param"><span class="n">color</span>, </span><span class="param"><span class="n">health</span>, </span><span class="param"><span class="n">bioma</span>, </span><span class="param"><span class="n">gif</span></span>)</span>

                <label class="view-source-button" for="ApuBase.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuBase.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuBase.__init__-173"><a href="#ApuBase.__init__-173"><span class="linenos">173</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">health</span><span class="p">,</span> <span class="n">bioma</span><span class="p">,</span> <span class="n">gif</span><span class="p">):</span>
</span><span id="ApuBase.__init__-174"><a href="#ApuBase.__init__-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa un Apu con sus atributos principales.&quot;&quot;&quot;</span>
</span><span id="ApuBase.__init__-175"><a href="#ApuBase.__init__-175"><span class="linenos">175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">=</span> <span class="n">nombre</span>
</span><span id="ApuBase.__init__-176"><a href="#ApuBase.__init__-176"><span class="linenos">176</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="ApuBase.__init__-177"><a href="#ApuBase.__init__-177"><span class="linenos">177</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">health</span> <span class="o">=</span> <span class="n">health</span>
</span><span id="ApuBase.__init__-178"><a href="#ApuBase.__init__-178"><span class="linenos">178</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bioma</span> <span class="o">=</span> <span class="n">bioma</span>
</span><span id="ApuBase.__init__-179"><a href="#ApuBase.__init__-179"><span class="linenos">179</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">gif</span> <span class="o">=</span> <span class="n">gif</span>
</span><span id="ApuBase.__init__-180"><a href="#ApuBase.__init__-180"><span class="linenos">180</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuBase.nombre" class="classattr">
                                <div class="attr variable">
            <span class="name">nombre</span>

        
    </div>
    <a class="headerlink" href="#ApuBase.nombre"></a>
    
    

                            </div>
                            <div id="ApuBase.color" class="classattr">
                                <div class="attr variable">
            <span class="name">color</span>

        
    </div>
    <a class="headerlink" href="#ApuBase.color"></a>
    
    

                            </div>
                            <div id="ApuBase.health" class="classattr">
                                <div class="attr variable">
            <span class="name">health</span>

        
    </div>
    <a class="headerlink" href="#ApuBase.health"></a>
    
    

                            </div>
                            <div id="ApuBase.bioma" class="classattr">
                                <div class="attr variable">
            <span class="name">bioma</span>

        
    </div>
    <a class="headerlink" href="#ApuBase.bioma"></a>
    
    

                            </div>
                            <div id="ApuBase.gif" class="classattr">
                                <div class="attr variable">
            <span class="name">gif</span>

        
    </div>
    <a class="headerlink" href="#ApuBase.gif"></a>
    
    

                            </div>
                            <div id="ApuBase.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuBase.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuBase.get_datos" class="classattr">
                                        <input id="ApuBase.get_datos-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_datos</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ApuBase.get_datos-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuBase.get_datos"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuBase.get_datos-182"><a href="#ApuBase.get_datos-182"><span class="linenos">182</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_datos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuBase.get_datos-183"><a href="#ApuBase.get_datos-183"><span class="linenos">183</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Retorna los datos del Apu en formato compatible con el rbol binario&quot;&quot;&quot;</span>
</span><span id="ApuBase.get_datos-184"><a href="#ApuBase.get_datos-184"><span class="linenos">184</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="ApuBase.get_datos-185"><a href="#ApuBase.get_datos-185"><span class="linenos">185</span></a>            <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
</span><span id="ApuBase.get_datos-186"><a href="#ApuBase.get_datos-186"><span class="linenos">186</span></a>            <span class="s2">&quot;health&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">health</span><span class="p">,</span>
</span><span id="ApuBase.get_datos-187"><a href="#ApuBase.get_datos-187"><span class="linenos">187</span></a>            <span class="s2">&quot;bioma&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">bioma</span><span class="p">,</span>
</span><span id="ApuBase.get_datos-188"><a href="#ApuBase.get_datos-188"><span class="linenos">188</span></a>            <span class="s2">&quot;gif&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">gif</span>
</span><span id="ApuBase.get_datos-189"><a href="#ApuBase.get_datos-189"><span class="linenos">189</span></a>        <span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>Retorna los datos del Apu en formato compatible con el rbol binario</p>
</div>


                            </div>
                </section>
                <section id="ApuHuascaran">
                            <input id="ApuHuascaran-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuHuascaran</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuHuascaran-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuHuascaran"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuHuascaran-191"><a href="#ApuHuascaran-191"><span class="linenos">191</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuHuascaran</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuHuascaran-192"><a href="#ApuHuascaran-192"><span class="linenos">192</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Huascarn - Montaa Nevada&quot;&quot;&quot;</span>
</span><span id="ApuHuascaran-193"><a href="#ApuHuascaran-193"><span class="linenos">193</span></a>
</span><span id="ApuHuascaran-194"><a href="#ApuHuascaran-194"><span class="linenos">194</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuHuascaran-195"><a href="#ApuHuascaran-195"><span class="linenos">195</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuHuascaran-196"><a href="#ApuHuascaran-196"><span class="linenos">196</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Huascarn&quot;</span><span class="p">,</span>
</span><span id="ApuHuascaran-197"><a href="#ApuHuascaran-197"><span class="linenos">197</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuHuascaran-198"><a href="#ApuHuascaran-198"><span class="linenos">198</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="ApuHuascaran-199"><a href="#ApuHuascaran-199"><span class="linenos">199</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Montaa Nevada&quot;</span><span class="p">,</span>
</span><span id="ApuHuascaran-200"><a href="#ApuHuascaran-200"><span class="linenos">200</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Huascaran.gif&quot;</span>
</span><span id="ApuHuascaran-201"><a href="#ApuHuascaran-201"><span class="linenos">201</span></a>        <span class="p">)</span>
</span><span id="ApuHuascaran-202"><a href="#ApuHuascaran-202"><span class="linenos">202</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Tumi&quot;</span><span class="p">,</span> <span class="s2">&quot;Chacana&quot;</span><span class="p">]</span>
</span><span id="ApuHuascaran-203"><a href="#ApuHuascaran-203"><span class="linenos">203</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6768</span>  <span class="c1"># metros</span>
</span><span id="ApuHuascaran-204"><a href="#ApuHuascaran-204"><span class="linenos">204</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Pico ms alto del Per&quot;</span><span class="p">,</span> <span class="s2">&quot;Nevado permanente&quot;</span><span class="p">,</span> <span class="s2">&quot;Parque Nacional&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Huascarn - Montaa Nevada</p>
</div>


                            <div id="ApuHuascaran.__init__" class="classattr">
                                        <input id="ApuHuascaran.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuHuascaran</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuHuascaran.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuHuascaran.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuHuascaran.__init__-194"><a href="#ApuHuascaran.__init__-194"><span class="linenos">194</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuHuascaran.__init__-195"><a href="#ApuHuascaran.__init__-195"><span class="linenos">195</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuHuascaran.__init__-196"><a href="#ApuHuascaran.__init__-196"><span class="linenos">196</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Huascarn&quot;</span><span class="p">,</span>
</span><span id="ApuHuascaran.__init__-197"><a href="#ApuHuascaran.__init__-197"><span class="linenos">197</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuHuascaran.__init__-198"><a href="#ApuHuascaran.__init__-198"><span class="linenos">198</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="ApuHuascaran.__init__-199"><a href="#ApuHuascaran.__init__-199"><span class="linenos">199</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Montaa Nevada&quot;</span><span class="p">,</span>
</span><span id="ApuHuascaran.__init__-200"><a href="#ApuHuascaran.__init__-200"><span class="linenos">200</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Huascaran.gif&quot;</span>
</span><span id="ApuHuascaran.__init__-201"><a href="#ApuHuascaran.__init__-201"><span class="linenos">201</span></a>        <span class="p">)</span>
</span><span id="ApuHuascaran.__init__-202"><a href="#ApuHuascaran.__init__-202"><span class="linenos">202</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Tumi&quot;</span><span class="p">,</span> <span class="s2">&quot;Chacana&quot;</span><span class="p">]</span>
</span><span id="ApuHuascaran.__init__-203"><a href="#ApuHuascaran.__init__-203"><span class="linenos">203</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6768</span>  <span class="c1"># metros</span>
</span><span id="ApuHuascaran.__init__-204"><a href="#ApuHuascaran.__init__-204"><span class="linenos">204</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Pico ms alto del Per&quot;</span><span class="p">,</span> <span class="s2">&quot;Nevado permanente&quot;</span><span class="p">,</span> <span class="s2">&quot;Parque Nacional&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuHuascaran.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuHuascaran.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuHuascaran.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuHuascaran.altura"></a>
    
    

                            </div>
                            <div id="ApuHuascaran.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuHuascaran.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuHuascaran.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuHuascaran.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuHuascaran.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuHuascaran.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuHuascaran.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuHuascaran.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuCoropuna">
                            <input id="ApuCoropuna-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuCoropuna</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuCoropuna-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuCoropuna"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuCoropuna-206"><a href="#ApuCoropuna-206"><span class="linenos">206</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuCoropuna</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuCoropuna-207"><a href="#ApuCoropuna-207"><span class="linenos">207</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Coropuna - Glaciar&quot;&quot;&quot;</span>
</span><span id="ApuCoropuna-208"><a href="#ApuCoropuna-208"><span class="linenos">208</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuCoropuna-209"><a href="#ApuCoropuna-209"><span class="linenos">209</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuCoropuna-210"><a href="#ApuCoropuna-210"><span class="linenos">210</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Coropuna&quot;</span><span class="p">,</span>
</span><span id="ApuCoropuna-211"><a href="#ApuCoropuna-211"><span class="linenos">211</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuCoropuna-212"><a href="#ApuCoropuna-212"><span class="linenos">212</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
</span><span id="ApuCoropuna-213"><a href="#ApuCoropuna-213"><span class="linenos">213</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Glaciar&quot;</span><span class="p">,</span>
</span><span id="ApuCoropuna-214"><a href="#ApuCoropuna-214"><span class="linenos">214</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuCoropuna-215"><a href="#ApuCoropuna-215"><span class="linenos">215</span></a>        <span class="p">)</span>
</span><span id="ApuCoropuna-216"><a href="#ApuCoropuna-216"><span class="linenos">216</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Perro Viringo&quot;</span><span class="p">,</span> <span class="s2">&quot;Cuy&quot;</span><span class="p">]</span>
</span><span id="ApuCoropuna-217"><a href="#ApuCoropuna-217"><span class="linenos">217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6425</span>  <span class="c1"># metros</span>
</span><span id="ApuCoropuna-218"><a href="#ApuCoropuna-218"><span class="linenos">218</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn extinto&quot;</span><span class="p">,</span> <span class="s2">&quot;Glaciar extenso&quot;</span><span class="p">,</span> <span class="s2">&quot;Reserva natural&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Coropuna - Glaciar</p>
</div>


                            <div id="ApuCoropuna.__init__" class="classattr">
                                        <input id="ApuCoropuna.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuCoropuna</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuCoropuna.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuCoropuna.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuCoropuna.__init__-208"><a href="#ApuCoropuna.__init__-208"><span class="linenos">208</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuCoropuna.__init__-209"><a href="#ApuCoropuna.__init__-209"><span class="linenos">209</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuCoropuna.__init__-210"><a href="#ApuCoropuna.__init__-210"><span class="linenos">210</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Coropuna&quot;</span><span class="p">,</span>
</span><span id="ApuCoropuna.__init__-211"><a href="#ApuCoropuna.__init__-211"><span class="linenos">211</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuCoropuna.__init__-212"><a href="#ApuCoropuna.__init__-212"><span class="linenos">212</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
</span><span id="ApuCoropuna.__init__-213"><a href="#ApuCoropuna.__init__-213"><span class="linenos">213</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Glaciar&quot;</span><span class="p">,</span>
</span><span id="ApuCoropuna.__init__-214"><a href="#ApuCoropuna.__init__-214"><span class="linenos">214</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuCoropuna.__init__-215"><a href="#ApuCoropuna.__init__-215"><span class="linenos">215</span></a>        <span class="p">)</span>
</span><span id="ApuCoropuna.__init__-216"><a href="#ApuCoropuna.__init__-216"><span class="linenos">216</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Perro Viringo&quot;</span><span class="p">,</span> <span class="s2">&quot;Cuy&quot;</span><span class="p">]</span>
</span><span id="ApuCoropuna.__init__-217"><a href="#ApuCoropuna.__init__-217"><span class="linenos">217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6425</span>  <span class="c1"># metros</span>
</span><span id="ApuCoropuna.__init__-218"><a href="#ApuCoropuna.__init__-218"><span class="linenos">218</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn extinto&quot;</span><span class="p">,</span> <span class="s2">&quot;Glaciar extenso&quot;</span><span class="p">,</span> <span class="s2">&quot;Reserva natural&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuCoropuna.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuCoropuna.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuCoropuna.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuCoropuna.altura"></a>
    
    

                            </div>
                            <div id="ApuCoropuna.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuCoropuna.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuCoropuna.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuCoropuna.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuCoropuna.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuCoropuna.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuCoropuna.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuCoropuna.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuMisti">
                            <input id="ApuMisti-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuMisti</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuMisti-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuMisti"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuMisti-220"><a href="#ApuMisti-220"><span class="linenos">220</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuMisti</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuMisti-221"><a href="#ApuMisti-221"><span class="linenos">221</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Misti - Volcn&quot;&quot;&quot;</span>
</span><span id="ApuMisti-222"><a href="#ApuMisti-222"><span class="linenos">222</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuMisti-223"><a href="#ApuMisti-223"><span class="linenos">223</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuMisti-224"><a href="#ApuMisti-224"><span class="linenos">224</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Misti&quot;</span><span class="p">,</span>
</span><span id="ApuMisti-225"><a href="#ApuMisti-225"><span class="linenos">225</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span>
</span><span id="ApuMisti-226"><a href="#ApuMisti-226"><span class="linenos">226</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">85</span><span class="p">,</span>
</span><span id="ApuMisti-227"><a href="#ApuMisti-227"><span class="linenos">227</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn&quot;</span><span class="p">,</span>
</span><span id="ApuMisti-228"><a href="#ApuMisti-228"><span class="linenos">228</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Misti.png&quot;</span>
</span><span id="ApuMisti-229"><a href="#ApuMisti-229"><span class="linenos">229</span></a>        <span class="p">)</span>
</span><span id="ApuMisti-230"><a href="#ApuMisti-230"><span class="linenos">230</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Illa&quot;</span><span class="p">,</span> <span class="s2">&quot;Torito&quot;</span><span class="p">]</span>
</span><span id="ApuMisti-231"><a href="#ApuMisti-231"><span class="linenos">231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5822</span>  <span class="c1"># metros</span>
</span><span id="ApuMisti-232"><a href="#ApuMisti-232"><span class="linenos">232</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn activo&quot;</span><span class="p">,</span> <span class="s2">&quot;Cerca de Arequipa&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma cnica perfecta&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Misti - Volcn</p>
</div>


                            <div id="ApuMisti.__init__" class="classattr">
                                        <input id="ApuMisti.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuMisti</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuMisti.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuMisti.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuMisti.__init__-222"><a href="#ApuMisti.__init__-222"><span class="linenos">222</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuMisti.__init__-223"><a href="#ApuMisti.__init__-223"><span class="linenos">223</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuMisti.__init__-224"><a href="#ApuMisti.__init__-224"><span class="linenos">224</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Misti&quot;</span><span class="p">,</span>
</span><span id="ApuMisti.__init__-225"><a href="#ApuMisti.__init__-225"><span class="linenos">225</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span>
</span><span id="ApuMisti.__init__-226"><a href="#ApuMisti.__init__-226"><span class="linenos">226</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">85</span><span class="p">,</span>
</span><span id="ApuMisti.__init__-227"><a href="#ApuMisti.__init__-227"><span class="linenos">227</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn&quot;</span><span class="p">,</span>
</span><span id="ApuMisti.__init__-228"><a href="#ApuMisti.__init__-228"><span class="linenos">228</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Misti.png&quot;</span>
</span><span id="ApuMisti.__init__-229"><a href="#ApuMisti.__init__-229"><span class="linenos">229</span></a>        <span class="p">)</span>
</span><span id="ApuMisti.__init__-230"><a href="#ApuMisti.__init__-230"><span class="linenos">230</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Illa&quot;</span><span class="p">,</span> <span class="s2">&quot;Torito&quot;</span><span class="p">]</span>
</span><span id="ApuMisti.__init__-231"><a href="#ApuMisti.__init__-231"><span class="linenos">231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5822</span>  <span class="c1"># metros</span>
</span><span id="ApuMisti.__init__-232"><a href="#ApuMisti.__init__-232"><span class="linenos">232</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn activo&quot;</span><span class="p">,</span> <span class="s2">&quot;Cerca de Arequipa&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma cnica perfecta&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuMisti.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuMisti.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuMisti.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuMisti.altura"></a>
    
    

                            </div>
                            <div id="ApuMisti.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuMisti.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuMisti.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuMisti.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuMisti.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuMisti.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuMisti.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuMisti.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuAmpato">
                            <input id="ApuAmpato-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuAmpato</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuAmpato-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuAmpato"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuAmpato-234"><a href="#ApuAmpato-234"><span class="linenos">234</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuAmpato</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuAmpato-235"><a href="#ApuAmpato-235"><span class="linenos">235</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Ampato - Altiplano&quot;&quot;&quot;</span>
</span><span id="ApuAmpato-236"><a href="#ApuAmpato-236"><span class="linenos">236</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuAmpato-237"><a href="#ApuAmpato-237"><span class="linenos">237</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuAmpato-238"><a href="#ApuAmpato-238"><span class="linenos">238</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Ampato&quot;</span><span class="p">,</span>
</span><span id="ApuAmpato-239"><a href="#ApuAmpato-239"><span class="linenos">239</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span>
</span><span id="ApuAmpato-240"><a href="#ApuAmpato-240"><span class="linenos">240</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">95</span><span class="p">,</span>
</span><span id="ApuAmpato-241"><a href="#ApuAmpato-241"><span class="linenos">241</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Altiplano&quot;</span><span class="p">,</span>
</span><span id="ApuAmpato-242"><a href="#ApuAmpato-242"><span class="linenos">242</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Ampato.png&quot;</span>
</span><span id="ApuAmpato-243"><a href="#ApuAmpato-243"><span class="linenos">243</span></a>        <span class="p">)</span>
</span><span id="ApuAmpato-244"><a href="#ApuAmpato-244"><span class="linenos">244</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Qullqi&quot;</span><span class="p">,</span> <span class="s2">&quot;Quispe&quot;</span><span class="p">]</span>
</span><span id="ApuAmpato-245"><a href="#ApuAmpato-245"><span class="linenos">245</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6288</span>  <span class="c1"># metros</span>
</span><span id="ApuAmpato-246"><a href="#ApuAmpato-246"><span class="linenos">246</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn inactivo&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de altiplano&quot;</span><span class="p">,</span> <span class="s2">&quot;Clima fro&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Ampato - Altiplano</p>
</div>


                            <div id="ApuAmpato.__init__" class="classattr">
                                        <input id="ApuAmpato.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuAmpato</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuAmpato.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuAmpato.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuAmpato.__init__-236"><a href="#ApuAmpato.__init__-236"><span class="linenos">236</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuAmpato.__init__-237"><a href="#ApuAmpato.__init__-237"><span class="linenos">237</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuAmpato.__init__-238"><a href="#ApuAmpato.__init__-238"><span class="linenos">238</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Ampato&quot;</span><span class="p">,</span>
</span><span id="ApuAmpato.__init__-239"><a href="#ApuAmpato.__init__-239"><span class="linenos">239</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span>
</span><span id="ApuAmpato.__init__-240"><a href="#ApuAmpato.__init__-240"><span class="linenos">240</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">95</span><span class="p">,</span>
</span><span id="ApuAmpato.__init__-241"><a href="#ApuAmpato.__init__-241"><span class="linenos">241</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Altiplano&quot;</span><span class="p">,</span>
</span><span id="ApuAmpato.__init__-242"><a href="#ApuAmpato.__init__-242"><span class="linenos">242</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Ampato.png&quot;</span>
</span><span id="ApuAmpato.__init__-243"><a href="#ApuAmpato.__init__-243"><span class="linenos">243</span></a>        <span class="p">)</span>
</span><span id="ApuAmpato.__init__-244"><a href="#ApuAmpato.__init__-244"><span class="linenos">244</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Qullqi&quot;</span><span class="p">,</span> <span class="s2">&quot;Quispe&quot;</span><span class="p">]</span>
</span><span id="ApuAmpato.__init__-245"><a href="#ApuAmpato.__init__-245"><span class="linenos">245</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6288</span>  <span class="c1"># metros</span>
</span><span id="ApuAmpato.__init__-246"><a href="#ApuAmpato.__init__-246"><span class="linenos">246</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn inactivo&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de altiplano&quot;</span><span class="p">,</span> <span class="s2">&quot;Clima fro&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuAmpato.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuAmpato.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuAmpato.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuAmpato.altura"></a>
    
    

                            </div>
                            <div id="ApuAmpato.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuAmpato.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuAmpato.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuAmpato.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuAmpato.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuAmpato.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuAmpato.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuAmpato.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuSaraSara">
                            <input id="ApuSaraSara-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuSaraSara</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuSaraSara-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuSaraSara"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuSaraSara-248"><a href="#ApuSaraSara-248"><span class="linenos">248</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuSaraSara</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuSaraSara-249"><a href="#ApuSaraSara-249"><span class="linenos">249</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Sara Sara - Volcn Andino&quot;&quot;&quot;</span>
</span><span id="ApuSaraSara-250"><a href="#ApuSaraSara-250"><span class="linenos">250</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuSaraSara-251"><a href="#ApuSaraSara-251"><span class="linenos">251</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuSaraSara-252"><a href="#ApuSaraSara-252"><span class="linenos">252</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Sara Sara&quot;</span><span class="p">,</span>
</span><span id="ApuSaraSara-253"><a href="#ApuSaraSara-253"><span class="linenos">253</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
</span><span id="ApuSaraSara-254"><a href="#ApuSaraSara-254"><span class="linenos">254</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">88</span><span class="p">,</span>
</span><span id="ApuSaraSara-255"><a href="#ApuSaraSara-255"><span class="linenos">255</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn Andino&quot;</span><span class="p">,</span>
</span><span id="ApuSaraSara-256"><a href="#ApuSaraSara-256"><span class="linenos">256</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;SaraSara.png&quot;</span>
</span><span id="ApuSaraSara-257"><a href="#ApuSaraSara-257"><span class="linenos">257</span></a>        <span class="p">)</span>
</span><span id="ApuSaraSara-258"><a href="#ApuSaraSara-258"><span class="linenos">258</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Papa&quot;</span><span class="p">,</span> <span class="s2">&quot;Maz&quot;</span><span class="p">]</span>
</span><span id="ApuSaraSara-259"><a href="#ApuSaraSara-259"><span class="linenos">259</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5505</span>  <span class="c1"># metros</span>
</span><span id="ApuSaraSara-260"><a href="#ApuSaraSara-260"><span class="linenos">260</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn andino&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Ayacucho&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma cnica&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Sara Sara - Volcn Andino</p>
</div>


                            <div id="ApuSaraSara.__init__" class="classattr">
                                        <input id="ApuSaraSara.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuSaraSara</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuSaraSara.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuSaraSara.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuSaraSara.__init__-250"><a href="#ApuSaraSara.__init__-250"><span class="linenos">250</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuSaraSara.__init__-251"><a href="#ApuSaraSara.__init__-251"><span class="linenos">251</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuSaraSara.__init__-252"><a href="#ApuSaraSara.__init__-252"><span class="linenos">252</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Sara Sara&quot;</span><span class="p">,</span>
</span><span id="ApuSaraSara.__init__-253"><a href="#ApuSaraSara.__init__-253"><span class="linenos">253</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
</span><span id="ApuSaraSara.__init__-254"><a href="#ApuSaraSara.__init__-254"><span class="linenos">254</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">88</span><span class="p">,</span>
</span><span id="ApuSaraSara.__init__-255"><a href="#ApuSaraSara.__init__-255"><span class="linenos">255</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn Andino&quot;</span><span class="p">,</span>
</span><span id="ApuSaraSara.__init__-256"><a href="#ApuSaraSara.__init__-256"><span class="linenos">256</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;SaraSara.png&quot;</span>
</span><span id="ApuSaraSara.__init__-257"><a href="#ApuSaraSara.__init__-257"><span class="linenos">257</span></a>        <span class="p">)</span>
</span><span id="ApuSaraSara.__init__-258"><a href="#ApuSaraSara.__init__-258"><span class="linenos">258</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Papa&quot;</span><span class="p">,</span> <span class="s2">&quot;Maz&quot;</span><span class="p">]</span>
</span><span id="ApuSaraSara.__init__-259"><a href="#ApuSaraSara.__init__-259"><span class="linenos">259</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5505</span>  <span class="c1"># metros</span>
</span><span id="ApuSaraSara.__init__-260"><a href="#ApuSaraSara.__init__-260"><span class="linenos">260</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn andino&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Ayacucho&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma cnica&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuSaraSara.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuSaraSara.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuSaraSara.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuSaraSara.altura"></a>
    
    

                            </div>
                            <div id="ApuSaraSara.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuSaraSara.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuSaraSara.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuSaraSara.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuSaraSara.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuSaraSara.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuSaraSara.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuSaraSara.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuSalkantay">
                            <input id="ApuSalkantay-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuSalkantay</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuSalkantay-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuSalkantay"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuSalkantay-262"><a href="#ApuSalkantay-262"><span class="linenos">262</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuSalkantay</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuSalkantay-263"><a href="#ApuSalkantay-263"><span class="linenos">263</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Salkantay - Selva Alta&quot;&quot;&quot;</span>
</span><span id="ApuSalkantay-264"><a href="#ApuSalkantay-264"><span class="linenos">264</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuSalkantay-265"><a href="#ApuSalkantay-265"><span class="linenos">265</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuSalkantay-266"><a href="#ApuSalkantay-266"><span class="linenos">266</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Salkantay&quot;</span><span class="p">,</span>
</span><span id="ApuSalkantay-267"><a href="#ApuSalkantay-267"><span class="linenos">267</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span>
</span><span id="ApuSalkantay-268"><a href="#ApuSalkantay-268"><span class="linenos">268</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
</span><span id="ApuSalkantay-269"><a href="#ApuSalkantay-269"><span class="linenos">269</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Selva Alta&quot;</span><span class="p">,</span>
</span><span id="ApuSalkantay-270"><a href="#ApuSalkantay-270"><span class="linenos">270</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Salkantay.png&quot;</span>
</span><span id="ApuSalkantay-271"><a href="#ApuSalkantay-271"><span class="linenos">271</span></a>        <span class="p">)</span>
</span><span id="ApuSalkantay-272"><a href="#ApuSalkantay-272"><span class="linenos">272</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Huashacara&quot;</span><span class="p">]</span>
</span><span id="ApuSalkantay-273"><a href="#ApuSalkantay-273"><span class="linenos">273</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6271</span>  <span class="c1"># metros</span>
</span><span id="ApuSalkantay-274"><a href="#ApuSalkantay-274"><span class="linenos">274</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Transicin a selva&quot;</span><span class="p">,</span> <span class="s2">&quot;Biodiversidad nica&quot;</span><span class="p">,</span> <span class="s2">&quot;Camino a Machu Picchu&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Salkantay - Selva Alta</p>
</div>


                            <div id="ApuSalkantay.__init__" class="classattr">
                                        <input id="ApuSalkantay.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuSalkantay</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuSalkantay.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuSalkantay.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuSalkantay.__init__-264"><a href="#ApuSalkantay.__init__-264"><span class="linenos">264</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuSalkantay.__init__-265"><a href="#ApuSalkantay.__init__-265"><span class="linenos">265</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuSalkantay.__init__-266"><a href="#ApuSalkantay.__init__-266"><span class="linenos">266</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Salkantay&quot;</span><span class="p">,</span>
</span><span id="ApuSalkantay.__init__-267"><a href="#ApuSalkantay.__init__-267"><span class="linenos">267</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span>
</span><span id="ApuSalkantay.__init__-268"><a href="#ApuSalkantay.__init__-268"><span class="linenos">268</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
</span><span id="ApuSalkantay.__init__-269"><a href="#ApuSalkantay.__init__-269"><span class="linenos">269</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Selva Alta&quot;</span><span class="p">,</span>
</span><span id="ApuSalkantay.__init__-270"><a href="#ApuSalkantay.__init__-270"><span class="linenos">270</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Salkantay.png&quot;</span>
</span><span id="ApuSalkantay.__init__-271"><a href="#ApuSalkantay.__init__-271"><span class="linenos">271</span></a>        <span class="p">)</span>
</span><span id="ApuSalkantay.__init__-272"><a href="#ApuSalkantay.__init__-272"><span class="linenos">272</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Huashacara&quot;</span><span class="p">]</span>
</span><span id="ApuSalkantay.__init__-273"><a href="#ApuSalkantay.__init__-273"><span class="linenos">273</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6271</span>  <span class="c1"># metros</span>
</span><span id="ApuSalkantay.__init__-274"><a href="#ApuSalkantay.__init__-274"><span class="linenos">274</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Transicin a selva&quot;</span><span class="p">,</span> <span class="s2">&quot;Biodiversidad nica&quot;</span><span class="p">,</span> <span class="s2">&quot;Camino a Machu Picchu&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuSalkantay.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuSalkantay.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuSalkantay.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuSalkantay.altura"></a>
    
    

                            </div>
                            <div id="ApuSalkantay.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuSalkantay.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuSalkantay.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuSalkantay.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuSalkantay.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuSalkantay.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuSalkantay.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuSalkantay.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuChachani">
                            <input id="ApuChachani-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuChachani</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuChachani-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuChachani"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuChachani-276"><a href="#ApuChachani-276"><span class="linenos">276</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuChachani</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuChachani-277"><a href="#ApuChachani-277"><span class="linenos">277</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Chachani - Desierto Alto&quot;&quot;&quot;</span>
</span><span id="ApuChachani-278"><a href="#ApuChachani-278"><span class="linenos">278</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuChachani-279"><a href="#ApuChachani-279"><span class="linenos">279</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuChachani-280"><a href="#ApuChachani-280"><span class="linenos">280</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Chachani&quot;</span><span class="p">,</span>
</span><span id="ApuChachani-281"><a href="#ApuChachani-281"><span class="linenos">281</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
</span><span id="ApuChachani-282"><a href="#ApuChachani-282"><span class="linenos">282</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>
</span><span id="ApuChachani-283"><a href="#ApuChachani-283"><span class="linenos">283</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Desierto Alto&quot;</span><span class="p">,</span>
</span><span id="ApuChachani-284"><a href="#ApuChachani-284"><span class="linenos">284</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Chachani.png&quot;</span>
</span><span id="ApuChachani-285"><a href="#ApuChachani-285"><span class="linenos">285</span></a>        <span class="p">)</span>
</span><span id="ApuChachani-286"><a href="#ApuChachani-286"><span class="linenos">286</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Qori&quot;</span><span class="p">,</span> <span class="s2">&quot;Chuo&quot;</span><span class="p">]</span>
</span><span id="ApuChachani-287"><a href="#ApuChachani-287"><span class="linenos">287</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6057</span>  <span class="c1"># metros</span>
</span><span id="ApuChachani-288"><a href="#ApuChachani-288"><span class="linenos">288</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn extinto&quot;</span><span class="p">,</span> <span class="s2">&quot;Desierto de altura&quot;</span><span class="p">,</span> <span class="s2">&quot;Arena volcnica&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Chachani - Desierto Alto</p>
</div>


                            <div id="ApuChachani.__init__" class="classattr">
                                        <input id="ApuChachani.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuChachani</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuChachani.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuChachani.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuChachani.__init__-278"><a href="#ApuChachani.__init__-278"><span class="linenos">278</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuChachani.__init__-279"><a href="#ApuChachani.__init__-279"><span class="linenos">279</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuChachani.__init__-280"><a href="#ApuChachani.__init__-280"><span class="linenos">280</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Chachani&quot;</span><span class="p">,</span>
</span><span id="ApuChachani.__init__-281"><a href="#ApuChachani.__init__-281"><span class="linenos">281</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
</span><span id="ApuChachani.__init__-282"><a href="#ApuChachani.__init__-282"><span class="linenos">282</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>
</span><span id="ApuChachani.__init__-283"><a href="#ApuChachani.__init__-283"><span class="linenos">283</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Desierto Alto&quot;</span><span class="p">,</span>
</span><span id="ApuChachani.__init__-284"><a href="#ApuChachani.__init__-284"><span class="linenos">284</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;Chachani.png&quot;</span>
</span><span id="ApuChachani.__init__-285"><a href="#ApuChachani.__init__-285"><span class="linenos">285</span></a>        <span class="p">)</span>
</span><span id="ApuChachani.__init__-286"><a href="#ApuChachani.__init__-286"><span class="linenos">286</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Qori&quot;</span><span class="p">,</span> <span class="s2">&quot;Chuo&quot;</span><span class="p">]</span>
</span><span id="ApuChachani.__init__-287"><a href="#ApuChachani.__init__-287"><span class="linenos">287</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6057</span>  <span class="c1"># metros</span>
</span><span id="ApuChachani.__init__-288"><a href="#ApuChachani.__init__-288"><span class="linenos">288</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn extinto&quot;</span><span class="p">,</span> <span class="s2">&quot;Desierto de altura&quot;</span><span class="p">,</span> <span class="s2">&quot;Arena volcnica&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuChachani.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuChachani.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuChachani.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuChachani.altura"></a>
    
    

                            </div>
                            <div id="ApuChachani.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuChachani.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuChachani.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuChachani.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuChachani.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuChachani.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuChachani.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuChachani.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuCcarhuarazo">
                            <input id="ApuCcarhuarazo-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuCcarhuarazo</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuCcarhuarazo-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuCcarhuarazo"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuCcarhuarazo-290"><a href="#ApuCcarhuarazo-290"><span class="linenos">290</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuCcarhuarazo</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuCcarhuarazo-291"><a href="#ApuCcarhuarazo-291"><span class="linenos">291</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Ccarhuarazo - Cordillera Central&quot;&quot;&quot;</span>
</span><span id="ApuCcarhuarazo-292"><a href="#ApuCcarhuarazo-292"><span class="linenos">292</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuCcarhuarazo-293"><a href="#ApuCcarhuarazo-293"><span class="linenos">293</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuCcarhuarazo-294"><a href="#ApuCcarhuarazo-294"><span class="linenos">294</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Ccarhuarazo&quot;</span><span class="p">,</span>
</span><span id="ApuCcarhuarazo-295"><a href="#ApuCcarhuarazo-295"><span class="linenos">295</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuCcarhuarazo-296"><a href="#ApuCcarhuarazo-296"><span class="linenos">296</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">92</span><span class="p">,</span>
</span><span id="ApuCcarhuarazo-297"><a href="#ApuCcarhuarazo-297"><span class="linenos">297</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Cordillera Central&quot;</span><span class="p">,</span>
</span><span id="ApuCcarhuarazo-298"><a href="#ApuCcarhuarazo-298"><span class="linenos">298</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuCcarhuarazo-299"><a href="#ApuCcarhuarazo-299"><span class="linenos">299</span></a>        <span class="p">)</span>
</span><span id="ApuCcarhuarazo-300"><a href="#ApuCcarhuarazo-300"><span class="linenos">300</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Cungalpo&quot;</span><span class="p">]</span>
</span><span id="ApuCcarhuarazo-301"><a href="#ApuCcarhuarazo-301"><span class="linenos">301</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5120</span>  <span class="c1"># metros</span>
</span><span id="ApuCcarhuarazo-302"><a href="#ApuCcarhuarazo-302"><span class="linenos">302</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Cordillera central&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Huancavelica&quot;</span><span class="p">,</span> <span class="s2">&quot;Nevado&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Ccarhuarazo - Cordillera Central</p>
</div>


                            <div id="ApuCcarhuarazo.__init__" class="classattr">
                                        <input id="ApuCcarhuarazo.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuCcarhuarazo</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuCcarhuarazo.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuCcarhuarazo.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuCcarhuarazo.__init__-292"><a href="#ApuCcarhuarazo.__init__-292"><span class="linenos">292</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuCcarhuarazo.__init__-293"><a href="#ApuCcarhuarazo.__init__-293"><span class="linenos">293</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuCcarhuarazo.__init__-294"><a href="#ApuCcarhuarazo.__init__-294"><span class="linenos">294</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Ccarhuarazo&quot;</span><span class="p">,</span>
</span><span id="ApuCcarhuarazo.__init__-295"><a href="#ApuCcarhuarazo.__init__-295"><span class="linenos">295</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuCcarhuarazo.__init__-296"><a href="#ApuCcarhuarazo.__init__-296"><span class="linenos">296</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">92</span><span class="p">,</span>
</span><span id="ApuCcarhuarazo.__init__-297"><a href="#ApuCcarhuarazo.__init__-297"><span class="linenos">297</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Cordillera Central&quot;</span><span class="p">,</span>
</span><span id="ApuCcarhuarazo.__init__-298"><a href="#ApuCcarhuarazo.__init__-298"><span class="linenos">298</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuCcarhuarazo.__init__-299"><a href="#ApuCcarhuarazo.__init__-299"><span class="linenos">299</span></a>        <span class="p">)</span>
</span><span id="ApuCcarhuarazo.__init__-300"><a href="#ApuCcarhuarazo.__init__-300"><span class="linenos">300</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Cungalpo&quot;</span><span class="p">]</span>
</span><span id="ApuCcarhuarazo.__init__-301"><a href="#ApuCcarhuarazo.__init__-301"><span class="linenos">301</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5120</span>  <span class="c1"># metros</span>
</span><span id="ApuCcarhuarazo.__init__-302"><a href="#ApuCcarhuarazo.__init__-302"><span class="linenos">302</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Cordillera central&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Huancavelica&quot;</span><span class="p">,</span> <span class="s2">&quot;Nevado&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuCcarhuarazo.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuCcarhuarazo.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuCcarhuarazo.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuCcarhuarazo.altura"></a>
    
    

                            </div>
                            <div id="ApuCcarhuarazo.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuCcarhuarazo.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuCcarhuarazo.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuCcarhuarazo.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuCcarhuarazo.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuCcarhuarazo.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuCcarhuarazo.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuCcarhuarazo.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuRasuwillka">
                            <input id="ApuRasuwillka-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuRasuwillka</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuRasuwillka-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuRasuwillka"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuRasuwillka-304"><a href="#ApuRasuwillka-304"><span class="linenos">304</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuRasuwillka</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuRasuwillka-305"><a href="#ApuRasuwillka-305"><span class="linenos">305</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Rasuwillka - Montaa Sagrada&quot;&quot;&quot;</span>
</span><span id="ApuRasuwillka-306"><a href="#ApuRasuwillka-306"><span class="linenos">306</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuRasuwillka-307"><a href="#ApuRasuwillka-307"><span class="linenos">307</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuRasuwillka-308"><a href="#ApuRasuwillka-308"><span class="linenos">308</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Rasuwillka&quot;</span><span class="p">,</span>
</span><span id="ApuRasuwillka-309"><a href="#ApuRasuwillka-309"><span class="linenos">309</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuRasuwillka-310"><a href="#ApuRasuwillka-310"><span class="linenos">310</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">95</span><span class="p">,</span>
</span><span id="ApuRasuwillka-311"><a href="#ApuRasuwillka-311"><span class="linenos">311</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Montaa Sagrada&quot;</span><span class="p">,</span>
</span><span id="ApuRasuwillka-312"><a href="#ApuRasuwillka-312"><span class="linenos">312</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuRasuwillka-313"><a href="#ApuRasuwillka-313"><span class="linenos">313</span></a>        <span class="p">)</span>
</span><span id="ApuRasuwillka-314"><a href="#ApuRasuwillka-314"><span class="linenos">314</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Hizanche&quot;</span><span class="p">]</span>
</span><span id="ApuRasuwillka-315"><a href="#ApuRasuwillka-315"><span class="linenos">315</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6000</span>  <span class="c1"># metros</span>
</span><span id="ApuRasuwillka-316"><a href="#ApuRasuwillka-316"><span class="linenos">316</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Montaa sagrada&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Cusco&quot;</span><span class="p">,</span> <span class="s2">&quot;Peregrinacin&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Rasuwillka - Montaa Sagrada</p>
</div>


                            <div id="ApuRasuwillka.__init__" class="classattr">
                                        <input id="ApuRasuwillka.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuRasuwillka</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuRasuwillka.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuRasuwillka.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuRasuwillka.__init__-306"><a href="#ApuRasuwillka.__init__-306"><span class="linenos">306</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuRasuwillka.__init__-307"><a href="#ApuRasuwillka.__init__-307"><span class="linenos">307</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuRasuwillka.__init__-308"><a href="#ApuRasuwillka.__init__-308"><span class="linenos">308</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Rasuwillka&quot;</span><span class="p">,</span>
</span><span id="ApuRasuwillka.__init__-309"><a href="#ApuRasuwillka.__init__-309"><span class="linenos">309</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuRasuwillka.__init__-310"><a href="#ApuRasuwillka.__init__-310"><span class="linenos">310</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">95</span><span class="p">,</span>
</span><span id="ApuRasuwillka.__init__-311"><a href="#ApuRasuwillka.__init__-311"><span class="linenos">311</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Montaa Sagrada&quot;</span><span class="p">,</span>
</span><span id="ApuRasuwillka.__init__-312"><a href="#ApuRasuwillka.__init__-312"><span class="linenos">312</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuRasuwillka.__init__-313"><a href="#ApuRasuwillka.__init__-313"><span class="linenos">313</span></a>        <span class="p">)</span>
</span><span id="ApuRasuwillka.__init__-314"><a href="#ApuRasuwillka.__init__-314"><span class="linenos">314</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Hizanche&quot;</span><span class="p">]</span>
</span><span id="ApuRasuwillka.__init__-315"><a href="#ApuRasuwillka.__init__-315"><span class="linenos">315</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6000</span>  <span class="c1"># metros</span>
</span><span id="ApuRasuwillka.__init__-316"><a href="#ApuRasuwillka.__init__-316"><span class="linenos">316</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Montaa sagrada&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Cusco&quot;</span><span class="p">,</span> <span class="s2">&quot;Peregrinacin&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuRasuwillka.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuRasuwillka.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuRasuwillka.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuRasuwillka.altura"></a>
    
    

                            </div>
                            <div id="ApuRasuwillka.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuRasuwillka.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuRasuwillka.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuRasuwillka.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuRasuwillka.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuRasuwillka.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuRasuwillka.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuRasuwillka.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuHualcaHualca">
                            <input id="ApuHualcaHualca-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuHualcaHualca</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuHualcaHualca-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuHualcaHualca"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuHualcaHualca-318"><a href="#ApuHualcaHualca-318"><span class="linenos">318</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuHualcaHualca</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuHualcaHualca-319"><a href="#ApuHualcaHualca-319"><span class="linenos">319</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Hualca Hualca - Volcn Nevado&quot;&quot;&quot;</span>
</span><span id="ApuHualcaHualca-320"><a href="#ApuHualcaHualca-320"><span class="linenos">320</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuHualcaHualca-321"><a href="#ApuHualcaHualca-321"><span class="linenos">321</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuHualcaHualca-322"><a href="#ApuHualcaHualca-322"><span class="linenos">322</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Hualca Hualca&quot;</span><span class="p">,</span>
</span><span id="ApuHualcaHualca-323"><a href="#ApuHualcaHualca-323"><span class="linenos">323</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuHualcaHualca-324"><a href="#ApuHualcaHualca-324"><span class="linenos">324</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">87</span><span class="p">,</span>
</span><span id="ApuHualcaHualca-325"><a href="#ApuHualcaHualca-325"><span class="linenos">325</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn Nevado&quot;</span><span class="p">,</span>
</span><span id="ApuHualcaHualca-326"><a href="#ApuHualcaHualca-326"><span class="linenos">326</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuHualcaHualca-327"><a href="#ApuHualcaHualca-327"><span class="linenos">327</span></a>        <span class="p">)</span>
</span><span id="ApuHualcaHualca-328"><a href="#ApuHualcaHualca-328"><span class="linenos">328</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Calluha&quot;</span><span class="p">]</span>
</span><span id="ApuHualcaHualca-329"><a href="#ApuHualcaHualca-329"><span class="linenos">329</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6025</span>  <span class="c1"># metros</span>
</span><span id="ApuHualcaHualca-330"><a href="#ApuHualcaHualca-330"><span class="linenos">330</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn nevado&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Arequipa&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma cnica&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Hualca Hualca - Volcn Nevado</p>
</div>


                            <div id="ApuHualcaHualca.__init__" class="classattr">
                                        <input id="ApuHualcaHualca.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuHualcaHualca</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuHualcaHualca.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuHualcaHualca.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuHualcaHualca.__init__-320"><a href="#ApuHualcaHualca.__init__-320"><span class="linenos">320</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuHualcaHualca.__init__-321"><a href="#ApuHualcaHualca.__init__-321"><span class="linenos">321</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuHualcaHualca.__init__-322"><a href="#ApuHualcaHualca.__init__-322"><span class="linenos">322</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Hualca Hualca&quot;</span><span class="p">,</span>
</span><span id="ApuHualcaHualca.__init__-323"><a href="#ApuHualcaHualca.__init__-323"><span class="linenos">323</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuHualcaHualca.__init__-324"><a href="#ApuHualcaHualca.__init__-324"><span class="linenos">324</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">87</span><span class="p">,</span>
</span><span id="ApuHualcaHualca.__init__-325"><a href="#ApuHualcaHualca.__init__-325"><span class="linenos">325</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn Nevado&quot;</span><span class="p">,</span>
</span><span id="ApuHualcaHualca.__init__-326"><a href="#ApuHualcaHualca.__init__-326"><span class="linenos">326</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuHualcaHualca.__init__-327"><a href="#ApuHualcaHualca.__init__-327"><span class="linenos">327</span></a>        <span class="p">)</span>
</span><span id="ApuHualcaHualca.__init__-328"><a href="#ApuHualcaHualca.__init__-328"><span class="linenos">328</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Calluha&quot;</span><span class="p">]</span>
</span><span id="ApuHualcaHualca.__init__-329"><a href="#ApuHualcaHualca.__init__-329"><span class="linenos">329</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">6025</span>  <span class="c1"># metros</span>
</span><span id="ApuHualcaHualca.__init__-330"><a href="#ApuHualcaHualca.__init__-330"><span class="linenos">330</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn nevado&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Arequipa&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma cnica&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuHualcaHualca.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuHualcaHualca.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuHualcaHualca.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuHualcaHualca.altura"></a>
    
    

                            </div>
                            <div id="ApuHualcaHualca.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuHualcaHualca.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuHualcaHualca.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuHualcaHualca.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuHualcaHualca.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuHualcaHualca.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuHualcaHualca.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuHualcaHualca.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuUarancante">
                            <input id="ApuUarancante-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuUarancante</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuUarancante-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuUarancante"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuUarancante-332"><a href="#ApuUarancante-332"><span class="linenos">332</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuUarancante</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuUarancante-333"><a href="#ApuUarancante-333"><span class="linenos">333</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Uarancante - Pico Andino&quot;&quot;&quot;</span>
</span><span id="ApuUarancante-334"><a href="#ApuUarancante-334"><span class="linenos">334</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuUarancante-335"><a href="#ApuUarancante-335"><span class="linenos">335</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuUarancante-336"><a href="#ApuUarancante-336"><span class="linenos">336</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Uarancante&quot;</span><span class="p">,</span>
</span><span id="ApuUarancante-337"><a href="#ApuUarancante-337"><span class="linenos">337</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span>
</span><span id="ApuUarancante-338"><a href="#ApuUarancante-338"><span class="linenos">338</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">89</span><span class="p">,</span>
</span><span id="ApuUarancante-339"><a href="#ApuUarancante-339"><span class="linenos">339</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Pico Andino&quot;</span><span class="p">,</span>
</span><span id="ApuUarancante-340"><a href="#ApuUarancante-340"><span class="linenos">340</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuUarancante-341"><a href="#ApuUarancante-341"><span class="linenos">341</span></a>        <span class="p">)</span>
</span><span id="ApuUarancante-342"><a href="#ApuUarancante-342"><span class="linenos">342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Inti&quot;</span><span class="p">]</span>
</span><span id="ApuUarancante-343"><a href="#ApuUarancante-343"><span class="linenos">343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5800</span>  <span class="c1"># metros</span>
</span><span id="ApuUarancante-344"><a href="#ApuUarancante-344"><span class="linenos">344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Pico andino&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Puno&quot;</span><span class="p">,</span> <span class="s2">&quot;Nevado&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Uarancante - Pico Andino</p>
</div>


                            <div id="ApuUarancante.__init__" class="classattr">
                                        <input id="ApuUarancante.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuUarancante</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuUarancante.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuUarancante.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuUarancante.__init__-334"><a href="#ApuUarancante.__init__-334"><span class="linenos">334</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuUarancante.__init__-335"><a href="#ApuUarancante.__init__-335"><span class="linenos">335</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuUarancante.__init__-336"><a href="#ApuUarancante.__init__-336"><span class="linenos">336</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Uarancante&quot;</span><span class="p">,</span>
</span><span id="ApuUarancante.__init__-337"><a href="#ApuUarancante.__init__-337"><span class="linenos">337</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span>
</span><span id="ApuUarancante.__init__-338"><a href="#ApuUarancante.__init__-338"><span class="linenos">338</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">89</span><span class="p">,</span>
</span><span id="ApuUarancante.__init__-339"><a href="#ApuUarancante.__init__-339"><span class="linenos">339</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Pico Andino&quot;</span><span class="p">,</span>
</span><span id="ApuUarancante.__init__-340"><a href="#ApuUarancante.__init__-340"><span class="linenos">340</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuUarancante.__init__-341"><a href="#ApuUarancante.__init__-341"><span class="linenos">341</span></a>        <span class="p">)</span>
</span><span id="ApuUarancante.__init__-342"><a href="#ApuUarancante.__init__-342"><span class="linenos">342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Inti&quot;</span><span class="p">]</span>
</span><span id="ApuUarancante.__init__-343"><a href="#ApuUarancante.__init__-343"><span class="linenos">343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5800</span>  <span class="c1"># metros</span>
</span><span id="ApuUarancante.__init__-344"><a href="#ApuUarancante.__init__-344"><span class="linenos">344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Pico andino&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Puno&quot;</span><span class="p">,</span> <span class="s2">&quot;Nevado&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuUarancante.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuUarancante.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuUarancante.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuUarancante.altura"></a>
    
    

                            </div>
                            <div id="ApuUarancante.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuUarancante.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuUarancante.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuUarancante.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuUarancante.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuUarancante.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuUarancante.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuUarancante.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuAllincapac">
                            <input id="ApuAllincapac-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuAllincapac</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuAllincapac-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuAllincapac"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuAllincapac-346"><a href="#ApuAllincapac-346"><span class="linenos">346</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuAllincapac</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuAllincapac-347"><a href="#ApuAllincapac-347"><span class="linenos">347</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Allincapac - Montaa Dorada&quot;&quot;&quot;</span>
</span><span id="ApuAllincapac-348"><a href="#ApuAllincapac-348"><span class="linenos">348</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuAllincapac-349"><a href="#ApuAllincapac-349"><span class="linenos">349</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuAllincapac-350"><a href="#ApuAllincapac-350"><span class="linenos">350</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Allincapac&quot;</span><span class="p">,</span>
</span><span id="ApuAllincapac-351"><a href="#ApuAllincapac-351"><span class="linenos">351</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">215</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="ApuAllincapac-352"><a href="#ApuAllincapac-352"><span class="linenos">352</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">93</span><span class="p">,</span>
</span><span id="ApuAllincapac-353"><a href="#ApuAllincapac-353"><span class="linenos">353</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Montaa Dorada&quot;</span><span class="p">,</span>
</span><span id="ApuAllincapac-354"><a href="#ApuAllincapac-354"><span class="linenos">354</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuAllincapac-355"><a href="#ApuAllincapac-355"><span class="linenos">355</span></a>        <span class="p">)</span>
</span><span id="ApuAllincapac-356"><a href="#ApuAllincapac-356"><span class="linenos">356</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Killa&quot;</span><span class="p">]</span>
</span><span id="ApuAllincapac-357"><a href="#ApuAllincapac-357"><span class="linenos">357</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5900</span>  <span class="c1"># metros</span>
</span><span id="ApuAllincapac-358"><a href="#ApuAllincapac-358"><span class="linenos">358</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Montaa dorada&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Apurmac&quot;</span><span class="p">,</span> <span class="s2">&quot;Sagrada&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Allincapac - Montaa Dorada</p>
</div>


                            <div id="ApuAllincapac.__init__" class="classattr">
                                        <input id="ApuAllincapac.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuAllincapac</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuAllincapac.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuAllincapac.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuAllincapac.__init__-348"><a href="#ApuAllincapac.__init__-348"><span class="linenos">348</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuAllincapac.__init__-349"><a href="#ApuAllincapac.__init__-349"><span class="linenos">349</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuAllincapac.__init__-350"><a href="#ApuAllincapac.__init__-350"><span class="linenos">350</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Allincapac&quot;</span><span class="p">,</span>
</span><span id="ApuAllincapac.__init__-351"><a href="#ApuAllincapac.__init__-351"><span class="linenos">351</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">215</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="ApuAllincapac.__init__-352"><a href="#ApuAllincapac.__init__-352"><span class="linenos">352</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">93</span><span class="p">,</span>
</span><span id="ApuAllincapac.__init__-353"><a href="#ApuAllincapac.__init__-353"><span class="linenos">353</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Montaa Dorada&quot;</span><span class="p">,</span>
</span><span id="ApuAllincapac.__init__-354"><a href="#ApuAllincapac.__init__-354"><span class="linenos">354</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuAllincapac.__init__-355"><a href="#ApuAllincapac.__init__-355"><span class="linenos">355</span></a>        <span class="p">)</span>
</span><span id="ApuAllincapac.__init__-356"><a href="#ApuAllincapac.__init__-356"><span class="linenos">356</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Killa&quot;</span><span class="p">]</span>
</span><span id="ApuAllincapac.__init__-357"><a href="#ApuAllincapac.__init__-357"><span class="linenos">357</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5900</span>  <span class="c1"># metros</span>
</span><span id="ApuAllincapac.__init__-358"><a href="#ApuAllincapac.__init__-358"><span class="linenos">358</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Montaa dorada&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Apurmac&quot;</span><span class="p">,</span> <span class="s2">&quot;Sagrada&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuAllincapac.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuAllincapac.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuAllincapac.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuAllincapac.altura"></a>
    
    

                            </div>
                            <div id="ApuAllincapac.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuAllincapac.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuAllincapac.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuAllincapac.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuAllincapac.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuAllincapac.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuAllincapac.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuAllincapac.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuKatunqui">
                            <input id="ApuKatunqui-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuKatunqui</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuKatunqui-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuKatunqui"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuKatunqui-360"><a href="#ApuKatunqui-360"><span class="linenos">360</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuKatunqui</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuKatunqui-361"><a href="#ApuKatunqui-361"><span class="linenos">361</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Katunqui - Volcn Inactivo&quot;&quot;&quot;</span>
</span><span id="ApuKatunqui-362"><a href="#ApuKatunqui-362"><span class="linenos">362</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuKatunqui-363"><a href="#ApuKatunqui-363"><span class="linenos">363</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuKatunqui-364"><a href="#ApuKatunqui-364"><span class="linenos">364</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Katunqui&quot;</span><span class="p">,</span>
</span><span id="ApuKatunqui-365"><a href="#ApuKatunqui-365"><span class="linenos">365</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuKatunqui-366"><a href="#ApuKatunqui-366"><span class="linenos">366</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">85</span><span class="p">,</span>
</span><span id="ApuKatunqui-367"><a href="#ApuKatunqui-367"><span class="linenos">367</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn Inactivo&quot;</span><span class="p">,</span>
</span><span id="ApuKatunqui-368"><a href="#ApuKatunqui-368"><span class="linenos">368</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuKatunqui-369"><a href="#ApuKatunqui-369"><span class="linenos">369</span></a>        <span class="p">)</span>
</span><span id="ApuKatunqui-370"><a href="#ApuKatunqui-370"><span class="linenos">370</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Chaska&quot;</span><span class="p">]</span>
</span><span id="ApuKatunqui-371"><a href="#ApuKatunqui-371"><span class="linenos">371</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5700</span>  <span class="c1"># metros</span>
</span><span id="ApuKatunqui-372"><a href="#ApuKatunqui-372"><span class="linenos">372</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn inactivo&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Moquegua&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma redondeada&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Katunqui - Volcn Inactivo</p>
</div>


                            <div id="ApuKatunqui.__init__" class="classattr">
                                        <input id="ApuKatunqui.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuKatunqui</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuKatunqui.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuKatunqui.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuKatunqui.__init__-362"><a href="#ApuKatunqui.__init__-362"><span class="linenos">362</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuKatunqui.__init__-363"><a href="#ApuKatunqui.__init__-363"><span class="linenos">363</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuKatunqui.__init__-364"><a href="#ApuKatunqui.__init__-364"><span class="linenos">364</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Katunqui&quot;</span><span class="p">,</span>
</span><span id="ApuKatunqui.__init__-365"><a href="#ApuKatunqui.__init__-365"><span class="linenos">365</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="ApuKatunqui.__init__-366"><a href="#ApuKatunqui.__init__-366"><span class="linenos">366</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">85</span><span class="p">,</span>
</span><span id="ApuKatunqui.__init__-367"><a href="#ApuKatunqui.__init__-367"><span class="linenos">367</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Volcn Inactivo&quot;</span><span class="p">,</span>
</span><span id="ApuKatunqui.__init__-368"><a href="#ApuKatunqui.__init__-368"><span class="linenos">368</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuKatunqui.__init__-369"><a href="#ApuKatunqui.__init__-369"><span class="linenos">369</span></a>        <span class="p">)</span>
</span><span id="ApuKatunqui.__init__-370"><a href="#ApuKatunqui.__init__-370"><span class="linenos">370</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Chaska&quot;</span><span class="p">]</span>
</span><span id="ApuKatunqui.__init__-371"><a href="#ApuKatunqui.__init__-371"><span class="linenos">371</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">5700</span>  <span class="c1"># metros</span>
</span><span id="ApuKatunqui.__init__-372"><a href="#ApuKatunqui.__init__-372"><span class="linenos">372</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Volcn inactivo&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Moquegua&quot;</span><span class="p">,</span> <span class="s2">&quot;Forma redondeada&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuKatunqui.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuKatunqui.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuKatunqui.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuKatunqui.altura"></a>
    
    

                            </div>
                            <div id="ApuKatunqui.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuKatunqui.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuKatunqui.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuKatunqui.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuKatunqui.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuKatunqui.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuKatunqui.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuKatunqui.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ApuPatallacta">
                            <input id="ApuPatallacta-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ApuPatallacta</span><wbr>(<span class="base"><a href="#ApuBase">ApuBase</a></span>):

                <label class="view-source-button" for="ApuPatallacta-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuPatallacta"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuPatallacta-374"><a href="#ApuPatallacta-374"><span class="linenos">374</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ApuPatallacta</span><span class="p">(</span><span class="n">ApuBase</span><span class="p">):</span>
</span><span id="ApuPatallacta-375"><a href="#ApuPatallacta-375"><span class="linenos">375</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apu Patallacta - Ruinas Sagradas&quot;&quot;&quot;</span>
</span><span id="ApuPatallacta-376"><a href="#ApuPatallacta-376"><span class="linenos">376</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuPatallacta-377"><a href="#ApuPatallacta-377"><span class="linenos">377</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuPatallacta-378"><a href="#ApuPatallacta-378"><span class="linenos">378</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Patallacta&quot;</span><span class="p">,</span>
</span><span id="ApuPatallacta-379"><a href="#ApuPatallacta-379"><span class="linenos">379</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">139</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span>
</span><span id="ApuPatallacta-380"><a href="#ApuPatallacta-380"><span class="linenos">380</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="ApuPatallacta-381"><a href="#ApuPatallacta-381"><span class="linenos">381</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Ruinas Sagradas&quot;</span><span class="p">,</span>
</span><span id="ApuPatallacta-382"><a href="#ApuPatallacta-382"><span class="linenos">382</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuPatallacta-383"><a href="#ApuPatallacta-383"><span class="linenos">383</span></a>        <span class="p">)</span>
</span><span id="ApuPatallacta-384"><a href="#ApuPatallacta-384"><span class="linenos">384</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Qullqi&quot;</span><span class="p">,</span> <span class="s2">&quot;Quispe&quot;</span><span class="p">]</span>
</span><span id="ApuPatallacta-385"><a href="#ApuPatallacta-385"><span class="linenos">385</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">2800</span>  <span class="c1"># metros</span>
</span><span id="ApuPatallacta-386"><a href="#ApuPatallacta-386"><span class="linenos">386</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Ruinas sagradas&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Cusco&quot;</span><span class="p">,</span> <span class="s2">&quot;Sitio arqueolgico&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Apu Patallacta - Ruinas Sagradas</p>
</div>


                            <div id="ApuPatallacta.__init__" class="classattr">
                                        <input id="ApuPatallacta.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ApuPatallacta</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="ApuPatallacta.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ApuPatallacta.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ApuPatallacta.__init__-376"><a href="#ApuPatallacta.__init__-376"><span class="linenos">376</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ApuPatallacta.__init__-377"><a href="#ApuPatallacta.__init__-377"><span class="linenos">377</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="ApuPatallacta.__init__-378"><a href="#ApuPatallacta.__init__-378"><span class="linenos">378</span></a>            <span class="n">nombre</span><span class="o">=</span><span class="s2">&quot;Patallacta&quot;</span><span class="p">,</span>
</span><span id="ApuPatallacta.__init__-379"><a href="#ApuPatallacta.__init__-379"><span class="linenos">379</span></a>            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">139</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span>
</span><span id="ApuPatallacta.__init__-380"><a href="#ApuPatallacta.__init__-380"><span class="linenos">380</span></a>            <span class="n">health</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="ApuPatallacta.__init__-381"><a href="#ApuPatallacta.__init__-381"><span class="linenos">381</span></a>            <span class="n">bioma</span><span class="o">=</span><span class="s2">&quot;Ruinas Sagradas&quot;</span><span class="p">,</span>
</span><span id="ApuPatallacta.__init__-382"><a href="#ApuPatallacta.__init__-382"><span class="linenos">382</span></a>            <span class="n">gif</span><span class="o">=</span><span class="s2">&quot;coropuna.gif&quot;</span>
</span><span id="ApuPatallacta.__init__-383"><a href="#ApuPatallacta.__init__-383"><span class="linenos">383</span></a>        <span class="p">)</span>
</span><span id="ApuPatallacta.__init__-384"><a href="#ApuPatallacta.__init__-384"><span class="linenos">384</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_robadas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Qullqi&quot;</span><span class="p">,</span> <span class="s2">&quot;Quispe&quot;</span><span class="p">]</span>
</span><span id="ApuPatallacta.__init__-385"><a href="#ApuPatallacta.__init__-385"><span class="linenos">385</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">altura</span> <span class="o">=</span> <span class="mi">2800</span>  <span class="c1"># metros</span>
</span><span id="ApuPatallacta.__init__-386"><a href="#ApuPatallacta.__init__-386"><span class="linenos">386</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">caracteristicas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Ruinas sagradas&quot;</span><span class="p">,</span> <span class="s2">&quot;Zona de Cusco&quot;</span><span class="p">,</span> <span class="s2">&quot;Sitio arqueolgico&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu con sus atributos principales.</p>
</div>


                            </div>
                            <div id="ApuPatallacta.illas_robadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_robadas</span>

        
    </div>
    <a class="headerlink" href="#ApuPatallacta.illas_robadas"></a>
    
    

                            </div>
                            <div id="ApuPatallacta.altura" class="classattr">
                                <div class="attr variable">
            <span class="name">altura</span>

        
    </div>
    <a class="headerlink" href="#ApuPatallacta.altura"></a>
    
    

                            </div>
                            <div id="ApuPatallacta.caracteristicas" class="classattr">
                                <div class="attr variable">
            <span class="name">caracteristicas</span>

        
    </div>
    <a class="headerlink" href="#ApuPatallacta.caracteristicas"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ApuBase">ApuBase</a></dt>
                                <dd id="ApuPatallacta.nombre" class="variable"><a href="#ApuBase.nombre">nombre</a></dd>
                <dd id="ApuPatallacta.color" class="variable"><a href="#ApuBase.color">color</a></dd>
                <dd id="ApuPatallacta.health" class="variable"><a href="#ApuBase.health">health</a></dd>
                <dd id="ApuPatallacta.bioma" class="variable"><a href="#ApuBase.bioma">bioma</a></dd>
                <dd id="ApuPatallacta.gif" class="variable"><a href="#ApuBase.gif">gif</a></dd>
                <dd id="ApuPatallacta.get_datos" class="function"><a href="#ApuBase.get_datos">get_datos</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="APUS_DATA">
                    <div class="attr variable">
            <span class="name">APUS_DATA</span>        =
<input id="APUS_DATA-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="APUS_DATA-view-value"></label><span class="default_value">{&#39;Huascarn&#39;: {&#39;color&#39;: (255, 255, 255), &#39;health&#39;: 100, &#39;bioma&#39;: &#39;Montaa Nevada&#39;, &#39;gif&#39;: &#39;Huascaran.gif&#39;}, &#39;Coropuna&#39;: {&#39;color&#39;: (200, 200, 255), &#39;health&#39;: 90, &#39;bioma&#39;: &#39;Glaciar&#39;, &#39;gif&#39;: &#39;coropuna.gif&#39;}, &#39;Misti&#39;: {&#39;color&#39;: (255, 150, 150), &#39;health&#39;: 85, &#39;bioma&#39;: &#39;Volcn&#39;, &#39;gif&#39;: &#39;Misti.png&#39;}, &#39;Ampato&#39;: {&#39;color&#39;: (150, 255, 150), &#39;health&#39;: 95, &#39;bioma&#39;: &#39;Altiplano&#39;, &#39;gif&#39;: &#39;Ampato.png&#39;}, &#39;Sara Sara&#39;: {&#39;color&#39;: (255, 100, 100), &#39;health&#39;: 88, &#39;bioma&#39;: &#39;Volcn Andino&#39;, &#39;gif&#39;: &#39;SaraSara.png&#39;}, &#39;Salkantay&#39;: {&#39;color&#39;: (100, 255, 200), &#39;health&#39;: 90, &#39;bioma&#39;: &#39;Selva Alta&#39;, &#39;gif&#39;: &#39;Salkantay.png&#39;}, &#39;Chachani&#39;: {&#39;color&#39;: (255, 200, 100), &#39;health&#39;: 80, &#39;bioma&#39;: &#39;Desierto Alto&#39;, &#39;gif&#39;: &#39;Chachani.png&#39;}, &#39;Ccarhuarazo&#39;: {&#39;color&#39;: (180, 180, 255), &#39;health&#39;: 92, &#39;bioma&#39;: &#39;Cordillera Central&#39;, &#39;gif&#39;: &#39;coropuna.gif&#39;}, &#39;Rasuwillka&#39;: {&#39;color&#39;: (255, 180, 255), &#39;health&#39;: 95, &#39;bioma&#39;: &#39;Montaa Sagrada&#39;, &#39;gif&#39;: &#39;coropuna.gif&#39;}, &#39;Hualca Hualca&#39;: {&#39;color&#39;: (200, 255, 255), &#39;health&#39;: 87, &#39;bioma&#39;: &#39;Volcn Nevado&#39;, &#39;gif&#39;: &#39;coropuna.gif&#39;}, &#39;Uarancante&#39;: {&#39;color&#39;: (255, 255, 150), &#39;health&#39;: 89, &#39;bioma&#39;: &#39;Pico Andino&#39;, &#39;gif&#39;: &#39;coropuna.gif&#39;}, &#39;Allincapac&#39;: {&#39;color&#39;: (255, 215, 0), &#39;health&#39;: 93, &#39;bioma&#39;: &#39;Montaa Dorada&#39;, &#39;gif&#39;: &#39;coropuna.gif&#39;}, &#39;Katunqui&#39;: {&#39;color&#39;: (200, 100, 255), &#39;health&#39;: 85, &#39;bioma&#39;: &#39;Volcn Inactivo&#39;, &#39;gif&#39;: &#39;coropuna.gif&#39;}, &#39;Patallacta&#39;: {&#39;color&#39;: (139, 69, 19), &#39;health&#39;: 100, &#39;bioma&#39;: &#39;Ruinas Sagradas&#39;, &#39;gif&#39;: &#39;coropuna.gif&#39;}}</span>

        
    </div>
    <a class="headerlink" href="#APUS_DATA"></a>
    
            <div class="docstring"><p>BIOMA_GIFS: Lista de rutas de GIFs de fondo para cada bioma/escena.
BIOMA_MUSIC: Lista de rutas de msica asociada a cada bioma/escena.
Cada ndice corresponde al mismo bioma en ambas listas.</p>
</div>


                </section>
                <section id="BIOMA_GIFS">
                    <div class="attr variable">
            <span class="name">BIOMA_GIFS</span>        =
<input id="BIOMA_GIFS-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="BIOMA_GIFS-view-value"></label><span class="default_value">[&#39;biomas/primerBio.gif&#39;, &#39;biomas/segundoBio.gif&#39;, &#39;biomas/bioma3_glaciar.gif&#39;, &#39;biomas/bioma4_altiplano.gif&#39;, &#39;biomas/bioma5_desierto_alto.gif&#39;, &#39;biomas/bioma6_volcan_activo.gif&#39;, &#39;biomas/bioma7_pico_nevado.gif&#39;, &#39;biomas/bioma8_cordillera.gif&#39;, &#39;biomas/bioma9_laguna_sagrada.gif&#39;, &#39;biomas/bioma10_selva_alta.gif&#39;, &#39;biomas/bioma11_valle_glaciar.gif&#39;, &#39;biomas/bioma12_cima_suprema.gif&#39;]</span>

        
    </div>
    <a class="headerlink" href="#BIOMA_GIFS"></a>
    
    

                </section>
                <section id="BIOMA_MUSIC">
                    <div class="attr variable">
            <span class="name">BIOMA_MUSIC</span>        =
<input id="BIOMA_MUSIC-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="BIOMA_MUSIC-view-value"></label><span class="default_value">[&#39;music/musica1.mp3&#39;, &#39;music/musica_2.mp3&#39;, &#39;music/musica3_coropuna.mp3&#39;, &#39;music/musica4_ampato.mp3&#39;, &#39;music/musica5_chachani.mp3&#39;, &#39;music/musica6_sabancaya.mp3&#39;, &#39;music/musica7_alpamayo.mp3&#39;, &#39;music/musica8_yerupaja.mp3&#39;, &#39;music/musica9_ausangate.mp3&#39;, &#39;music/musica10_salkantay.mp3&#39;, &#39;music/musica11_chopicalqui.mp3&#39;, &#39;music/musica12_cotopaxi.mp3&#39;]</span>

        
    </div>
    <a class="headerlink" href="#BIOMA_MUSIC"></a>
    
            <div class="docstring"><p>ILLAS_ROBADAS_POR_ESCENA: Lista principal donde se almacenan las illas robadas por cada escena.
Cada elemento de la lista representa una escena y contiene otra lista con los nombres de las illas robadas en esa escena.</p>

<p>Ejemplo de uso:
    # Obtener las illas de la escena 1 (Huascarn)
    illas_escena1 = ILLAS_ROBADAS_POR_ESCENA[0]
    print(illas_escena1)  # Output: ["Tumi", "Chacana"]</p>

<p>Notas:
    - Los ndices de la lista corresponden a la escena:
        0  Escena 1: Huascarn
        1  Escena 2: Coropuna
        2  Escena 3: Misti
        3  Escena 4: Ampato
        4  Escena 5: Sara Sara
        5  Escena 6: Salkantay
        6  Escena 7: Chachani
        7  Escena 8: Ccarhuarazo
        8  Escena 9: Rasuwillka
        9  Escena 10: Hualca Hualca
        10  Escena 11: Uarancante
        11  Escena 12: Allincapac
        12  Escena 13: Katunqui
        13  Escena 14: Patallacta
    - Cada sublista puede contener una o varias illas (strings).
    - Se reutilizan nombres de illas si es necesario (por ejemplo, "Tumi" en Escena 14).</p>
</div>


                </section>
                <section id="ILLAS_ROBADAS_POR_ESCENA">
                    <div class="attr variable">
            <span class="name">ILLAS_ROBADAS_POR_ESCENA</span>        =
<input id="ILLAS_ROBADAS_POR_ESCENA-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="ILLAS_ROBADAS_POR_ESCENA-view-value"></label><span class="default_value">[[&#39;Tumi&#39;, &#39;Chacana&#39;], [&#39;Perro Viringo&#39;, &#39;Cuy&#39;], [&#39;Illa&#39;, &#39;Torito&#39;], [&#39;Qullqi&#39;, &#39;Quispe&#39;], [&#39;Papa&#39;, &#39;Maz&#39;], [&#39;Huashacara&#39;], [&#39;Qori&#39;, &#39;Chuo&#39;], [&#39;Cungalpo&#39;], [&#39;Hizanche&#39;], [&#39;Calluha&#39;], [&#39;Inti&#39;], [&#39;Killa&#39;], [&#39;Chaska&#39;], [&#39;Tumi&#39;]]</span>

        
    </div>
    <a class="headerlink" href="#ILLAS_ROBADAS_POR_ESCENA"></a>
    
            <div class="docstring"><p>ILLAS_GIFS: Diccionario que mapea el nombre de cada illa robada a su archivo GIF correspondiente.</p>

<p>Formato:
    { "nombre_illa" (str) : "ruta_del_gif" (str) }</p>

<p>Ejemplo de uso:
    # Obtener la ruta del GIF de la illa "Tumi"
    ruta_tumi = ILLAS_GIFS["Tumi"]
    print(ruta_tumi)  # Output: "illas/tumi.gif"</p>

<p>Notas:
    - Cada clave debe coincidir con el nombre usado en ILLAS_ROBADAS_POR_ESCENA.
    - Los valores son rutas relativas a la carpeta del proyecto.
    - Se deben actualizar las rutas si se cambia la ubicacin de los GIFs.</p>
</div>


                </section>
                <section id="ILLAS_GIFS">
                    <div class="attr variable">
            <span class="name">ILLAS_GIFS</span>        =
<input id="ILLAS_GIFS-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="ILLAS_GIFS-view-value"></label><span class="default_value">{&#39;Tumi&#39;: &#39;illas/tumi.gif&#39;, &#39;Chacana&#39;: &#39;illas/chacana.gif&#39;, &#39;Illa&#39;: &#39;illas/illa.gif&#39;, &#39;Torito&#39;: &#39;illas/torito.gif&#39;, &#39;Perro Viringo&#39;: &#39;illas/perro_viringo.gif&#39;, &#39;Cuy&#39;: &#39;illas/cuy.gif&#39;, &#39;Qullqi&#39;: &#39;illas/qullqi.gif&#39;, &#39;Quispe&#39;: &#39;illas/quispe.gif&#39;, &#39;Qori&#39;: &#39;illas/qori.gif&#39;, &#39;Chuo&#39;: &#39;illas/chuno.gif&#39;, &#39;Papa&#39;: &#39;illas/papa.gif&#39;, &#39;Maz&#39;: &#39;illas/maiz.gif&#39;, &#39;Calluha&#39;: &#39;illas/calluha.gif&#39;, &#39;Cungalpo&#39;: &#39;illas/cungalpo.gif&#39;, &#39;Hizanche&#39;: &#39;illas/hizanche.gif&#39;, &#39;Huashacara&#39;: &#39;illas/huashacara.gif&#39;, &#39;Inti&#39;: &#39;illas/inti.gif&#39;, &#39;Killa&#39;: &#39;illas/killa.gif&#39;, &#39;Chaska&#39;: &#39;illas/chaska.gif&#39;}</span>

        
    </div>
    <a class="headerlink" href="#ILLAS_GIFS"></a>
    
            <div class="docstring"><p>Funciones para cargar preguntas desde un archivo JSON y proporcionar preguntas por defecto.</p>

<p>Funciones:</p>

<pre><code>cargar_preguntas_desde_json() -&gt; list[dict]:
    Intenta cargar las preguntas desde "preguntas.json".
    Cada pregunta es un diccionario con la siguiente estructura:
        - "apu" (str): Nombre del Apu relacionado con la pregunta.
        - "pregunta" (str): Texto de la pregunta.
        - "opciones" (list[str]): Lista de opciones posibles.
        - "respuesta_correcta" (int): ndice de la opcin correcta en la lista.

    Comportamiento:
        - Si el archivo JSON no existe, imprime un mensaje con errory devuelve las preguntas por defecto.
        - Si ocurre cualquier otro error, tambin imprime un mensaje con error y devuelve las preguntas por defecto.
        - Si se carga correctamente, imprime un mensaje de OK indicando cuntas preguntas se cargaron.

preguntas_por_defecto() -&gt; list[dict]:
    Devuelve una lista de preguntas predefinidas en caso de error o archivo inexistente.
    Cada pregunta sigue la misma estructura de diccionario indicada arriba.
</code></pre>

<p>Ejemplo de uso:
    preguntas = cargar_preguntas_desde_json()
    print(preguntas[0]["pregunta"])</p>
</div>


                </section>
                <section id="cargar_preguntas_desde_json">
                            <input id="cargar_preguntas_desde_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cargar_preguntas_desde_json</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="cargar_preguntas_desde_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#cargar_preguntas_desde_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="cargar_preguntas_desde_json-590"><a href="#cargar_preguntas_desde_json-590"><span class="linenos">590</span></a><span class="k">def</span><span class="w"> </span><span class="nf">cargar_preguntas_desde_json</span><span class="p">():</span>
</span><span id="cargar_preguntas_desde_json-591"><a href="#cargar_preguntas_desde_json-591"><span class="linenos">591</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Carga las preguntas desde el archivo preguntas.json&quot;&quot;&quot;</span>
</span><span id="cargar_preguntas_desde_json-592"><a href="#cargar_preguntas_desde_json-592"><span class="linenos">592</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="cargar_preguntas_desde_json-593"><a href="#cargar_preguntas_desde_json-593"><span class="linenos">593</span></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;preguntas.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">archivo</span><span class="p">:</span>
</span><span id="cargar_preguntas_desde_json-594"><a href="#cargar_preguntas_desde_json-594"><span class="linenos">594</span></a>            <span class="n">datos</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">archivo</span><span class="p">)</span>
</span><span id="cargar_preguntas_desde_json-595"><a href="#cargar_preguntas_desde_json-595"><span class="linenos">595</span></a>            <span class="n">preguntas</span> <span class="o">=</span> <span class="n">datos</span><span class="p">[</span><span class="s2">&quot;preguntas&quot;</span><span class="p">]</span>
</span><span id="cargar_preguntas_desde_json-596"><a href="#cargar_preguntas_desde_json-596"><span class="linenos">596</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cargadas </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">preguntas</span><span class="p">)</span><span class="si">}</span><span class="s2"> preguntas desde preguntas.json&quot;</span><span class="p">)</span>
</span><span id="cargar_preguntas_desde_json-597"><a href="#cargar_preguntas_desde_json-597"><span class="linenos">597</span></a>            <span class="k">return</span> <span class="n">preguntas</span>
</span><span id="cargar_preguntas_desde_json-598"><a href="#cargar_preguntas_desde_json-598"><span class="linenos">598</span></a>    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="cargar_preguntas_desde_json-599"><a href="#cargar_preguntas_desde_json-599"><span class="linenos">599</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Archivo preguntas.json no encontrado, usando preguntas por defecto&quot;</span><span class="p">)</span>
</span><span id="cargar_preguntas_desde_json-600"><a href="#cargar_preguntas_desde_json-600"><span class="linenos">600</span></a>        <span class="k">return</span> <span class="n">preguntas_por_defecto</span><span class="p">()</span>
</span><span id="cargar_preguntas_desde_json-601"><a href="#cargar_preguntas_desde_json-601"><span class="linenos">601</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="cargar_preguntas_desde_json-602"><a href="#cargar_preguntas_desde_json-602"><span class="linenos">602</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error cargando preguntas.json: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">, usando preguntas por defecto&quot;</span><span class="p">)</span>
</span><span id="cargar_preguntas_desde_json-603"><a href="#cargar_preguntas_desde_json-603"><span class="linenos">603</span></a>        <span class="k">return</span> <span class="n">preguntas_por_defecto</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Carga las preguntas desde el archivo preguntas.json</p>
</div>


                </section>
                <section id="preguntas_por_defecto">
                            <input id="preguntas_por_defecto-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">preguntas_por_defecto</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="preguntas_por_defecto-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#preguntas_por_defecto"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="preguntas_por_defecto-605"><a href="#preguntas_por_defecto-605"><span class="linenos">605</span></a><span class="k">def</span><span class="w"> </span><span class="nf">preguntas_por_defecto</span><span class="p">():</span>
</span><span id="preguntas_por_defecto-606"><a href="#preguntas_por_defecto-606"><span class="linenos">606</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Preguntas por defecto en caso de error&quot;&quot;&quot;</span>
</span><span id="preguntas_por_defecto-607"><a href="#preguntas_por_defecto-607"><span class="linenos">607</span></a>    <span class="k">return</span> <span class="p">[</span>
</span><span id="preguntas_por_defecto-608"><a href="#preguntas_por_defecto-608"><span class="linenos">608</span></a>        <span class="p">{</span>
</span><span id="preguntas_por_defecto-609"><a href="#preguntas_por_defecto-609"><span class="linenos">609</span></a>            <span class="s2">&quot;apu&quot;</span><span class="p">:</span> <span class="s2">&quot;Huascarn&quot;</span><span class="p">,</span>
</span><span id="preguntas_por_defecto-610"><a href="#preguntas_por_defecto-610"><span class="linenos">610</span></a>            <span class="s2">&quot;pregunta&quot;</span><span class="p">:</span> <span class="s2">&quot;Qu civilizacin es conocida por sus impresionantes lneas trazadas en el desierto que solo pueden verse desde el aire?&quot;</span><span class="p">,</span>
</span><span id="preguntas_por_defecto-611"><a href="#preguntas_por_defecto-611"><span class="linenos">611</span></a>            <span class="s2">&quot;opciones&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Mochica&quot;</span><span class="p">,</span> <span class="s2">&quot;Nazca&quot;</span><span class="p">,</span> <span class="s2">&quot;Chavn&quot;</span><span class="p">,</span> <span class="s2">&quot;Wari&quot;</span><span class="p">],</span>
</span><span id="preguntas_por_defecto-612"><a href="#preguntas_por_defecto-612"><span class="linenos">612</span></a>            <span class="s2">&quot;respuesta_correcta&quot;</span><span class="p">:</span> <span class="mi">1</span>
</span><span id="preguntas_por_defecto-613"><a href="#preguntas_por_defecto-613"><span class="linenos">613</span></a>        <span class="p">},</span>
</span><span id="preguntas_por_defecto-614"><a href="#preguntas_por_defecto-614"><span class="linenos">614</span></a>        <span class="p">{</span>
</span><span id="preguntas_por_defecto-615"><a href="#preguntas_por_defecto-615"><span class="linenos">615</span></a>            <span class="s2">&quot;apu&quot;</span><span class="p">:</span> <span class="s2">&quot;Misti&quot;</span><span class="p">,</span>
</span><span id="preguntas_por_defecto-616"><a href="#preguntas_por_defecto-616"><span class="linenos">616</span></a>            <span class="s2">&quot;pregunta&quot;</span><span class="p">:</span> <span class="s2">&quot;Cul fue la capital del Imperio Inca?&quot;</span><span class="p">,</span>
</span><span id="preguntas_por_defecto-617"><a href="#preguntas_por_defecto-617"><span class="linenos">617</span></a>            <span class="s2">&quot;opciones&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Cusco&quot;</span><span class="p">,</span> <span class="s2">&quot;Machu Picchu&quot;</span><span class="p">,</span> <span class="s2">&quot;Ollantaytambo&quot;</span><span class="p">,</span> <span class="s2">&quot;Sacsayhuamn&quot;</span><span class="p">],</span>
</span><span id="preguntas_por_defecto-618"><a href="#preguntas_por_defecto-618"><span class="linenos">618</span></a>            <span class="s2">&quot;respuesta_correcta&quot;</span><span class="p">:</span> <span class="mi">0</span>
</span><span id="preguntas_por_defecto-619"><a href="#preguntas_por_defecto-619"><span class="linenos">619</span></a>        <span class="p">}</span>
</span><span id="preguntas_por_defecto-620"><a href="#preguntas_por_defecto-620"><span class="linenos">620</span></a>    <span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Preguntas por defecto en caso de error</p>
</div>


                </section>
                <section id="PREGUNTAS_APUS">
                    <div class="attr variable">
            <span class="name">PREGUNTAS_APUS</span>        =
<input id="PREGUNTAS_APUS-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="PREGUNTAS_APUS-view-value"></label><span class="default_value">[{&#39;apu&#39;: &#39;Huascarn&#39;, &#39;pregunta&#39;: &#39;Qu civilizacin es conocida por sus impresionantes lneas trazadas en el desierto que solo pueden verse desde el aire?&#39;, &#39;opciones&#39;: [&#39;Mochica&#39;, &#39;Nazca&#39;, &#39;Chavn&#39;, &#39;Wari&#39;], &#39;respuesta_correcta&#39;: 1}, {&#39;apu&#39;: &#39;Misti&#39;, &#39;pregunta&#39;: &#39;Cul fue la capital del Imperio Inca?&#39;, &#39;opciones&#39;: [&#39;Cusco&#39;, &#39;Machu Picchu&#39;, &#39;Ollantaytambo&#39;, &#39;Sacsayhuamn&#39;], &#39;respuesta_correcta&#39;: 0}, {&#39;apu&#39;: &#39;Coropuna&#39;, &#39;pregunta&#39;: &#39;Qu cultura es famosa por sus huacos retratos y su avanzada metalurgia?&#39;, &#39;opciones&#39;: [&#39;Nazca&#39;, &#39;Chavn&#39;, &#39;Mochica&#39;, &#39;Chim&#39;], &#39;respuesta_correcta&#39;: 2}, {&#39;apu&#39;: &#39;Ampato&#39;, &#39;pregunta&#39;: &#39;Cul es el nombre del sistema de nudos usado por los incas para registrar informacin?&#39;, &#39;opciones&#39;: [&#39;Quipu&#39;, &#39;Tocapu&#39;, &#39;Ayllu&#39;, &#34;Mit&#39;a&#34;], &#39;respuesta_correcta&#39;: 0}, {&#39;apu&#39;: &#39;Chachani&#39;, &#39;pregunta&#39;: &#39;Qu cultura construy el famoso templo de Chavn de Huntar?&#39;, &#39;opciones&#39;: [&#39;Wari&#39;, &#39;Tiahuanaco&#39;, &#39;Chavn&#39;, &#39;Paracas&#39;], &#39;respuesta_correcta&#39;: 2}, {&#39;apu&#39;: &#39;Sabancaya&#39;, &#39;pregunta&#39;: &#39;Cmo se llamaba el emperador inca cuando llegaron los espaoles?&#39;, &#39;opciones&#39;: [&#39;Huscar&#39;, &#39;Atahualpa&#39;, &#39;Manco Inca&#39;, &#39;Tpac Amaru&#39;], &#39;respuesta_correcta&#39;: 1}, {&#39;apu&#39;: &#39;Alpamayo&#39;, &#39;pregunta&#39;: &#39;Qu cultura cre los famosos mantos de Paracas?&#39;, &#39;opciones&#39;: [&#39;Paracas&#39;, &#39;Nazca&#39;, &#39;Ica&#39;, &#39;Chincha&#39;], &#39;respuesta_correcta&#39;: 0}, {&#39;apu&#39;: &#39;Yerupaj&#39;, &#39;pregunta&#39;: &#39;Cul era la moneda de intercambio principal en el Imperio Inca?&#39;, &#39;opciones&#39;: [&#39;Oro&#39;, &#39;Plata&#39;, &#39;No usaban moneda&#39;, &#39;Cobre&#39;], &#39;respuesta_correcta&#39;: 2}, {&#39;apu&#39;: &#39;Ausangate&#39;, &#39;pregunta&#39;: &#34;Qu significa &#39;Tahuantinsuyu&#39;?&#34;, &#39;opciones&#39;: [&#39;Casa del Sol&#39;, &#39;Cuatro regiones&#39;, &#39;Gran Imperio&#39;, &#39;Tierra Sagrada&#39;], &#39;respuesta_correcta&#39;: 1}, {&#39;apu&#39;: &#39;Salkantay&#39;, &#39;pregunta&#39;: &#39;Qu cultura desarroll la tcnica agrcola de andenes o terrazas?&#39;, &#39;opciones&#39;: [&#39;Nazca&#39;, &#39;Inca&#39;, &#39;Wari&#39;, &#39;Todas las anteriores&#39;], &#39;respuesta_correcta&#39;: 3}, {&#39;apu&#39;: &#39;Chopicalqui&#39;, &#39;pregunta&#39;: &#39;Cmo se llamaba el dios principal de los incas?&#39;, &#39;opciones&#39;: [&#39;Viracocha&#39;, &#39;Inti&#39;, &#39;Mama Quilla&#39;, &#39;Pachacamac&#39;], &#39;respuesta_correcta&#39;: 1}, {&#39;apu&#39;: &#39;Cotopaxi&#39;, &#39;pregunta&#39;: &#39;Cul fue la primera capital de los incas antes de Cusco?&#39;, &#39;opciones&#39;: [&#39;Paqariq Tampu&#39;, &#39;Ollantaytambo&#39;, &#39;Pisaq&#39;, &#39;Machu Picchu&#39;], &#39;respuesta_correcta&#39;: 0}]</span>

        
    </div>
    <a class="headerlink" href="#PREGUNTAS_APUS"></a>
    
    

                </section>
                <section id="load_gif_frames">
                            <input id="load_gif_frames-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">load_gif_frames</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">gif_path</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="load_gif_frames-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#load_gif_frames"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="load_gif_frames-626"><a href="#load_gif_frames-626"><span class="linenos">626</span></a><span class="k">def</span><span class="w"> </span><span class="nf">load_gif_frames</span><span class="p">(</span><span class="n">gif_path</span><span class="p">):</span>
</span><span id="load_gif_frames-627"><a href="#load_gif_frames-627"><span class="linenos">627</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Carga todos los frames de un GIF como superficies pygame</span>
</span><span id="load_gif_frames-628"><a href="#load_gif_frames-628"><span class="linenos">628</span></a><span class="sd">    </span>
</span><span id="load_gif_frames-629"><a href="#load_gif_frames-629"><span class="linenos">629</span></a><span class="sd">    Args:</span>
</span><span id="load_gif_frames-630"><a href="#load_gif_frames-630"><span class="linenos">630</span></a><span class="sd">        gif_path (str): Ruta del archivo GIF.</span>
</span><span id="load_gif_frames-631"><a href="#load_gif_frames-631"><span class="linenos">631</span></a>
</span><span id="load_gif_frames-632"><a href="#load_gif_frames-632"><span class="linenos">632</span></a><span class="sd">    Returns:</span>
</span><span id="load_gif_frames-633"><a href="#load_gif_frames-633"><span class="linenos">633</span></a><span class="sd">        list[pygame.Surface] | None: Lista de superficies Pygame de cada frame, o None si ocurre un error.</span>
</span><span id="load_gif_frames-634"><a href="#load_gif_frames-634"><span class="linenos">634</span></a>
</span><span id="load_gif_frames-635"><a href="#load_gif_frames-635"><span class="linenos">635</span></a><span class="sd">    Notas:</span>
</span><span id="load_gif_frames-636"><a href="#load_gif_frames-636"><span class="linenos">636</span></a><span class="sd">        - Convierte el GIF a modo RGBA si es necesario.</span>
</span><span id="load_gif_frames-637"><a href="#load_gif_frames-637"><span class="linenos">637</span></a><span class="sd">        - til para animaciones de sprites.</span>
</span><span id="load_gif_frames-638"><a href="#load_gif_frames-638"><span class="linenos">638</span></a><span class="sd">        - Los errores se imprimen en consola.</span>
</span><span id="load_gif_frames-639"><a href="#load_gif_frames-639"><span class="linenos">639</span></a><span class="sd">    </span>
</span><span id="load_gif_frames-640"><a href="#load_gif_frames-640"><span class="linenos">640</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="load_gif_frames-641"><a href="#load_gif_frames-641"><span class="linenos">641</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="load_gif_frames-642"><a href="#load_gif_frames-642"><span class="linenos">642</span></a>        <span class="n">gif</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="load_gif_frames-643"><a href="#load_gif_frames-643"><span class="linenos">643</span></a>        <span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="load_gif_frames-644"><a href="#load_gif_frames-644"><span class="linenos">644</span></a>        <span class="k">for</span> <span class="n">frame_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">gif</span><span class="o">.</span><span class="n">n_frames</span><span class="p">):</span>
</span><span id="load_gif_frames-645"><a href="#load_gif_frames-645"><span class="linenos">645</span></a>            <span class="n">gif</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">frame_num</span><span class="p">)</span>
</span><span id="load_gif_frames-646"><a href="#load_gif_frames-646"><span class="linenos">646</span></a>            <span class="n">frame</span> <span class="o">=</span> <span class="n">gif</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="load_gif_frames-647"><a href="#load_gif_frames-647"><span class="linenos">647</span></a>            <span class="k">if</span> <span class="n">frame</span><span class="o">.</span><span class="n">mode</span> <span class="o">!=</span> <span class="s2">&quot;RGBA&quot;</span><span class="p">:</span>
</span><span id="load_gif_frames-648"><a href="#load_gif_frames-648"><span class="linenos">648</span></a>                <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">)</span>
</span><span id="load_gif_frames-649"><a href="#load_gif_frames-649"><span class="linenos">649</span></a>            <span class="n">frame_surface</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">tobytes</span><span class="p">(),</span> <span class="n">frame</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="s2">&quot;RGBA&quot;</span><span class="p">)</span>
</span><span id="load_gif_frames-650"><a href="#load_gif_frames-650"><span class="linenos">650</span></a>            <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame_surface</span><span class="p">)</span>
</span><span id="load_gif_frames-651"><a href="#load_gif_frames-651"><span class="linenos">651</span></a>        <span class="k">return</span> <span class="n">frames</span>
</span><span id="load_gif_frames-652"><a href="#load_gif_frames-652"><span class="linenos">652</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="load_gif_frames-653"><a href="#load_gif_frames-653"><span class="linenos">653</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error cargando GIF </span><span class="si">{</span><span class="n">gif_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="load_gif_frames-654"><a href="#load_gif_frames-654"><span class="linenos">654</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Carga todos los frames de un GIF como superficies pygame</p>

<p>Args:
    gif_path (str): Ruta del archivo GIF.</p>

<p>Returns:
    list[pygame.Surface] | None: Lista de superficies Pygame de cada frame, o None si ocurre un error.</p>

<p>Notas:
    - Convierte el GIF a modo RGBA si es necesario.
    - til para animaciones de sprites.
    - Los errores se imprimen en consola.</p>
</div>


                </section>
                <section id="load_music">
                            <input id="load_music-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">load_music</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">music_path</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="load_music-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#load_music"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="load_music-656"><a href="#load_music-656"><span class="linenos">656</span></a><span class="k">def</span><span class="w"> </span><span class="nf">load_music</span><span class="p">(</span><span class="n">music_path</span><span class="p">):</span>
</span><span id="load_music-657"><a href="#load_music-657"><span class="linenos">657</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Carga msica de fondo</span>
</span><span id="load_music-658"><a href="#load_music-658"><span class="linenos">658</span></a><span class="sd">    </span>
</span><span id="load_music-659"><a href="#load_music-659"><span class="linenos">659</span></a><span class="sd">    Args:</span>
</span><span id="load_music-660"><a href="#load_music-660"><span class="linenos">660</span></a><span class="sd">        music_path (str): Ruta del archivo de msica.</span>
</span><span id="load_music-661"><a href="#load_music-661"><span class="linenos">661</span></a>
</span><span id="load_music-662"><a href="#load_music-662"><span class="linenos">662</span></a><span class="sd">    Returns:</span>
</span><span id="load_music-663"><a href="#load_music-663"><span class="linenos">663</span></a><span class="sd">        bool: True si se carg correctamente, False si no existe el archivo o hubo error.</span>
</span><span id="load_music-664"><a href="#load_music-664"><span class="linenos">664</span></a>
</span><span id="load_music-665"><a href="#load_music-665"><span class="linenos">665</span></a><span class="sd">    Notas:</span>
</span><span id="load_music-666"><a href="#load_music-666"><span class="linenos">666</span></a><span class="sd">        - No reproduce la msica, solo la carga.</span>
</span><span id="load_music-667"><a href="#load_music-667"><span class="linenos">667</span></a><span class="sd">    </span>
</span><span id="load_music-668"><a href="#load_music-668"><span class="linenos">668</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="load_music-669"><a href="#load_music-669"><span class="linenos">669</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="load_music-670"><a href="#load_music-670"><span class="linenos">670</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">music_path</span><span class="p">):</span>
</span><span id="load_music-671"><a href="#load_music-671"><span class="linenos">671</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">music_path</span><span class="p">)</span>
</span><span id="load_music-672"><a href="#load_music-672"><span class="linenos">672</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="load_music-673"><a href="#load_music-673"><span class="linenos">673</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="load_music-674"><a href="#load_music-674"><span class="linenos">674</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="load_music-675"><a href="#load_music-675"><span class="linenos">675</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error cargando msica </span><span class="si">{</span><span class="n">music_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="load_music-676"><a href="#load_music-676"><span class="linenos">676</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Carga msica de fondo</p>

<p>Args:
    music_path (str): Ruta del archivo de msica.</p>

<p>Returns:
    bool: True si se carg correctamente, False si no existe el archivo o hubo error.</p>

<p>Notas:
    - No reproduce la msica, solo la carga.</p>
</div>


                </section>
                <section id="play_music">
                            <input id="play_music-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">play_music</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">music_path</span>, </span><span class="param"><span class="n">loop</span><span class="o">=-</span><span class="mi">1</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="play_music-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#play_music"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="play_music-678"><a href="#play_music-678"><span class="linenos">678</span></a><span class="k">def</span><span class="w"> </span><span class="nf">play_music</span><span class="p">(</span><span class="n">music_path</span><span class="p">,</span> <span class="n">loop</span><span class="o">=-</span><span class="mi">1</span><span class="p">):</span>
</span><span id="play_music-679"><a href="#play_music-679"><span class="linenos">679</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Reproduce msica de fondo</span>
</span><span id="play_music-680"><a href="#play_music-680"><span class="linenos">680</span></a><span class="sd">    </span>
</span><span id="play_music-681"><a href="#play_music-681"><span class="linenos">681</span></a><span class="sd">    Args:</span>
</span><span id="play_music-682"><a href="#play_music-682"><span class="linenos">682</span></a><span class="sd">        music_path (str): Ruta del archivo de msica.</span>
</span><span id="play_music-683"><a href="#play_music-683"><span class="linenos">683</span></a><span class="sd">        loop (int, opcional): Nmero de veces que se repite la msica. -1 = loop infinito. Default: -1.</span>
</span><span id="play_music-684"><a href="#play_music-684"><span class="linenos">684</span></a>
</span><span id="play_music-685"><a href="#play_music-685"><span class="linenos">685</span></a><span class="sd">    Returns:</span>
</span><span id="play_music-686"><a href="#play_music-686"><span class="linenos">686</span></a><span class="sd">        bool: True si se reproduce correctamente, False si hay error.</span>
</span><span id="play_music-687"><a href="#play_music-687"><span class="linenos">687</span></a>
</span><span id="play_music-688"><a href="#play_music-688"><span class="linenos">688</span></a><span class="sd">    Notas:</span>
</span><span id="play_music-689"><a href="#play_music-689"><span class="linenos">689</span></a><span class="sd">        - Llama internamente a load_music.</span>
</span><span id="play_music-690"><a href="#play_music-690"><span class="linenos">690</span></a><span class="sd">        - Maneja errores y los imprime en consola.</span>
</span><span id="play_music-691"><a href="#play_music-691"><span class="linenos">691</span></a><span class="sd">    </span>
</span><span id="play_music-692"><a href="#play_music-692"><span class="linenos">692</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="play_music-693"><a href="#play_music-693"><span class="linenos">693</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="play_music-694"><a href="#play_music-694"><span class="linenos">694</span></a>        <span class="k">if</span> <span class="n">load_music</span><span class="p">(</span><span class="n">music_path</span><span class="p">):</span>
</span><span id="play_music-695"><a href="#play_music-695"><span class="linenos">695</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">loop</span><span class="p">)</span>  <span class="c1"># -1 = loop infinito</span>
</span><span id="play_music-696"><a href="#play_music-696"><span class="linenos">696</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="play_music-697"><a href="#play_music-697"><span class="linenos">697</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="play_music-698"><a href="#play_music-698"><span class="linenos">698</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="play_music-699"><a href="#play_music-699"><span class="linenos">699</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error reproduciendo msica: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="play_music-700"><a href="#play_music-700"><span class="linenos">700</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Reproduce msica de fondo</p>

<p>Args:
    music_path (str): Ruta del archivo de msica.
    loop (int, opcional): Nmero de veces que se repite la msica. -1 = loop infinito. Default: -1.</p>

<p>Returns:
    bool: True si se reproduce correctamente, False si hay error.</p>

<p>Notas:
    - Llama internamente a load_music.
    - Maneja errores y los imprime en consola.</p>
</div>


                </section>
                <section id="stop_music">
                            <input id="stop_music-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">stop_music</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="stop_music-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#stop_music"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="stop_music-702"><a href="#stop_music-702"><span class="linenos">702</span></a><span class="k">def</span><span class="w"> </span><span class="nf">stop_music</span><span class="p">():</span>
</span><span id="stop_music-703"><a href="#stop_music-703"><span class="linenos">703</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Detiene la msica de fondo&quot;&quot;&quot;</span>
</span><span id="stop_music-704"><a href="#stop_music-704"><span class="linenos">704</span></a>    <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Detiene la msica de fondo</p>
</div>


                </section>
                <section id="draw_pixelated_hearts">
                            <input id="draw_pixelated_hearts-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">draw_pixelated_hearts</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">screen</span>, </span><span class="param"><span class="n">lives</span>, </span><span class="param"><span class="n">max_lives</span>, </span><span class="param"><span class="n">x</span>, </span><span class="param"><span class="n">y</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="draw_pixelated_hearts-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#draw_pixelated_hearts"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="draw_pixelated_hearts-706"><a href="#draw_pixelated_hearts-706"><span class="linenos">706</span></a><span class="k">def</span><span class="w"> </span><span class="nf">draw_pixelated_hearts</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">lives</span><span class="p">,</span> <span class="n">max_lives</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="draw_pixelated_hearts-707"><a href="#draw_pixelated_hearts-707"><span class="linenos">707</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Dibuja corazones pixelados estilo Minecraft</span>
</span><span id="draw_pixelated_hearts-708"><a href="#draw_pixelated_hearts-708"><span class="linenos">708</span></a><span class="sd">    </span>
</span><span id="draw_pixelated_hearts-709"><a href="#draw_pixelated_hearts-709"><span class="linenos">709</span></a><span class="sd">    Args:</span>
</span><span id="draw_pixelated_hearts-710"><a href="#draw_pixelated_hearts-710"><span class="linenos">710</span></a><span class="sd">        screen (pygame.Surface): Pantalla o superficie donde se dibujan los corazones.</span>
</span><span id="draw_pixelated_hearts-711"><a href="#draw_pixelated_hearts-711"><span class="linenos">711</span></a><span class="sd">        lives (int): Nmero actual de vidas.</span>
</span><span id="draw_pixelated_hearts-712"><a href="#draw_pixelated_hearts-712"><span class="linenos">712</span></a><span class="sd">        max_lives (int): Nmero mximo de vidas.</span>
</span><span id="draw_pixelated_hearts-713"><a href="#draw_pixelated_hearts-713"><span class="linenos">713</span></a><span class="sd">        x (int): Coordenada X inicial para dibujar el primer corazn.</span>
</span><span id="draw_pixelated_hearts-714"><a href="#draw_pixelated_hearts-714"><span class="linenos">714</span></a><span class="sd">        y (int): Coordenada Y inicial para dibujar los corazones.</span>
</span><span id="draw_pixelated_hearts-715"><a href="#draw_pixelated_hearts-715"><span class="linenos">715</span></a>
</span><span id="draw_pixelated_hearts-716"><a href="#draw_pixelated_hearts-716"><span class="linenos">716</span></a><span class="sd">    Notas:</span>
</span><span id="draw_pixelated_hearts-717"><a href="#draw_pixelated_hearts-717"><span class="linenos">717</span></a><span class="sd">        - Los corazones llenos se dibujan en rojo, los vacos en gris.</span>
</span><span id="draw_pixelated_hearts-718"><a href="#draw_pixelated_hearts-718"><span class="linenos">718</span></a><span class="sd">        - Cada corazn se dibuja usando varios rectngulos para dar efecto pixelado.</span>
</span><span id="draw_pixelated_hearts-719"><a href="#draw_pixelated_hearts-719"><span class="linenos">719</span></a><span class="sd">        - til para HUD de vidas en el juego.</span>
</span><span id="draw_pixelated_hearts-720"><a href="#draw_pixelated_hearts-720"><span class="linenos">720</span></a><span class="sd">    </span>
</span><span id="draw_pixelated_hearts-721"><a href="#draw_pixelated_hearts-721"><span class="linenos">721</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="draw_pixelated_hearts-722"><a href="#draw_pixelated_hearts-722"><span class="linenos">722</span></a>    <span class="n">heart_size</span> <span class="o">=</span> <span class="mi">20</span>
</span><span id="draw_pixelated_hearts-723"><a href="#draw_pixelated_hearts-723"><span class="linenos">723</span></a>    <span class="n">spacing</span> <span class="o">=</span> <span class="mi">25</span>
</span><span id="draw_pixelated_hearts-724"><a href="#draw_pixelated_hearts-724"><span class="linenos">724</span></a>    
</span><span id="draw_pixelated_hearts-725"><a href="#draw_pixelated_hearts-725"><span class="linenos">725</span></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_lives</span><span class="p">):</span>
</span><span id="draw_pixelated_hearts-726"><a href="#draw_pixelated_hearts-726"><span class="linenos">726</span></a>        <span class="n">heart_x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">spacing</span><span class="p">)</span>
</span><span id="draw_pixelated_hearts-727"><a href="#draw_pixelated_hearts-727"><span class="linenos">727</span></a>        <span class="n">heart_y</span> <span class="o">=</span> <span class="n">y</span>
</span><span id="draw_pixelated_hearts-728"><a href="#draw_pixelated_hearts-728"><span class="linenos">728</span></a>        
</span><span id="draw_pixelated_hearts-729"><a href="#draw_pixelated_hearts-729"><span class="linenos">729</span></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">lives</span><span class="p">:</span>
</span><span id="draw_pixelated_hearts-730"><a href="#draw_pixelated_hearts-730"><span class="linenos">730</span></a>            <span class="n">color</span> <span class="o">=</span> <span class="n">GRAY</span>
</span><span id="draw_pixelated_hearts-731"><a href="#draw_pixelated_hearts-731"><span class="linenos">731</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="draw_pixelated_hearts-732"><a href="#draw_pixelated_hearts-732"><span class="linenos">732</span></a>            <span class="n">color</span> <span class="o">=</span> <span class="n">RED</span>
</span><span id="draw_pixelated_hearts-733"><a href="#draw_pixelated_hearts-733"><span class="linenos">733</span></a>        
</span><span id="draw_pixelated_hearts-734"><a href="#draw_pixelated_hearts-734"><span class="linenos">734</span></a>        <span class="c1"># Dibujar corazn pixelado</span>
</span><span id="draw_pixelated_hearts-735"><a href="#draw_pixelated_hearts-735"><span class="linenos">735</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span><span id="draw_pixelated_hearts-736"><a href="#draw_pixelated_hearts-736"><span class="linenos">736</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">12</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span><span id="draw_pixelated_hearts-737"><a href="#draw_pixelated_hearts-737"><span class="linenos">737</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span><span id="draw_pixelated_hearts-738"><a href="#draw_pixelated_hearts-738"><span class="linenos">738</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span><span id="draw_pixelated_hearts-739"><a href="#draw_pixelated_hearts-739"><span class="linenos">739</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">6</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span><span id="draw_pixelated_hearts-740"><a href="#draw_pixelated_hearts-740"><span class="linenos">740</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">heart_x</span> <span class="o">+</span> <span class="mi">8</span><span class="p">,</span> <span class="n">heart_y</span> <span class="o">+</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Dibuja corazones pixelados estilo Minecraft</p>

<p>Args:
    screen (pygame.Surface): Pantalla o superficie donde se dibujan los corazones.
    lives (int): Nmero actual de vidas.
    max_lives (int): Nmero mximo de vidas.
    x (int): Coordenada X inicial para dibujar el primer corazn.
    y (int): Coordenada Y inicial para dibujar los corazones.</p>

<p>Notas:
    - Los corazones llenos se dibujan en rojo, los vacos en gris.
    - Cada corazn se dibuja usando varios rectngulos para dar efecto pixelado.
    - til para HUD de vidas en el juego.</p>
</div>


                </section>
                <section id="Player">
                            <input id="Player-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Player</span>:

                <label class="view-source-button" for="Player-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Player"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Player-748"><a href="#Player-748"><span class="linenos">748</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Player</span><span class="p">:</span>
</span><span id="Player-749"><a href="#Player-749"><span class="linenos">749</span></a>
</span><span id="Player-750"><a href="#Player-750"><span class="linenos">750</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Player-751"><a href="#Player-751"><span class="linenos">751</span></a><span class="sd">    Clase que representa al jugador Ekeko.</span>
</span><span id="Player-752"><a href="#Player-752"><span class="linenos">752</span></a>
</span><span id="Player-753"><a href="#Player-753"><span class="linenos">753</span></a><span class="sd">    Atributos:</span>
</span><span id="Player-754"><a href="#Player-754"><span class="linenos">754</span></a><span class="sd">        x (int): Posicin inicial en X.</span>
</span><span id="Player-755"><a href="#Player-755"><span class="linenos">755</span></a><span class="sd">        y (int): Posicin inicial en Y.</span>
</span><span id="Player-756"><a href="#Player-756"><span class="linenos">756</span></a><span class="sd">        frames (list[pygame.Surface]): Frames de animacin del jugador.</span>
</span><span id="Player-757"><a href="#Player-757"><span class="linenos">757</span></a><span class="sd">        image (pygame.Surface): Frame actual a dibujar.</span>
</span><span id="Player-758"><a href="#Player-758"><span class="linenos">758</span></a><span class="sd">        rect (pygame.Rect): Rectngulo para posicin y colisiones.</span>
</span><span id="Player-759"><a href="#Player-759"><span class="linenos">759</span></a><span class="sd">        speed (int): Velocidad de movimiento horizontal.</span>
</span><span id="Player-760"><a href="#Player-760"><span class="linenos">760</span></a><span class="sd">        vel_x (float): Velocidad actual horizontal.</span>
</span><span id="Player-761"><a href="#Player-761"><span class="linenos">761</span></a><span class="sd">        vel_y (float): Velocidad actual vertical.</span>
</span><span id="Player-762"><a href="#Player-762"><span class="linenos">762</span></a><span class="sd">        on_ground (bool): True si el jugador est en el suelo.</span>
</span><span id="Player-763"><a href="#Player-763"><span class="linenos">763</span></a><span class="sd">        gravity (float): Fuerza de gravedad.</span>
</span><span id="Player-764"><a href="#Player-764"><span class="linenos">764</span></a><span class="sd">        jump_strength (float): Fuerza de salto.</span>
</span><span id="Player-765"><a href="#Player-765"><span class="linenos">765</span></a><span class="sd">        facing_right (bool): Direccin hacia la que mira el jugador.</span>
</span><span id="Player-766"><a href="#Player-766"><span class="linenos">766</span></a><span class="sd">        walking (bool): True si est caminando.</span>
</span><span id="Player-767"><a href="#Player-767"><span class="linenos">767</span></a><span class="sd">        frame_index (int): ndice del frame de animacin actual.</span>
</span><span id="Player-768"><a href="#Player-768"><span class="linenos">768</span></a><span class="sd">        animation_speed (float): Velocidad de animacin.</span>
</span><span id="Player-769"><a href="#Player-769"><span class="linenos">769</span></a><span class="sd">        animation_timer (float): Temporizador de animacin.</span>
</span><span id="Player-770"><a href="#Player-770"><span class="linenos">770</span></a><span class="sd">        lives (int): Vidas actuales.</span>
</span><span id="Player-771"><a href="#Player-771"><span class="linenos">771</span></a><span class="sd">        max_lives (int): Mximo de vidas.</span>
</span><span id="Player-772"><a href="#Player-772"><span class="linenos">772</span></a><span class="sd">        articulos_collected (list[str]): Lista de illas recolectadas.</span>
</span><span id="Player-773"><a href="#Player-773"><span class="linenos">773</span></a><span class="sd">        font (pygame.Font): Fuente para mostrar el nombre.</span>
</span><span id="Player-774"><a href="#Player-774"><span class="linenos">774</span></a><span class="sd">        collection_radius (int): Radio para recolectar illas cercanas.</span>
</span><span id="Player-775"><a href="#Player-775"><span class="linenos">775</span></a><span class="sd">        mochila (MochilaVisual): Objeto que maneja la mochila visual.</span>
</span><span id="Player-776"><a href="#Player-776"><span class="linenos">776</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Player-777"><a href="#Player-777"><span class="linenos">777</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">gif_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scale_factor</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
</span><span id="Player-778"><a href="#Player-778"><span class="linenos">778</span></a>
</span><span id="Player-779"><a href="#Player-779"><span class="linenos">779</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Player-780"><a href="#Player-780"><span class="linenos">780</span></a><span class="sd">        Inicializa al jugador Ekeko.</span>
</span><span id="Player-781"><a href="#Player-781"><span class="linenos">781</span></a><span class="sd">        </span>
</span><span id="Player-782"><a href="#Player-782"><span class="linenos">782</span></a><span class="sd">        Args:</span>
</span><span id="Player-783"><a href="#Player-783"><span class="linenos">783</span></a><span class="sd">            x (int): Posicin inicial horizontal.</span>
</span><span id="Player-784"><a href="#Player-784"><span class="linenos">784</span></a><span class="sd">            y (int): Posicin inicial vertical.</span>
</span><span id="Player-785"><a href="#Player-785"><span class="linenos">785</span></a><span class="sd">            gif_path (str, opcional): Ruta al GIF de animacin del jugador.</span>
</span><span id="Player-786"><a href="#Player-786"><span class="linenos">786</span></a><span class="sd">            scale_factor (float, opcional): Factor de escala de los sprites.</span>
</span><span id="Player-787"><a href="#Player-787"><span class="linenos">787</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Player-788"><a href="#Player-788"><span class="linenos">788</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">=</span> <span class="n">scale_factor</span>
</span><span id="Player-789"><a href="#Player-789"><span class="linenos">789</span></a>        <span class="k">if</span> <span class="n">gif_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">gif_path</span><span class="p">):</span>
</span><span id="Player-790"><a href="#Player-790"><span class="linenos">790</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="Player-791"><a href="#Player-791"><span class="linenos">791</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="Player-792"><a href="#Player-792"><span class="linenos">792</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">*</span><span class="n">scale_factor</span><span class="p">),</span>
</span><span id="Player-793"><a href="#Player-793"><span class="linenos">793</span></a>                                                          <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span><span class="o">*</span><span class="n">scale_factor</span><span class="p">)))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span><span id="Player-794"><a href="#Player-794"><span class="linenos">794</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Player-795"><a href="#Player-795"><span class="linenos">795</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[:]</span>
</span><span id="Player-796"><a href="#Player-796"><span class="linenos">796</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Player-797"><a href="#Player-797"><span class="linenos">797</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">create_placeholder</span><span class="p">()</span>
</span><span id="Player-798"><a href="#Player-798"><span class="linenos">798</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Player-799"><a href="#Player-799"><span class="linenos">799</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_placeholder</span><span class="p">()</span>
</span><span id="Player-800"><a href="#Player-800"><span class="linenos">800</span></a>
</span><span id="Player-801"><a href="#Player-801"><span class="linenos">801</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span><span id="Player-802"><a href="#Player-802"><span class="linenos">802</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
</span><span id="Player-803"><a href="#Player-803"><span class="linenos">803</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
</span><span id="Player-804"><a href="#Player-804"><span class="linenos">804</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="Player-805"><a href="#Player-805"><span class="linenos">805</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player-806"><a href="#Player-806"><span class="linenos">806</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player-807"><a href="#Player-807"><span class="linenos">807</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Player-808"><a href="#Player-808"><span class="linenos">808</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">gravity</span> <span class="o">=</span> <span class="mf">0.8</span>
</span><span id="Player-809"><a href="#Player-809"><span class="linenos">809</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">jump_strength</span> <span class="o">=</span> <span class="o">-</span><span class="mi">15</span>
</span><span id="Player-810"><a href="#Player-810"><span class="linenos">810</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player-811"><a href="#Player-811"><span class="linenos">811</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Player-812"><a href="#Player-812"><span class="linenos">812</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player-813"><a href="#Player-813"><span class="linenos">813</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.2</span>
</span><span id="Player-814"><a href="#Player-814"><span class="linenos">814</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player-815"><a href="#Player-815"><span class="linenos">815</span></a>        
</span><span id="Player-816"><a href="#Player-816"><span class="linenos">816</span></a>        <span class="c1"># Sistema de vidas</span>
</span><span id="Player-817"><a href="#Player-817"><span class="linenos">817</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="Player-818"><a href="#Player-818"><span class="linenos">818</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_lives</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="Player-819"><a href="#Player-819"><span class="linenos">819</span></a>        
</span><span id="Player-820"><a href="#Player-820"><span class="linenos">820</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">articulos_collected</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Player-821"><a href="#Player-821"><span class="linenos">821</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="Player-822"><a href="#Player-822"><span class="linenos">822</span></a>        
</span><span id="Player-823"><a href="#Player-823"><span class="linenos">823</span></a>        <span class="c1"># Sistema de recoleccin por proximidad</span>
</span><span id="Player-824"><a href="#Player-824"><span class="linenos">824</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">collection_radius</span> <span class="o">=</span> <span class="mi">60</span>  <span class="c1"># Radio para recolectar illas</span>
</span><span id="Player-825"><a href="#Player-825"><span class="linenos">825</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mochila</span> <span class="o">=</span> <span class="n">MochilaVisual</span><span class="p">()</span>  <span class="c1"># Mochila visual</span>
</span><span id="Player-826"><a href="#Player-826"><span class="linenos">826</span></a>
</span><span id="Player-827"><a href="#Player-827"><span class="linenos">827</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_placeholder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Player-828"><a href="#Player-828"><span class="linenos">828</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Crea frames provisionales del jugador en colores slidos si no hay GIF disponible.&quot;&quot;&quot;</span>
</span><span id="Player-829"><a href="#Player-829"><span class="linenos">829</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Player-830"><a href="#Player-830"><span class="linenos">830</span></a>        <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">40</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">)</span>
</span><span id="Player-831"><a href="#Player-831"><span class="linenos">831</span></a>        <span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">60</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">)</span>
</span><span id="Player-832"><a href="#Player-832"><span class="linenos">832</span></a>        <span class="n">colors</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">)]</span>
</span><span id="Player-833"><a href="#Player-833"><span class="linenos">833</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
</span><span id="Player-834"><a href="#Player-834"><span class="linenos">834</span></a>            <span class="n">frame</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
</span><span id="Player-835"><a href="#Player-835"><span class="linenos">835</span></a>            <span class="n">frame</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</span><span id="Player-836"><a href="#Player-836"><span class="linenos">836</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</span><span id="Player-837"><a href="#Player-837"><span class="linenos">837</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Player-838"><a href="#Player-838"><span class="linenos">838</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[:]</span>
</span><span id="Player-839"><a href="#Player-839"><span class="linenos">839</span></a>
</span><span id="Player-840"><a href="#Player-840"><span class="linenos">840</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Player-841"><a href="#Player-841"><span class="linenos">841</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la posicin, fsicas (gravedad y suelo) y la animacin del jugador.&quot;&quot;&quot;</span>
</span><span id="Player-842"><a href="#Player-842"><span class="linenos">842</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span><span class="p">:</span>
</span><span id="Player-843"><a href="#Player-843"><span class="linenos">843</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gravity</span>
</span><span id="Player-844"><a href="#Player-844"><span class="linenos">844</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span>
</span><span id="Player-845"><a href="#Player-845"><span class="linenos">845</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span>
</span><span id="Player-846"><a href="#Player-846"><span class="linenos">846</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Player-847"><a href="#Player-847"><span class="linenos">847</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player-848"><a href="#Player-848"><span class="linenos">848</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">SCREEN_WIDTH</span><span class="p">:</span>
</span><span id="Player-849"><a href="#Player-849"><span class="linenos">849</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">SCREEN_WIDTH</span>
</span><span id="Player-850"><a href="#Player-850"><span class="linenos">850</span></a>        <span class="n">ground_level</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">150</span>
</span><span id="Player-851"><a href="#Player-851"><span class="linenos">851</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;=</span> <span class="n">ground_level</span><span class="p">:</span>
</span><span id="Player-852"><a href="#Player-852"><span class="linenos">852</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">ground_level</span>
</span><span id="Player-853"><a href="#Player-853"><span class="linenos">853</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player-854"><a href="#Player-854"><span class="linenos">854</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player-855"><a href="#Player-855"><span class="linenos">855</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Player-856"><a href="#Player-856"><span class="linenos">856</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Player-857"><a href="#Player-857"><span class="linenos">857</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_animation</span><span class="p">()</span>
</span><span id="Player-858"><a href="#Player-858"><span class="linenos">858</span></a>
</span><span id="Player-859"><a href="#Player-859"><span class="linenos">859</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_animation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Player-860"><a href="#Player-860"><span class="linenos">860</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza el frame actual segn la animacin y direccin del jugador.&quot;&quot;&quot;</span>
</span><span id="Player-861"><a href="#Player-861"><span class="linenos">861</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span><span class="p">:</span>
</span><span id="Player-862"><a href="#Player-862"><span class="linenos">862</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="Player-863"><a href="#Player-863"><span class="linenos">863</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Player-864"><a href="#Player-864"><span class="linenos">864</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player-865"><a href="#Player-865"><span class="linenos">865</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
</span><span id="Player-866"><a href="#Player-866"><span class="linenos">866</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span><span class="p">:</span>
</span><span id="Player-867"><a href="#Player-867"><span class="linenos">867</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span><span class="p">],</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="Player-868"><a href="#Player-868"><span class="linenos">868</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Player-869"><a href="#Player-869"><span class="linenos">869</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span><span class="p">]</span>
</span><span id="Player-870"><a href="#Player-870"><span class="linenos">870</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Player-871"><a href="#Player-871"><span class="linenos">871</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Player-872"><a href="#Player-872"><span class="linenos">872</span></a>
</span><span id="Player-873"><a href="#Player-873"><span class="linenos">873</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
</span><span id="Player-874"><a href="#Player-874"><span class="linenos">874</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot; BOTONES PARA MOVER AL PERSONAJE EKEKO:</span>
</span><span id="Player-875"><a href="#Player-875"><span class="linenos">875</span></a><span class="sd">        - A: Mover hacia la izquierda</span>
</span><span id="Player-876"><a href="#Player-876"><span class="linenos">876</span></a><span class="sd">        - D: Mover hacia la derecha</span>
</span><span id="Player-877"><a href="#Player-877"><span class="linenos">877</span></a><span class="sd">        - W: Saltar</span>
</span><span id="Player-878"><a href="#Player-878"><span class="linenos">878</span></a><span class="sd">        - J: Ver/Ocultar mochila (manejado en GameManager)</span>
</span><span id="Player-879"><a href="#Player-879"><span class="linenos">879</span></a><span class="sd">        - : Navegar en preguntas (en QuestionScreen)</span>
</span><span id="Player-880"><a href="#Player-880"><span class="linenos">880</span></a><span class="sd">        - ENTER: Confirmar respuesta (en QuestionScreen)</span>
</span><span id="Player-881"><a href="#Player-881"><span class="linenos">881</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Player-882"><a href="#Player-882"><span class="linenos">882</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player-883"><a href="#Player-883"><span class="linenos">883</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Player-884"><a href="#Player-884"><span class="linenos">884</span></a>        <span class="k">if</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_a</span><span class="p">]:</span>  <span class="c1">#  BOTN IZQUIERDA</span>
</span><span id="Player-885"><a href="#Player-885"><span class="linenos">885</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">speed</span>
</span><span id="Player-886"><a href="#Player-886"><span class="linenos">886</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Player-887"><a href="#Player-887"><span class="linenos">887</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player-888"><a href="#Player-888"><span class="linenos">888</span></a>        <span class="k">elif</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_d</span><span class="p">]:</span>  <span class="c1">#  BOTN DERECHA</span>
</span><span id="Player-889"><a href="#Player-889"><span class="linenos">889</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span>
</span><span id="Player-890"><a href="#Player-890"><span class="linenos">890</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player-891"><a href="#Player-891"><span class="linenos">891</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player-892"><a href="#Player-892"><span class="linenos">892</span></a>        <span class="k">if</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_w</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span><span class="p">:</span>  <span class="c1">#  BOTN SALTO</span>
</span><span id="Player-893"><a href="#Player-893"><span class="linenos">893</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">jump_strength</span>
</span><span id="Player-894"><a href="#Player-894"><span class="linenos">894</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Player-895"><a href="#Player-895"><span class="linenos">895</span></a>
</span><span id="Player-896"><a href="#Player-896"><span class="linenos">896</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">lose_life</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Player-897"><a href="#Player-897"><span class="linenos">897</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Resta una vida al jugador. Devuelve True si todava tiene vidas, False si perdi todas.&quot;&quot;&quot;</span>
</span><span id="Player-898"><a href="#Player-898"><span class="linenos">898</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Player-899"><a href="#Player-899"><span class="linenos">899</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="Player-900"><a href="#Player-900"><span class="linenos">900</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span><span id="Player-901"><a href="#Player-901"><span class="linenos">901</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="Player-902"><a href="#Player-902"><span class="linenos">902</span></a>
</span><span id="Player-903"><a href="#Player-903"><span class="linenos">903</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_articulos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">articulos_list</span><span class="p">):</span>
</span><span id="Player-904"><a href="#Player-904"><span class="linenos">904</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Agrega a la lista de artculos recolectados y a la mochila visual los objetos indicados.&quot;&quot;&quot;</span>
</span><span id="Player-905"><a href="#Player-905"><span class="linenos">905</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="n">articulos_list</span><span class="p">:</span>
</span><span id="Player-906"><a href="#Player-906"><span class="linenos">906</span></a>            <span class="k">if</span> <span class="n">articulo</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">:</span>
</span><span id="Player-907"><a href="#Player-907"><span class="linenos">907</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">articulos_collected</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">articulo</span><span class="p">)</span>
</span><span id="Player-908"><a href="#Player-908"><span class="linenos">908</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">agregar_illa</span><span class="p">(</span><span class="n">articulo</span><span class="p">)</span>  <span class="c1"># Agregar a la mochila visual</span>
</span><span id="Player-909"><a href="#Player-909"><span class="linenos">909</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Ekeko recolect: </span><span class="si">{</span><span class="n">articulo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Player-910"><a href="#Player-910"><span class="linenos">910</span></a>    
</span><span id="Player-911"><a href="#Player-911"><span class="linenos">911</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">check_collection_proximity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">articulos_list</span><span class="p">):</span>
</span><span id="Player-912"><a href="#Player-912"><span class="linenos">912</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Verificar si el jugador est cerca de alguna illa para recolectarla&quot;&quot;&quot;</span>
</span><span id="Player-913"><a href="#Player-913"><span class="linenos">913</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="n">articulos_list</span><span class="p">:</span>
</span><span id="Player-914"><a href="#Player-914"><span class="linenos">914</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="Player-915"><a href="#Player-915"><span class="linenos">915</span></a>                <span class="c1"># Calcular distancia entre el jugador y la illa</span>
</span><span id="Player-916"><a href="#Player-916"><span class="linenos">916</span></a>                <span class="n">distance</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> 
</span><span id="Player-917"><a href="#Player-917"><span class="linenos">917</span></a>                                  <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</span><span id="Player-918"><a href="#Player-918"><span class="linenos">918</span></a>                
</span><span id="Player-919"><a href="#Player-919"><span class="linenos">919</span></a>                <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collection_radius</span><span class="p">:</span>
</span><span id="Player-920"><a href="#Player-920"><span class="linenos">920</span></a>                    <span class="c1"># Recolectar la illa</span>
</span><span id="Player-921"><a href="#Player-921"><span class="linenos">921</span></a>                    <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player-922"><a href="#Player-922"><span class="linenos">922</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">collect_articulos</span><span class="p">([</span><span class="n">articulo</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
</span><span id="Player-923"><a href="#Player-923"><span class="linenos">923</span></a>                    <span class="k">return</span> <span class="kc">True</span>
</span><span id="Player-924"><a href="#Player-924"><span class="linenos">924</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="Player-925"><a href="#Player-925"><span class="linenos">925</span></a>
</span><span id="Player-926"><a href="#Player-926"><span class="linenos">926</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="Player-927"><a href="#Player-927"><span class="linenos">927</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibujar al jugador, su nombre y la mochila en la pantalla.&quot;&quot;&quot;</span>
</span><span id="Player-928"><a href="#Player-928"><span class="linenos">928</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span><span id="Player-929"><a href="#Player-929"><span class="linenos">929</span></a>        <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Ekeko&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="Player-930"><a href="#Player-930"><span class="linenos">930</span></a>        <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="mi">25</span><span class="p">))</span>
</span><span id="Player-931"><a href="#Player-931"><span class="linenos">931</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="Player-932"><a href="#Player-932"><span class="linenos">932</span></a>        
</span><span id="Player-933"><a href="#Player-933"><span class="linenos">933</span></a>        <span class="c1"># Dibujar la mochila</span>
</span><span id="Player-934"><a href="#Player-934"><span class="linenos">934</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Clase que representa al jugador Ekeko.</p>

<p>Atributos:
    x (int): Posicin inicial en X.
    y (int): Posicin inicial en Y.
    frames (list[pygame.Surface]): Frames de animacin del jugador.
    image (pygame.Surface): Frame actual a dibujar.
    rect (pygame.Rect): Rectngulo para posicin y colisiones.
    speed (int): Velocidad de movimiento horizontal.
    vel_x (float): Velocidad actual horizontal.
    vel_y (float): Velocidad actual vertical.
    on_ground (bool): True si el jugador est en el suelo.
    gravity (float): Fuerza de gravedad.
    jump_strength (float): Fuerza de salto.
    facing_right (bool): Direccin hacia la que mira el jugador.
    walking (bool): True si est caminando.
    frame_index (int): ndice del frame de animacin actual.
    animation_speed (float): Velocidad de animacin.
    animation_timer (float): Temporizador de animacin.
    lives (int): Vidas actuales.
    max_lives (int): Mximo de vidas.
    articulos_collected (list[str]): Lista de illas recolectadas.
    font (pygame.Font): Fuente para mostrar el nombre.
    collection_radius (int): Radio para recolectar illas cercanas.
    mochila (MochilaVisual): Objeto que maneja la mochila visual.</p>
</div>


                            <div id="Player.__init__" class="classattr">
                                        <input id="Player.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Player</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">x</span>, </span><span class="param"><span class="n">y</span>, </span><span class="param"><span class="n">gif_path</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">scale_factor</span><span class="o">=</span><span class="mf">1.0</span></span>)</span>

                <label class="view-source-button" for="Player.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Player.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Player.__init__-777"><a href="#Player.__init__-777"><span class="linenos">777</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">gif_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scale_factor</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
</span><span id="Player.__init__-778"><a href="#Player.__init__-778"><span class="linenos">778</span></a>
</span><span id="Player.__init__-779"><a href="#Player.__init__-779"><span class="linenos">779</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Player.__init__-780"><a href="#Player.__init__-780"><span class="linenos">780</span></a><span class="sd">        Inicializa al jugador Ekeko.</span>
</span><span id="Player.__init__-781"><a href="#Player.__init__-781"><span class="linenos">781</span></a><span class="sd">        </span>
</span><span id="Player.__init__-782"><a href="#Player.__init__-782"><span class="linenos">782</span></a><span class="sd">        Args:</span>
</span><span id="Player.__init__-783"><a href="#Player.__init__-783"><span class="linenos">783</span></a><span class="sd">            x (int): Posicin inicial horizontal.</span>
</span><span id="Player.__init__-784"><a href="#Player.__init__-784"><span class="linenos">784</span></a><span class="sd">            y (int): Posicin inicial vertical.</span>
</span><span id="Player.__init__-785"><a href="#Player.__init__-785"><span class="linenos">785</span></a><span class="sd">            gif_path (str, opcional): Ruta al GIF de animacin del jugador.</span>
</span><span id="Player.__init__-786"><a href="#Player.__init__-786"><span class="linenos">786</span></a><span class="sd">            scale_factor (float, opcional): Factor de escala de los sprites.</span>
</span><span id="Player.__init__-787"><a href="#Player.__init__-787"><span class="linenos">787</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Player.__init__-788"><a href="#Player.__init__-788"><span class="linenos">788</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">=</span> <span class="n">scale_factor</span>
</span><span id="Player.__init__-789"><a href="#Player.__init__-789"><span class="linenos">789</span></a>        <span class="k">if</span> <span class="n">gif_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">gif_path</span><span class="p">):</span>
</span><span id="Player.__init__-790"><a href="#Player.__init__-790"><span class="linenos">790</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="Player.__init__-791"><a href="#Player.__init__-791"><span class="linenos">791</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="Player.__init__-792"><a href="#Player.__init__-792"><span class="linenos">792</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">*</span><span class="n">scale_factor</span><span class="p">),</span>
</span><span id="Player.__init__-793"><a href="#Player.__init__-793"><span class="linenos">793</span></a>                                                          <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span><span class="o">*</span><span class="n">scale_factor</span><span class="p">)))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span><span id="Player.__init__-794"><a href="#Player.__init__-794"><span class="linenos">794</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Player.__init__-795"><a href="#Player.__init__-795"><span class="linenos">795</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[:]</span>
</span><span id="Player.__init__-796"><a href="#Player.__init__-796"><span class="linenos">796</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Player.__init__-797"><a href="#Player.__init__-797"><span class="linenos">797</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">create_placeholder</span><span class="p">()</span>
</span><span id="Player.__init__-798"><a href="#Player.__init__-798"><span class="linenos">798</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Player.__init__-799"><a href="#Player.__init__-799"><span class="linenos">799</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_placeholder</span><span class="p">()</span>
</span><span id="Player.__init__-800"><a href="#Player.__init__-800"><span class="linenos">800</span></a>
</span><span id="Player.__init__-801"><a href="#Player.__init__-801"><span class="linenos">801</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span><span id="Player.__init__-802"><a href="#Player.__init__-802"><span class="linenos">802</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
</span><span id="Player.__init__-803"><a href="#Player.__init__-803"><span class="linenos">803</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
</span><span id="Player.__init__-804"><a href="#Player.__init__-804"><span class="linenos">804</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="Player.__init__-805"><a href="#Player.__init__-805"><span class="linenos">805</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player.__init__-806"><a href="#Player.__init__-806"><span class="linenos">806</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player.__init__-807"><a href="#Player.__init__-807"><span class="linenos">807</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Player.__init__-808"><a href="#Player.__init__-808"><span class="linenos">808</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">gravity</span> <span class="o">=</span> <span class="mf">0.8</span>
</span><span id="Player.__init__-809"><a href="#Player.__init__-809"><span class="linenos">809</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">jump_strength</span> <span class="o">=</span> <span class="o">-</span><span class="mi">15</span>
</span><span id="Player.__init__-810"><a href="#Player.__init__-810"><span class="linenos">810</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player.__init__-811"><a href="#Player.__init__-811"><span class="linenos">811</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Player.__init__-812"><a href="#Player.__init__-812"><span class="linenos">812</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player.__init__-813"><a href="#Player.__init__-813"><span class="linenos">813</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.2</span>
</span><span id="Player.__init__-814"><a href="#Player.__init__-814"><span class="linenos">814</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player.__init__-815"><a href="#Player.__init__-815"><span class="linenos">815</span></a>        
</span><span id="Player.__init__-816"><a href="#Player.__init__-816"><span class="linenos">816</span></a>        <span class="c1"># Sistema de vidas</span>
</span><span id="Player.__init__-817"><a href="#Player.__init__-817"><span class="linenos">817</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="Player.__init__-818"><a href="#Player.__init__-818"><span class="linenos">818</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_lives</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="Player.__init__-819"><a href="#Player.__init__-819"><span class="linenos">819</span></a>        
</span><span id="Player.__init__-820"><a href="#Player.__init__-820"><span class="linenos">820</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">articulos_collected</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Player.__init__-821"><a href="#Player.__init__-821"><span class="linenos">821</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="Player.__init__-822"><a href="#Player.__init__-822"><span class="linenos">822</span></a>        
</span><span id="Player.__init__-823"><a href="#Player.__init__-823"><span class="linenos">823</span></a>        <span class="c1"># Sistema de recoleccin por proximidad</span>
</span><span id="Player.__init__-824"><a href="#Player.__init__-824"><span class="linenos">824</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">collection_radius</span> <span class="o">=</span> <span class="mi">60</span>  <span class="c1"># Radio para recolectar illas</span>
</span><span id="Player.__init__-825"><a href="#Player.__init__-825"><span class="linenos">825</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mochila</span> <span class="o">=</span> <span class="n">MochilaVisual</span><span class="p">()</span>  <span class="c1"># Mochila visual</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa al jugador Ekeko.</p>

<p>Args:
    x (int): Posicin inicial horizontal.
    y (int): Posicin inicial vertical.
    gif_path (str, opcional): Ruta al GIF de animacin del jugador.
    scale_factor (float, opcional): Factor de escala de los sprites.</p>
</div>


                            </div>
                            <div id="Player.scale_factor" class="classattr">
                                <div class="attr variable">
            <span class="name">scale_factor</span>

        
    </div>
    <a class="headerlink" href="#Player.scale_factor"></a>
    
    

                            </div>
                            <div id="Player.rect" class="classattr">
                                <div class="attr variable">
            <span class="name">rect</span>

        
    </div>
    <a class="headerlink" href="#Player.rect"></a>
    
    

                            </div>
                            <div id="Player.speed" class="classattr">
                                <div class="attr variable">
            <span class="name">speed</span>

        
    </div>
    <a class="headerlink" href="#Player.speed"></a>
    
    

                            </div>
                            <div id="Player.vel_x" class="classattr">
                                <div class="attr variable">
            <span class="name">vel_x</span>

        
    </div>
    <a class="headerlink" href="#Player.vel_x"></a>
    
    

                            </div>
                            <div id="Player.vel_y" class="classattr">
                                <div class="attr variable">
            <span class="name">vel_y</span>

        
    </div>
    <a class="headerlink" href="#Player.vel_y"></a>
    
    

                            </div>
                            <div id="Player.on_ground" class="classattr">
                                <div class="attr variable">
            <span class="name">on_ground</span>

        
    </div>
    <a class="headerlink" href="#Player.on_ground"></a>
    
    

                            </div>
                            <div id="Player.gravity" class="classattr">
                                <div class="attr variable">
            <span class="name">gravity</span>

        
    </div>
    <a class="headerlink" href="#Player.gravity"></a>
    
    

                            </div>
                            <div id="Player.jump_strength" class="classattr">
                                <div class="attr variable">
            <span class="name">jump_strength</span>

        
    </div>
    <a class="headerlink" href="#Player.jump_strength"></a>
    
    

                            </div>
                            <div id="Player.facing_right" class="classattr">
                                <div class="attr variable">
            <span class="name">facing_right</span>

        
    </div>
    <a class="headerlink" href="#Player.facing_right"></a>
    
    

                            </div>
                            <div id="Player.walking" class="classattr">
                                <div class="attr variable">
            <span class="name">walking</span>

        
    </div>
    <a class="headerlink" href="#Player.walking"></a>
    
    

                            </div>
                            <div id="Player.frame_index" class="classattr">
                                <div class="attr variable">
            <span class="name">frame_index</span>

        
    </div>
    <a class="headerlink" href="#Player.frame_index"></a>
    
    

                            </div>
                            <div id="Player.animation_speed" class="classattr">
                                <div class="attr variable">
            <span class="name">animation_speed</span>

        
    </div>
    <a class="headerlink" href="#Player.animation_speed"></a>
    
    

                            </div>
                            <div id="Player.animation_timer" class="classattr">
                                <div class="attr variable">
            <span class="name">animation_timer</span>

        
    </div>
    <a class="headerlink" href="#Player.animation_timer"></a>
    
    

                            </div>
                            <div id="Player.lives" class="classattr">
                                <div class="attr variable">
            <span class="name">lives</span>

        
    </div>
    <a class="headerlink" href="#Player.lives"></a>
    
    

                            </div>
                            <div id="Player.max_lives" class="classattr">
                                <div class="attr variable">
            <span class="name">max_lives</span>

        
    </div>
    <a class="headerlink" href="#Player.max_lives"></a>
    
    

                            </div>
                            <div id="Player.articulos_collected" class="classattr">
                                <div class="attr variable">
            <span class="name">articulos_collected</span>

        
    </div>
    <a class="headerlink" href="#Player.articulos_collected"></a>
    
    

                            </div>
                            <div id="Player.font" class="classattr">
                                <div class="attr variable">
            <span class="name">font</span>

        
    </div>
    <a class="headerlink" href="#Player.font"></a>
    
    

                            </div>
                            <div id="Player.collection_radius" class="classattr">
                                <div class="attr variable">
            <span class="name">collection_radius</span>

        
    </div>
    <a class="headerlink" href="#Player.collection_radius"></a>
    
    

                            </div>
                            <div id="Player.mochila" class="classattr">
                                <div class="attr variable">
            <span class="name">mochila</span>

        
    </div>
    <a class="headerlink" href="#Player.mochila"></a>
    
    

                            </div>
                            <div id="Player.create_placeholder" class="classattr">
                                        <input id="Player.create_placeholder-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_placeholder</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Player.create_placeholder-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Player.create_placeholder"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Player.create_placeholder-827"><a href="#Player.create_placeholder-827"><span class="linenos">827</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_placeholder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Player.create_placeholder-828"><a href="#Player.create_placeholder-828"><span class="linenos">828</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Crea frames provisionales del jugador en colores slidos si no hay GIF disponible.&quot;&quot;&quot;</span>
</span><span id="Player.create_placeholder-829"><a href="#Player.create_placeholder-829"><span class="linenos">829</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Player.create_placeholder-830"><a href="#Player.create_placeholder-830"><span class="linenos">830</span></a>        <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">40</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">)</span>
</span><span id="Player.create_placeholder-831"><a href="#Player.create_placeholder-831"><span class="linenos">831</span></a>        <span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">60</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">)</span>
</span><span id="Player.create_placeholder-832"><a href="#Player.create_placeholder-832"><span class="linenos">832</span></a>        <span class="n">colors</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">)]</span>
</span><span id="Player.create_placeholder-833"><a href="#Player.create_placeholder-833"><span class="linenos">833</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
</span><span id="Player.create_placeholder-834"><a href="#Player.create_placeholder-834"><span class="linenos">834</span></a>            <span class="n">frame</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
</span><span id="Player.create_placeholder-835"><a href="#Player.create_placeholder-835"><span class="linenos">835</span></a>            <span class="n">frame</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</span><span id="Player.create_placeholder-836"><a href="#Player.create_placeholder-836"><span class="linenos">836</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</span><span id="Player.create_placeholder-837"><a href="#Player.create_placeholder-837"><span class="linenos">837</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Player.create_placeholder-838"><a href="#Player.create_placeholder-838"><span class="linenos">838</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[:]</span>
</span></pre></div>


            <div class="docstring"><p>Crea frames provisionales del jugador en colores slidos si no hay GIF disponible.</p>
</div>


                            </div>
                            <div id="Player.update" class="classattr">
                                        <input id="Player.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Player.update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Player.update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Player.update-840"><a href="#Player.update-840"><span class="linenos">840</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Player.update-841"><a href="#Player.update-841"><span class="linenos">841</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la posicin, fsicas (gravedad y suelo) y la animacin del jugador.&quot;&quot;&quot;</span>
</span><span id="Player.update-842"><a href="#Player.update-842"><span class="linenos">842</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span><span class="p">:</span>
</span><span id="Player.update-843"><a href="#Player.update-843"><span class="linenos">843</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gravity</span>
</span><span id="Player.update-844"><a href="#Player.update-844"><span class="linenos">844</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span>
</span><span id="Player.update-845"><a href="#Player.update-845"><span class="linenos">845</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span>
</span><span id="Player.update-846"><a href="#Player.update-846"><span class="linenos">846</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Player.update-847"><a href="#Player.update-847"><span class="linenos">847</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player.update-848"><a href="#Player.update-848"><span class="linenos">848</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">SCREEN_WIDTH</span><span class="p">:</span>
</span><span id="Player.update-849"><a href="#Player.update-849"><span class="linenos">849</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">SCREEN_WIDTH</span>
</span><span id="Player.update-850"><a href="#Player.update-850"><span class="linenos">850</span></a>        <span class="n">ground_level</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">150</span>
</span><span id="Player.update-851"><a href="#Player.update-851"><span class="linenos">851</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;=</span> <span class="n">ground_level</span><span class="p">:</span>
</span><span id="Player.update-852"><a href="#Player.update-852"><span class="linenos">852</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">ground_level</span>
</span><span id="Player.update-853"><a href="#Player.update-853"><span class="linenos">853</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player.update-854"><a href="#Player.update-854"><span class="linenos">854</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player.update-855"><a href="#Player.update-855"><span class="linenos">855</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Player.update-856"><a href="#Player.update-856"><span class="linenos">856</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Player.update-857"><a href="#Player.update-857"><span class="linenos">857</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_animation</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza la posicin, fsicas (gravedad y suelo) y la animacin del jugador.</p>
</div>


                            </div>
                            <div id="Player.update_animation" class="classattr">
                                        <input id="Player.update_animation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_animation</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Player.update_animation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Player.update_animation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Player.update_animation-859"><a href="#Player.update_animation-859"><span class="linenos">859</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_animation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Player.update_animation-860"><a href="#Player.update_animation-860"><span class="linenos">860</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza el frame actual segn la animacin y direccin del jugador.&quot;&quot;&quot;</span>
</span><span id="Player.update_animation-861"><a href="#Player.update_animation-861"><span class="linenos">861</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span><span class="p">:</span>
</span><span id="Player.update_animation-862"><a href="#Player.update_animation-862"><span class="linenos">862</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="Player.update_animation-863"><a href="#Player.update_animation-863"><span class="linenos">863</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Player.update_animation-864"><a href="#Player.update_animation-864"><span class="linenos">864</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player.update_animation-865"><a href="#Player.update_animation-865"><span class="linenos">865</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
</span><span id="Player.update_animation-866"><a href="#Player.update_animation-866"><span class="linenos">866</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span><span class="p">:</span>
</span><span id="Player.update_animation-867"><a href="#Player.update_animation-867"><span class="linenos">867</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span><span class="p">],</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="Player.update_animation-868"><a href="#Player.update_animation-868"><span class="linenos">868</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Player.update_animation-869"><a href="#Player.update_animation-869"><span class="linenos">869</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span><span class="p">]</span>
</span><span id="Player.update_animation-870"><a href="#Player.update_animation-870"><span class="linenos">870</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Player.update_animation-871"><a href="#Player.update_animation-871"><span class="linenos">871</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza el frame actual segn la animacin y direccin del jugador.</p>
</div>


                            </div>
                            <div id="Player.handle_input" class="classattr">
                                        <input id="Player.handle_input-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">handle_input</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">keys</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Player.handle_input-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Player.handle_input"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Player.handle_input-873"><a href="#Player.handle_input-873"><span class="linenos">873</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
</span><span id="Player.handle_input-874"><a href="#Player.handle_input-874"><span class="linenos">874</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot; BOTONES PARA MOVER AL PERSONAJE EKEKO:</span>
</span><span id="Player.handle_input-875"><a href="#Player.handle_input-875"><span class="linenos">875</span></a><span class="sd">        - A: Mover hacia la izquierda</span>
</span><span id="Player.handle_input-876"><a href="#Player.handle_input-876"><span class="linenos">876</span></a><span class="sd">        - D: Mover hacia la derecha</span>
</span><span id="Player.handle_input-877"><a href="#Player.handle_input-877"><span class="linenos">877</span></a><span class="sd">        - W: Saltar</span>
</span><span id="Player.handle_input-878"><a href="#Player.handle_input-878"><span class="linenos">878</span></a><span class="sd">        - J: Ver/Ocultar mochila (manejado en GameManager)</span>
</span><span id="Player.handle_input-879"><a href="#Player.handle_input-879"><span class="linenos">879</span></a><span class="sd">        - : Navegar en preguntas (en QuestionScreen)</span>
</span><span id="Player.handle_input-880"><a href="#Player.handle_input-880"><span class="linenos">880</span></a><span class="sd">        - ENTER: Confirmar respuesta (en QuestionScreen)</span>
</span><span id="Player.handle_input-881"><a href="#Player.handle_input-881"><span class="linenos">881</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Player.handle_input-882"><a href="#Player.handle_input-882"><span class="linenos">882</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Player.handle_input-883"><a href="#Player.handle_input-883"><span class="linenos">883</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Player.handle_input-884"><a href="#Player.handle_input-884"><span class="linenos">884</span></a>        <span class="k">if</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_a</span><span class="p">]:</span>  <span class="c1">#  BOTN IZQUIERDA</span>
</span><span id="Player.handle_input-885"><a href="#Player.handle_input-885"><span class="linenos">885</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">speed</span>
</span><span id="Player.handle_input-886"><a href="#Player.handle_input-886"><span class="linenos">886</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Player.handle_input-887"><a href="#Player.handle_input-887"><span class="linenos">887</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player.handle_input-888"><a href="#Player.handle_input-888"><span class="linenos">888</span></a>        <span class="k">elif</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_d</span><span class="p">]:</span>  <span class="c1">#  BOTN DERECHA</span>
</span><span id="Player.handle_input-889"><a href="#Player.handle_input-889"><span class="linenos">889</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span>
</span><span id="Player.handle_input-890"><a href="#Player.handle_input-890"><span class="linenos">890</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">facing_right</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player.handle_input-891"><a href="#Player.handle_input-891"><span class="linenos">891</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">walking</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player.handle_input-892"><a href="#Player.handle_input-892"><span class="linenos">892</span></a>        <span class="k">if</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_w</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span><span class="p">:</span>  <span class="c1">#  BOTN SALTO</span>
</span><span id="Player.handle_input-893"><a href="#Player.handle_input-893"><span class="linenos">893</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vel_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">jump_strength</span>
</span><span id="Player.handle_input-894"><a href="#Player.handle_input-894"><span class="linenos">894</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_ground</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p> BOTONES PARA MOVER AL PERSONAJE EKEKO:</p>

<ul>
<li>A: Mover hacia la izquierda</li>
<li>D: Mover hacia la derecha</li>
<li>W: Saltar</li>
<li>J: Ver/Ocultar mochila (manejado en GameManager)</li>
<li>: Navegar en preguntas (en QuestionScreen)</li>
<li>ENTER: Confirmar respuesta (en QuestionScreen)</li>
</ul>
</div>


                            </div>
                            <div id="Player.lose_life" class="classattr">
                                        <input id="Player.lose_life-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">lose_life</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Player.lose_life-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Player.lose_life"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Player.lose_life-896"><a href="#Player.lose_life-896"><span class="linenos">896</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">lose_life</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Player.lose_life-897"><a href="#Player.lose_life-897"><span class="linenos">897</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Resta una vida al jugador. Devuelve True si todava tiene vidas, False si perdi todas.&quot;&quot;&quot;</span>
</span><span id="Player.lose_life-898"><a href="#Player.lose_life-898"><span class="linenos">898</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Player.lose_life-899"><a href="#Player.lose_life-899"><span class="linenos">899</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="Player.lose_life-900"><a href="#Player.lose_life-900"><span class="linenos">900</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lives</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span><span id="Player.lose_life-901"><a href="#Player.lose_life-901"><span class="linenos">901</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Resta una vida al jugador. Devuelve True si todava tiene vidas, False si perdi todas.</p>
</div>


                            </div>
                            <div id="Player.collect_articulos" class="classattr">
                                        <input id="Player.collect_articulos-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">collect_articulos</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">articulos_list</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Player.collect_articulos-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Player.collect_articulos"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Player.collect_articulos-903"><a href="#Player.collect_articulos-903"><span class="linenos">903</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_articulos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">articulos_list</span><span class="p">):</span>
</span><span id="Player.collect_articulos-904"><a href="#Player.collect_articulos-904"><span class="linenos">904</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Agrega a la lista de artculos recolectados y a la mochila visual los objetos indicados.&quot;&quot;&quot;</span>
</span><span id="Player.collect_articulos-905"><a href="#Player.collect_articulos-905"><span class="linenos">905</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="n">articulos_list</span><span class="p">:</span>
</span><span id="Player.collect_articulos-906"><a href="#Player.collect_articulos-906"><span class="linenos">906</span></a>            <span class="k">if</span> <span class="n">articulo</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">:</span>
</span><span id="Player.collect_articulos-907"><a href="#Player.collect_articulos-907"><span class="linenos">907</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">articulos_collected</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">articulo</span><span class="p">)</span>
</span><span id="Player.collect_articulos-908"><a href="#Player.collect_articulos-908"><span class="linenos">908</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">agregar_illa</span><span class="p">(</span><span class="n">articulo</span><span class="p">)</span>  <span class="c1"># Agregar a la mochila visual</span>
</span><span id="Player.collect_articulos-909"><a href="#Player.collect_articulos-909"><span class="linenos">909</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Ekeko recolect: </span><span class="si">{</span><span class="n">articulo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Agrega a la lista de artculos recolectados y a la mochila visual los objetos indicados.</p>
</div>


                            </div>
                            <div id="Player.check_collection_proximity" class="classattr">
                                        <input id="Player.check_collection_proximity-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">check_collection_proximity</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">articulos_list</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Player.check_collection_proximity-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Player.check_collection_proximity"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Player.check_collection_proximity-911"><a href="#Player.check_collection_proximity-911"><span class="linenos">911</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">check_collection_proximity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">articulos_list</span><span class="p">):</span>
</span><span id="Player.check_collection_proximity-912"><a href="#Player.check_collection_proximity-912"><span class="linenos">912</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Verificar si el jugador est cerca de alguna illa para recolectarla&quot;&quot;&quot;</span>
</span><span id="Player.check_collection_proximity-913"><a href="#Player.check_collection_proximity-913"><span class="linenos">913</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="n">articulos_list</span><span class="p">:</span>
</span><span id="Player.check_collection_proximity-914"><a href="#Player.check_collection_proximity-914"><span class="linenos">914</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="Player.check_collection_proximity-915"><a href="#Player.check_collection_proximity-915"><span class="linenos">915</span></a>                <span class="c1"># Calcular distancia entre el jugador y la illa</span>
</span><span id="Player.check_collection_proximity-916"><a href="#Player.check_collection_proximity-916"><span class="linenos">916</span></a>                <span class="n">distance</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> 
</span><span id="Player.check_collection_proximity-917"><a href="#Player.check_collection_proximity-917"><span class="linenos">917</span></a>                                  <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</span><span id="Player.check_collection_proximity-918"><a href="#Player.check_collection_proximity-918"><span class="linenos">918</span></a>                
</span><span id="Player.check_collection_proximity-919"><a href="#Player.check_collection_proximity-919"><span class="linenos">919</span></a>                <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collection_radius</span><span class="p">:</span>
</span><span id="Player.check_collection_proximity-920"><a href="#Player.check_collection_proximity-920"><span class="linenos">920</span></a>                    <span class="c1"># Recolectar la illa</span>
</span><span id="Player.check_collection_proximity-921"><a href="#Player.check_collection_proximity-921"><span class="linenos">921</span></a>                    <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Player.check_collection_proximity-922"><a href="#Player.check_collection_proximity-922"><span class="linenos">922</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">collect_articulos</span><span class="p">([</span><span class="n">articulo</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
</span><span id="Player.check_collection_proximity-923"><a href="#Player.check_collection_proximity-923"><span class="linenos">923</span></a>                    <span class="k">return</span> <span class="kc">True</span>
</span><span id="Player.check_collection_proximity-924"><a href="#Player.check_collection_proximity-924"><span class="linenos">924</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Verificar si el jugador est cerca de alguna illa para recolectarla</p>
</div>


                            </div>
                            <div id="Player.draw" class="classattr">
                                        <input id="Player.draw-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">draw</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">screen</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Player.draw-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Player.draw"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Player.draw-926"><a href="#Player.draw-926"><span class="linenos">926</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="Player.draw-927"><a href="#Player.draw-927"><span class="linenos">927</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibujar al jugador, su nombre y la mochila en la pantalla.&quot;&quot;&quot;</span>
</span><span id="Player.draw-928"><a href="#Player.draw-928"><span class="linenos">928</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span><span id="Player.draw-929"><a href="#Player.draw-929"><span class="linenos">929</span></a>        <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Ekeko&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="Player.draw-930"><a href="#Player.draw-930"><span class="linenos">930</span></a>        <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="mi">25</span><span class="p">))</span>
</span><span id="Player.draw-931"><a href="#Player.draw-931"><span class="linenos">931</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="Player.draw-932"><a href="#Player.draw-932"><span class="linenos">932</span></a>        
</span><span id="Player.draw-933"><a href="#Player.draw-933"><span class="linenos">933</span></a>        <span class="c1"># Dibujar la mochila</span>
</span><span id="Player.draw-934"><a href="#Player.draw-934"><span class="linenos">934</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dibujar al jugador, su nombre y la mochila en la pantalla.</p>
</div>


                            </div>
                </section>
                <section id="Apu">
                            <input id="Apu-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Apu</span>:

                <label class="view-source-button" for="Apu-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Apu"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Apu-937"><a href="#Apu-937"><span class="linenos"> 937</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Apu</span><span class="p">:</span>
</span><span id="Apu-938"><a href="#Apu-938"><span class="linenos"> 938</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase que representa a un Apu en el juego.&quot;&quot;&quot;</span>
</span><span id="Apu-939"><a href="#Apu-939"><span class="linenos"> 939</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">arbol_apus</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Apu-940"><a href="#Apu-940"><span class="linenos"> 940</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Apu-941"><a href="#Apu-941"><span class="linenos"> 941</span></a><span class="sd">        Inicializa un Apu en el juego.</span>
</span><span id="Apu-942"><a href="#Apu-942"><span class="linenos"> 942</span></a>
</span><span id="Apu-943"><a href="#Apu-943"><span class="linenos"> 943</span></a><span class="sd">        Args:</span>
</span><span id="Apu-944"><a href="#Apu-944"><span class="linenos"> 944</span></a><span class="sd">            name (str): Nombre del Apu.</span>
</span><span id="Apu-945"><a href="#Apu-945"><span class="linenos"> 945</span></a><span class="sd">            x (int): Posicin horizontal inicial.</span>
</span><span id="Apu-946"><a href="#Apu-946"><span class="linenos"> 946</span></a><span class="sd">            y (int): Posicin vertical inicial.</span>
</span><span id="Apu-947"><a href="#Apu-947"><span class="linenos"> 947</span></a><span class="sd">            scene_number (int, opcional): Nmero de la escena donde aparece.</span>
</span><span id="Apu-948"><a href="#Apu-948"><span class="linenos"> 948</span></a><span class="sd">            arbol_apus (ArbolApus, opcional): rbol binario para obtener los datos del Apu.</span>
</span><span id="Apu-949"><a href="#Apu-949"><span class="linenos"> 949</span></a>
</span><span id="Apu-950"><a href="#Apu-950"><span class="linenos"> 950</span></a><span class="sd">        Atributos:</span>
</span><span id="Apu-951"><a href="#Apu-951"><span class="linenos"> 951</span></a><span class="sd">            data (dict): Datos del Apu (color, health, bioma, gif).</span>
</span><span id="Apu-952"><a href="#Apu-952"><span class="linenos"> 952</span></a><span class="sd">            size (int): Tamao del Apu en pxeles.</span>
</span><span id="Apu-953"><a href="#Apu-953"><span class="linenos"> 953</span></a><span class="sd">            health (int): Vida actual del Apu.</span>
</span><span id="Apu-954"><a href="#Apu-954"><span class="linenos"> 954</span></a><span class="sd">            max_health (int): Vida mxima.</span>
</span><span id="Apu-955"><a href="#Apu-955"><span class="linenos"> 955</span></a><span class="sd">            frames (list[pygame.Surface]): Frames de animacin del Apu.</span>
</span><span id="Apu-956"><a href="#Apu-956"><span class="linenos"> 956</span></a><span class="sd">            image (pygame.Surface): Frame actual a mostrar.</span>
</span><span id="Apu-957"><a href="#Apu-957"><span class="linenos"> 957</span></a><span class="sd">            rect (pygame.Rect): Rectngulo de colisin del Apu.</span>
</span><span id="Apu-958"><a href="#Apu-958"><span class="linenos"> 958</span></a><span class="sd">            font (pygame.font.Font): Fuente para mostrar el nombre.</span>
</span><span id="Apu-959"><a href="#Apu-959"><span class="linenos"> 959</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Apu-960"><a href="#Apu-960"><span class="linenos"> 960</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Apu-961"><a href="#Apu-961"><span class="linenos"> 961</span></a>        <span class="c1"># Usar el rbol binario para obtener los datos del Apu</span>
</span><span id="Apu-962"><a href="#Apu-962"><span class="linenos"> 962</span></a>        <span class="k">if</span> <span class="n">arbol_apus</span><span class="p">:</span>
</span><span id="Apu-963"><a href="#Apu-963"><span class="linenos"> 963</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">arbol_apus</span><span class="o">.</span><span class="n">obtener_datos_apu</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="Apu-964"><a href="#Apu-964"><span class="linenos"> 964</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
</span><span id="Apu-965"><a href="#Apu-965"><span class="linenos"> 965</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: No se encontr el Apu </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> en el rbol&quot;</span><span class="p">)</span>
</span><span id="Apu-966"><a href="#Apu-966"><span class="linenos"> 966</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">),</span> <span class="s2">&quot;health&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">&quot;bioma&quot;</span><span class="p">:</span> <span class="s2">&quot;Desconocido&quot;</span><span class="p">,</span> <span class="s2">&quot;gif&quot;</span><span class="p">:</span> <span class="s2">&quot;coropuna.gif&quot;</span><span class="p">}</span>
</span><span id="Apu-967"><a href="#Apu-967"><span class="linenos"> 967</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Apu-968"><a href="#Apu-968"><span class="linenos"> 968</span></a>            <span class="c1"># Fallback a APUS_DATA si no se proporciona el rbol</span>
</span><span id="Apu-969"><a href="#Apu-969"><span class="linenos"> 969</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">APUS_DATA</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="Apu-970"><a href="#Apu-970"><span class="linenos"> 970</span></a>        <span class="c1"># Tamao de Apu: doble del tamao de Ekeko</span>
</span><span id="Apu-971"><a href="#Apu-971"><span class="linenos"> 971</span></a>        <span class="c1"># Ekeko tiene scale_factor=0.1, as que su tamao base es 40*0.1 = 4, altura 60*0.1 = 6</span>
</span><span id="Apu-972"><a href="#Apu-972"><span class="linenos"> 972</span></a>        <span class="c1"># Apu ser el doble: 80x120</span>
</span><span id="Apu-973"><a href="#Apu-973"><span class="linenos"> 973</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">160</span>  <span class="c1"># Doble del tamao original (80 -&gt; 160)</span>
</span><span id="Apu-974"><a href="#Apu-974"><span class="linenos"> 974</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">health</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;health&quot;</span><span class="p">]</span>
</span><span id="Apu-975"><a href="#Apu-975"><span class="linenos"> 975</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_health</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;health&quot;</span><span class="p">]</span>
</span><span id="Apu-976"><a href="#Apu-976"><span class="linenos"> 976</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">=</span> <span class="n">scene_number</span>
</span><span id="Apu-977"><a href="#Apu-977"><span class="linenos"> 977</span></a>
</span><span id="Apu-978"><a href="#Apu-978"><span class="linenos"> 978</span></a>        <span class="n">apu_gif_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;apus/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;gif&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Apu-979"><a href="#Apu-979"><span class="linenos"> 979</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Apu-980"><a href="#Apu-980"><span class="linenos"> 980</span></a>        <span class="k">if</span> <span class="n">apu_gif_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">apu_gif_path</span><span class="p">):</span>
</span><span id="Apu-981"><a href="#Apu-981"><span class="linenos"> 981</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">apu_gif_path</span><span class="p">)</span>
</span><span id="Apu-982"><a href="#Apu-982"><span class="linenos"> 982</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="Apu-983"><a href="#Apu-983"><span class="linenos"> 983</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span><span id="Apu-984"><a href="#Apu-984"><span class="linenos"> 984</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Apu-985"><a href="#Apu-985"><span class="linenos"> 985</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[:]</span>
</span><span id="Apu-986"><a href="#Apu-986"><span class="linenos"> 986</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Apu-987"><a href="#Apu-987"><span class="linenos"> 987</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
</span><span id="Apu-988"><a href="#Apu-988"><span class="linenos"> 988</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">])</span>
</span><span id="Apu-989"><a href="#Apu-989"><span class="linenos"> 989</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">]</span>
</span><span id="Apu-990"><a href="#Apu-990"><span class="linenos"> 990</span></a>
</span><span id="Apu-991"><a href="#Apu-991"><span class="linenos"> 991</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span><span id="Apu-992"><a href="#Apu-992"><span class="linenos"> 992</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
</span><span id="Apu-993"><a href="#Apu-993"><span class="linenos"> 993</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
</span><span id="Apu-994"><a href="#Apu-994"><span class="linenos"> 994</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Apu-995"><a href="#Apu-995"><span class="linenos"> 995</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Apu-996"><a href="#Apu-996"><span class="linenos"> 996</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.15</span>
</span><span id="Apu-997"><a href="#Apu-997"><span class="linenos"> 997</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="Apu-998"><a href="#Apu-998"><span class="linenos"> 998</span></a>
</span><span id="Apu-999"><a href="#Apu-999"><span class="linenos"> 999</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Apu-1000"><a href="#Apu-1000"><span class="linenos">1000</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Apu-1001"><a href="#Apu-1001"><span class="linenos">1001</span></a><span class="sd">        Actualiza la animacin del Apu.</span>
</span><span id="Apu-1002"><a href="#Apu-1002"><span class="linenos">1002</span></a><span class="sd">        Cambia el frame segn el timer de animacin.</span>
</span><span id="Apu-1003"><a href="#Apu-1003"><span class="linenos">1003</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Apu-1004"><a href="#Apu-1004"><span class="linenos">1004</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="Apu-1005"><a href="#Apu-1005"><span class="linenos">1005</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Apu-1006"><a href="#Apu-1006"><span class="linenos">1006</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Apu-1007"><a href="#Apu-1007"><span class="linenos">1007</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">)</span>
</span><span id="Apu-1008"><a href="#Apu-1008"><span class="linenos">1008</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span><span class="p">]</span>
</span><span id="Apu-1009"><a href="#Apu-1009"><span class="linenos">1009</span></a>
</span><span id="Apu-1010"><a href="#Apu-1010"><span class="linenos">1010</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="Apu-1011"><a href="#Apu-1011"><span class="linenos">1011</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Apu-1012"><a href="#Apu-1012"><span class="linenos">1012</span></a><span class="sd">        Dibuja al Apu en pantalla junto con su nombre.</span>
</span><span id="Apu-1013"><a href="#Apu-1013"><span class="linenos">1013</span></a>
</span><span id="Apu-1014"><a href="#Apu-1014"><span class="linenos">1014</span></a><span class="sd">        Args:</span>
</span><span id="Apu-1015"><a href="#Apu-1015"><span class="linenos">1015</span></a><span class="sd">            screen (pygame.Surface): Pantalla donde dibujar.</span>
</span><span id="Apu-1016"><a href="#Apu-1016"><span class="linenos">1016</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Apu-1017"><a href="#Apu-1017"><span class="linenos">1017</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span><span id="Apu-1018"><a href="#Apu-1018"><span class="linenos">1018</span></a>        <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Apu </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="Apu-1019"><a href="#Apu-1019"><span class="linenos">1019</span></a>        <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="mi">25</span><span class="p">))</span>
</span><span id="Apu-1020"><a href="#Apu-1020"><span class="linenos">1020</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="Apu-1021"><a href="#Apu-1021"><span class="linenos">1021</span></a>
</span><span id="Apu-1022"><a href="#Apu-1022"><span class="linenos">1022</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">give_illas_to_player</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">):</span>
</span><span id="Apu-1023"><a href="#Apu-1023"><span class="linenos">1023</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;El Apu entrega las illas robadas al Ekeko</span>
</span><span id="Apu-1024"><a href="#Apu-1024"><span class="linenos">1024</span></a><span class="sd">        </span>
</span><span id="Apu-1025"><a href="#Apu-1025"><span class="linenos">1025</span></a><span class="sd">        Args:</span>
</span><span id="Apu-1026"><a href="#Apu-1026"><span class="linenos">1026</span></a><span class="sd">            player (Player): Instancia del jugador.</span>
</span><span id="Apu-1027"><a href="#Apu-1027"><span class="linenos">1027</span></a><span class="sd">            scene_number (int): Escena actual para obtener las illas.</span>
</span><span id="Apu-1028"><a href="#Apu-1028"><span class="linenos">1028</span></a>
</span><span id="Apu-1029"><a href="#Apu-1029"><span class="linenos">1029</span></a><span class="sd">        Returns:</span>
</span><span id="Apu-1030"><a href="#Apu-1030"><span class="linenos">1030</span></a><span class="sd">            list[str]: Lista de illas entregadas.</span>
</span><span id="Apu-1031"><a href="#Apu-1031"><span class="linenos">1031</span></a><span class="sd">            &quot;&quot;&quot;</span>
</span><span id="Apu-1032"><a href="#Apu-1032"><span class="linenos">1032</span></a>        <span class="n">illas</span> <span class="o">=</span> <span class="n">ILLAS_ROBADAS_POR_ESCENA</span><span class="p">[</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="Apu-1033"><a href="#Apu-1033"><span class="linenos">1033</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; Apu </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> te entrega las illas sagradas: &quot;</span>
</span><span id="Apu-1034"><a href="#Apu-1034"><span class="linenos">1034</span></a>        
</span><span id="Apu-1035"><a href="#Apu-1035"><span class="linenos">1035</span></a>        <span class="k">for</span> <span class="n">illa</span> <span class="ow">in</span> <span class="n">illas</span><span class="p">:</span>
</span><span id="Apu-1036"><a href="#Apu-1036"><span class="linenos">1036</span></a>            <span class="n">player</span><span class="o">.</span><span class="n">collect_articulos</span><span class="p">([</span><span class="n">illa</span><span class="p">])</span>
</span><span id="Apu-1037"><a href="#Apu-1037"><span class="linenos">1037</span></a>            <span class="n">message</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">illa</span><span class="si">}</span><span class="s2">, &quot;</span>
</span><span id="Apu-1038"><a href="#Apu-1038"><span class="linenos">1038</span></a>        
</span><span id="Apu-1039"><a href="#Apu-1039"><span class="linenos">1039</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; Gurdalas en tu bolsillo!&quot;</span>
</span><span id="Apu-1040"><a href="#Apu-1040"><span class="linenos">1040</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="Apu-1041"><a href="#Apu-1041"><span class="linenos">1041</span></a>        <span class="k">return</span> <span class="n">illas</span>
</span></pre></div>


            <div class="docstring"><p>Clase que representa a un Apu en el juego.</p>
</div>


                            <div id="Apu.__init__" class="classattr">
                                        <input id="Apu.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Apu</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">x</span>, </span><span class="param"><span class="n">y</span>, </span><span class="param"><span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">arbol_apus</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="Apu.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Apu.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Apu.__init__-939"><a href="#Apu.__init__-939"><span class="linenos">939</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">arbol_apus</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Apu.__init__-940"><a href="#Apu.__init__-940"><span class="linenos">940</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Apu.__init__-941"><a href="#Apu.__init__-941"><span class="linenos">941</span></a><span class="sd">        Inicializa un Apu en el juego.</span>
</span><span id="Apu.__init__-942"><a href="#Apu.__init__-942"><span class="linenos">942</span></a>
</span><span id="Apu.__init__-943"><a href="#Apu.__init__-943"><span class="linenos">943</span></a><span class="sd">        Args:</span>
</span><span id="Apu.__init__-944"><a href="#Apu.__init__-944"><span class="linenos">944</span></a><span class="sd">            name (str): Nombre del Apu.</span>
</span><span id="Apu.__init__-945"><a href="#Apu.__init__-945"><span class="linenos">945</span></a><span class="sd">            x (int): Posicin horizontal inicial.</span>
</span><span id="Apu.__init__-946"><a href="#Apu.__init__-946"><span class="linenos">946</span></a><span class="sd">            y (int): Posicin vertical inicial.</span>
</span><span id="Apu.__init__-947"><a href="#Apu.__init__-947"><span class="linenos">947</span></a><span class="sd">            scene_number (int, opcional): Nmero de la escena donde aparece.</span>
</span><span id="Apu.__init__-948"><a href="#Apu.__init__-948"><span class="linenos">948</span></a><span class="sd">            arbol_apus (ArbolApus, opcional): rbol binario para obtener los datos del Apu.</span>
</span><span id="Apu.__init__-949"><a href="#Apu.__init__-949"><span class="linenos">949</span></a>
</span><span id="Apu.__init__-950"><a href="#Apu.__init__-950"><span class="linenos">950</span></a><span class="sd">        Atributos:</span>
</span><span id="Apu.__init__-951"><a href="#Apu.__init__-951"><span class="linenos">951</span></a><span class="sd">            data (dict): Datos del Apu (color, health, bioma, gif).</span>
</span><span id="Apu.__init__-952"><a href="#Apu.__init__-952"><span class="linenos">952</span></a><span class="sd">            size (int): Tamao del Apu en pxeles.</span>
</span><span id="Apu.__init__-953"><a href="#Apu.__init__-953"><span class="linenos">953</span></a><span class="sd">            health (int): Vida actual del Apu.</span>
</span><span id="Apu.__init__-954"><a href="#Apu.__init__-954"><span class="linenos">954</span></a><span class="sd">            max_health (int): Vida mxima.</span>
</span><span id="Apu.__init__-955"><a href="#Apu.__init__-955"><span class="linenos">955</span></a><span class="sd">            frames (list[pygame.Surface]): Frames de animacin del Apu.</span>
</span><span id="Apu.__init__-956"><a href="#Apu.__init__-956"><span class="linenos">956</span></a><span class="sd">            image (pygame.Surface): Frame actual a mostrar.</span>
</span><span id="Apu.__init__-957"><a href="#Apu.__init__-957"><span class="linenos">957</span></a><span class="sd">            rect (pygame.Rect): Rectngulo de colisin del Apu.</span>
</span><span id="Apu.__init__-958"><a href="#Apu.__init__-958"><span class="linenos">958</span></a><span class="sd">            font (pygame.font.Font): Fuente para mostrar el nombre.</span>
</span><span id="Apu.__init__-959"><a href="#Apu.__init__-959"><span class="linenos">959</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Apu.__init__-960"><a href="#Apu.__init__-960"><span class="linenos">960</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Apu.__init__-961"><a href="#Apu.__init__-961"><span class="linenos">961</span></a>        <span class="c1"># Usar el rbol binario para obtener los datos del Apu</span>
</span><span id="Apu.__init__-962"><a href="#Apu.__init__-962"><span class="linenos">962</span></a>        <span class="k">if</span> <span class="n">arbol_apus</span><span class="p">:</span>
</span><span id="Apu.__init__-963"><a href="#Apu.__init__-963"><span class="linenos">963</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">arbol_apus</span><span class="o">.</span><span class="n">obtener_datos_apu</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="Apu.__init__-964"><a href="#Apu.__init__-964"><span class="linenos">964</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
</span><span id="Apu.__init__-965"><a href="#Apu.__init__-965"><span class="linenos">965</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: No se encontr el Apu </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> en el rbol&quot;</span><span class="p">)</span>
</span><span id="Apu.__init__-966"><a href="#Apu.__init__-966"><span class="linenos">966</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">),</span> <span class="s2">&quot;health&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">&quot;bioma&quot;</span><span class="p">:</span> <span class="s2">&quot;Desconocido&quot;</span><span class="p">,</span> <span class="s2">&quot;gif&quot;</span><span class="p">:</span> <span class="s2">&quot;coropuna.gif&quot;</span><span class="p">}</span>
</span><span id="Apu.__init__-967"><a href="#Apu.__init__-967"><span class="linenos">967</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Apu.__init__-968"><a href="#Apu.__init__-968"><span class="linenos">968</span></a>            <span class="c1"># Fallback a APUS_DATA si no se proporciona el rbol</span>
</span><span id="Apu.__init__-969"><a href="#Apu.__init__-969"><span class="linenos">969</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">APUS_DATA</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="Apu.__init__-970"><a href="#Apu.__init__-970"><span class="linenos">970</span></a>        <span class="c1"># Tamao de Apu: doble del tamao de Ekeko</span>
</span><span id="Apu.__init__-971"><a href="#Apu.__init__-971"><span class="linenos">971</span></a>        <span class="c1"># Ekeko tiene scale_factor=0.1, as que su tamao base es 40*0.1 = 4, altura 60*0.1 = 6</span>
</span><span id="Apu.__init__-972"><a href="#Apu.__init__-972"><span class="linenos">972</span></a>        <span class="c1"># Apu ser el doble: 80x120</span>
</span><span id="Apu.__init__-973"><a href="#Apu.__init__-973"><span class="linenos">973</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">160</span>  <span class="c1"># Doble del tamao original (80 -&gt; 160)</span>
</span><span id="Apu.__init__-974"><a href="#Apu.__init__-974"><span class="linenos">974</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">health</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;health&quot;</span><span class="p">]</span>
</span><span id="Apu.__init__-975"><a href="#Apu.__init__-975"><span class="linenos">975</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_health</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;health&quot;</span><span class="p">]</span>
</span><span id="Apu.__init__-976"><a href="#Apu.__init__-976"><span class="linenos">976</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">=</span> <span class="n">scene_number</span>
</span><span id="Apu.__init__-977"><a href="#Apu.__init__-977"><span class="linenos">977</span></a>
</span><span id="Apu.__init__-978"><a href="#Apu.__init__-978"><span class="linenos">978</span></a>        <span class="n">apu_gif_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;apus/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;gif&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Apu.__init__-979"><a href="#Apu.__init__-979"><span class="linenos">979</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Apu.__init__-980"><a href="#Apu.__init__-980"><span class="linenos">980</span></a>        <span class="k">if</span> <span class="n">apu_gif_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">apu_gif_path</span><span class="p">):</span>
</span><span id="Apu.__init__-981"><a href="#Apu.__init__-981"><span class="linenos">981</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">apu_gif_path</span><span class="p">)</span>
</span><span id="Apu.__init__-982"><a href="#Apu.__init__-982"><span class="linenos">982</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="Apu.__init__-983"><a href="#Apu.__init__-983"><span class="linenos">983</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span><span id="Apu.__init__-984"><a href="#Apu.__init__-984"><span class="linenos">984</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Apu.__init__-985"><a href="#Apu.__init__-985"><span class="linenos">985</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[:]</span>
</span><span id="Apu.__init__-986"><a href="#Apu.__init__-986"><span class="linenos">986</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Apu.__init__-987"><a href="#Apu.__init__-987"><span class="linenos">987</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
</span><span id="Apu.__init__-988"><a href="#Apu.__init__-988"><span class="linenos">988</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">])</span>
</span><span id="Apu.__init__-989"><a href="#Apu.__init__-989"><span class="linenos">989</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">]</span>
</span><span id="Apu.__init__-990"><a href="#Apu.__init__-990"><span class="linenos">990</span></a>
</span><span id="Apu.__init__-991"><a href="#Apu.__init__-991"><span class="linenos">991</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span><span id="Apu.__init__-992"><a href="#Apu.__init__-992"><span class="linenos">992</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
</span><span id="Apu.__init__-993"><a href="#Apu.__init__-993"><span class="linenos">993</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
</span><span id="Apu.__init__-994"><a href="#Apu.__init__-994"><span class="linenos">994</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Apu.__init__-995"><a href="#Apu.__init__-995"><span class="linenos">995</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Apu.__init__-996"><a href="#Apu.__init__-996"><span class="linenos">996</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.15</span>
</span><span id="Apu.__init__-997"><a href="#Apu.__init__-997"><span class="linenos">997</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa un Apu en el juego.</p>

<p>Args:
    name (str): Nombre del Apu.
    x (int): Posicin horizontal inicial.
    y (int): Posicin vertical inicial.
    scene_number (int, opcional): Nmero de la escena donde aparece.
    arbol_apus (ArbolApus, opcional): rbol binario para obtener los datos del Apu.</p>

<p>Atributos:
    data (dict): Datos del Apu (color, health, bioma, gif).
    size (int): Tamao del Apu en pxeles.
    health (int): Vida actual del Apu.
    max_health (int): Vida mxima.
    frames (list[pygame.Surface]): Frames de animacin del Apu.
    image (pygame.Surface): Frame actual a mostrar.
    rect (pygame.Rect): Rectngulo de colisin del Apu.
    font (pygame.font.Font): Fuente para mostrar el nombre.</p>
</div>


                            </div>
                            <div id="Apu.name" class="classattr">
                                <div class="attr variable">
            <span class="name">name</span>

        
    </div>
    <a class="headerlink" href="#Apu.name"></a>
    
    

                            </div>
                            <div id="Apu.size" class="classattr">
                                <div class="attr variable">
            <span class="name">size</span>

        
    </div>
    <a class="headerlink" href="#Apu.size"></a>
    
    

                            </div>
                            <div id="Apu.health" class="classattr">
                                <div class="attr variable">
            <span class="name">health</span>

        
    </div>
    <a class="headerlink" href="#Apu.health"></a>
    
    

                            </div>
                            <div id="Apu.max_health" class="classattr">
                                <div class="attr variable">
            <span class="name">max_health</span>

        
    </div>
    <a class="headerlink" href="#Apu.max_health"></a>
    
    

                            </div>
                            <div id="Apu.scene_number" class="classattr">
                                <div class="attr variable">
            <span class="name">scene_number</span>

        
    </div>
    <a class="headerlink" href="#Apu.scene_number"></a>
    
    

                            </div>
                            <div id="Apu.frames" class="classattr">
                                <div class="attr variable">
            <span class="name">frames</span>

        
    </div>
    <a class="headerlink" href="#Apu.frames"></a>
    
    

                            </div>
                            <div id="Apu.rect" class="classattr">
                                <div class="attr variable">
            <span class="name">rect</span>

        
    </div>
    <a class="headerlink" href="#Apu.rect"></a>
    
    

                            </div>
                            <div id="Apu.frame_index" class="classattr">
                                <div class="attr variable">
            <span class="name">frame_index</span>

        
    </div>
    <a class="headerlink" href="#Apu.frame_index"></a>
    
    

                            </div>
                            <div id="Apu.animation_timer" class="classattr">
                                <div class="attr variable">
            <span class="name">animation_timer</span>

        
    </div>
    <a class="headerlink" href="#Apu.animation_timer"></a>
    
    

                            </div>
                            <div id="Apu.animation_speed" class="classattr">
                                <div class="attr variable">
            <span class="name">animation_speed</span>

        
    </div>
    <a class="headerlink" href="#Apu.animation_speed"></a>
    
    

                            </div>
                            <div id="Apu.font" class="classattr">
                                <div class="attr variable">
            <span class="name">font</span>

        
    </div>
    <a class="headerlink" href="#Apu.font"></a>
    
    

                            </div>
                            <div id="Apu.update" class="classattr">
                                        <input id="Apu.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Apu.update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Apu.update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Apu.update-999"><a href="#Apu.update-999"><span class="linenos"> 999</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Apu.update-1000"><a href="#Apu.update-1000"><span class="linenos">1000</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Apu.update-1001"><a href="#Apu.update-1001"><span class="linenos">1001</span></a><span class="sd">        Actualiza la animacin del Apu.</span>
</span><span id="Apu.update-1002"><a href="#Apu.update-1002"><span class="linenos">1002</span></a><span class="sd">        Cambia el frame segn el timer de animacin.</span>
</span><span id="Apu.update-1003"><a href="#Apu.update-1003"><span class="linenos">1003</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Apu.update-1004"><a href="#Apu.update-1004"><span class="linenos">1004</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="Apu.update-1005"><a href="#Apu.update-1005"><span class="linenos">1005</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Apu.update-1006"><a href="#Apu.update-1006"><span class="linenos">1006</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Apu.update-1007"><a href="#Apu.update-1007"><span class="linenos">1007</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">)</span>
</span><span id="Apu.update-1008"><a href="#Apu.update-1008"><span class="linenos">1008</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_index</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza la animacin del Apu.
Cambia el frame segn el timer de animacin.</p>
</div>


                            </div>
                            <div id="Apu.draw" class="classattr">
                                        <input id="Apu.draw-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">draw</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">screen</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Apu.draw-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Apu.draw"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Apu.draw-1010"><a href="#Apu.draw-1010"><span class="linenos">1010</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="Apu.draw-1011"><a href="#Apu.draw-1011"><span class="linenos">1011</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Apu.draw-1012"><a href="#Apu.draw-1012"><span class="linenos">1012</span></a><span class="sd">        Dibuja al Apu en pantalla junto con su nombre.</span>
</span><span id="Apu.draw-1013"><a href="#Apu.draw-1013"><span class="linenos">1013</span></a>
</span><span id="Apu.draw-1014"><a href="#Apu.draw-1014"><span class="linenos">1014</span></a><span class="sd">        Args:</span>
</span><span id="Apu.draw-1015"><a href="#Apu.draw-1015"><span class="linenos">1015</span></a><span class="sd">            screen (pygame.Surface): Pantalla donde dibujar.</span>
</span><span id="Apu.draw-1016"><a href="#Apu.draw-1016"><span class="linenos">1016</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Apu.draw-1017"><a href="#Apu.draw-1017"><span class="linenos">1017</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span><span id="Apu.draw-1018"><a href="#Apu.draw-1018"><span class="linenos">1018</span></a>        <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Apu </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="Apu.draw-1019"><a href="#Apu.draw-1019"><span class="linenos">1019</span></a>        <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="mi">25</span><span class="p">))</span>
</span><span id="Apu.draw-1020"><a href="#Apu.draw-1020"><span class="linenos">1020</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dibuja al Apu en pantalla junto con su nombre.</p>

<p>Args:
    screen (pygame.Surface): Pantalla donde dibujar.</p>
</div>


                            </div>
                            <div id="Apu.give_illas_to_player" class="classattr">
                                        <input id="Apu.give_illas_to_player-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">give_illas_to_player</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">player</span>, </span><span class="param"><span class="n">scene_number</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Apu.give_illas_to_player-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Apu.give_illas_to_player"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Apu.give_illas_to_player-1022"><a href="#Apu.give_illas_to_player-1022"><span class="linenos">1022</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">give_illas_to_player</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">):</span>
</span><span id="Apu.give_illas_to_player-1023"><a href="#Apu.give_illas_to_player-1023"><span class="linenos">1023</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;El Apu entrega las illas robadas al Ekeko</span>
</span><span id="Apu.give_illas_to_player-1024"><a href="#Apu.give_illas_to_player-1024"><span class="linenos">1024</span></a><span class="sd">        </span>
</span><span id="Apu.give_illas_to_player-1025"><a href="#Apu.give_illas_to_player-1025"><span class="linenos">1025</span></a><span class="sd">        Args:</span>
</span><span id="Apu.give_illas_to_player-1026"><a href="#Apu.give_illas_to_player-1026"><span class="linenos">1026</span></a><span class="sd">            player (Player): Instancia del jugador.</span>
</span><span id="Apu.give_illas_to_player-1027"><a href="#Apu.give_illas_to_player-1027"><span class="linenos">1027</span></a><span class="sd">            scene_number (int): Escena actual para obtener las illas.</span>
</span><span id="Apu.give_illas_to_player-1028"><a href="#Apu.give_illas_to_player-1028"><span class="linenos">1028</span></a>
</span><span id="Apu.give_illas_to_player-1029"><a href="#Apu.give_illas_to_player-1029"><span class="linenos">1029</span></a><span class="sd">        Returns:</span>
</span><span id="Apu.give_illas_to_player-1030"><a href="#Apu.give_illas_to_player-1030"><span class="linenos">1030</span></a><span class="sd">            list[str]: Lista de illas entregadas.</span>
</span><span id="Apu.give_illas_to_player-1031"><a href="#Apu.give_illas_to_player-1031"><span class="linenos">1031</span></a><span class="sd">            &quot;&quot;&quot;</span>
</span><span id="Apu.give_illas_to_player-1032"><a href="#Apu.give_illas_to_player-1032"><span class="linenos">1032</span></a>        <span class="n">illas</span> <span class="o">=</span> <span class="n">ILLAS_ROBADAS_POR_ESCENA</span><span class="p">[</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="Apu.give_illas_to_player-1033"><a href="#Apu.give_illas_to_player-1033"><span class="linenos">1033</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; Apu </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> te entrega las illas sagradas: &quot;</span>
</span><span id="Apu.give_illas_to_player-1034"><a href="#Apu.give_illas_to_player-1034"><span class="linenos">1034</span></a>        
</span><span id="Apu.give_illas_to_player-1035"><a href="#Apu.give_illas_to_player-1035"><span class="linenos">1035</span></a>        <span class="k">for</span> <span class="n">illa</span> <span class="ow">in</span> <span class="n">illas</span><span class="p">:</span>
</span><span id="Apu.give_illas_to_player-1036"><a href="#Apu.give_illas_to_player-1036"><span class="linenos">1036</span></a>            <span class="n">player</span><span class="o">.</span><span class="n">collect_articulos</span><span class="p">([</span><span class="n">illa</span><span class="p">])</span>
</span><span id="Apu.give_illas_to_player-1037"><a href="#Apu.give_illas_to_player-1037"><span class="linenos">1037</span></a>            <span class="n">message</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">illa</span><span class="si">}</span><span class="s2">, &quot;</span>
</span><span id="Apu.give_illas_to_player-1038"><a href="#Apu.give_illas_to_player-1038"><span class="linenos">1038</span></a>        
</span><span id="Apu.give_illas_to_player-1039"><a href="#Apu.give_illas_to_player-1039"><span class="linenos">1039</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; Gurdalas en tu bolsillo!&quot;</span>
</span><span id="Apu.give_illas_to_player-1040"><a href="#Apu.give_illas_to_player-1040"><span class="linenos">1040</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="Apu.give_illas_to_player-1041"><a href="#Apu.give_illas_to_player-1041"><span class="linenos">1041</span></a>        <span class="k">return</span> <span class="n">illas</span>
</span></pre></div>


            <div class="docstring"><p>El Apu entrega las illas robadas al Ekeko</p>

<p>Args:
    player (Player): Instancia del jugador.
    scene_number (int): Escena actual para obtener las illas.</p>

<p>Returns:
    list[str]: Lista de illas entregadas.</p>
</div>


                            </div>
                </section>
                <section id="Door">
                            <input id="Door-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Door</span>:

                <label class="view-source-button" for="Door-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Door"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Door-1044"><a href="#Door-1044"><span class="linenos">1044</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Door</span><span class="p">:</span>
</span><span id="Door-1045"><a href="#Door-1045"><span class="linenos">1045</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase que representa una puerta en el juego.&quot;&quot;&quot;</span>
</span><span id="Door-1046"><a href="#Door-1046"><span class="linenos">1046</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="Door-1047"><a href="#Door-1047"><span class="linenos">1047</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la puerta con su posicin y estado cerrado.</span>
</span><span id="Door-1048"><a href="#Door-1048"><span class="linenos">1048</span></a>
</span><span id="Door-1049"><a href="#Door-1049"><span class="linenos">1049</span></a><span class="sd">        Args:</span>
</span><span id="Door-1050"><a href="#Door-1050"><span class="linenos">1050</span></a><span class="sd">            x (int): Posicin horizontal de la puerta.</span>
</span><span id="Door-1051"><a href="#Door-1051"><span class="linenos">1051</span></a><span class="sd">            y (int): Posicin vertical de la puerta.</span>
</span><span id="Door-1052"><a href="#Door-1052"><span class="linenos">1052</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Door-1053"><a href="#Door-1053"><span class="linenos">1053</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="Door-1054"><a href="#Door-1054"><span class="linenos">1054</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Door-1055"><a href="#Door-1055"><span class="linenos">1055</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Door-1056"><a href="#Door-1056"><span class="linenos">1056</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="Door-1057"><a href="#Door-1057"><span class="linenos">1057</span></a>
</span><span id="Door-1058"><a href="#Door-1058"><span class="linenos">1058</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open_door</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Door-1059"><a href="#Door-1059"><span class="linenos">1059</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Abre la puerta (cambia su estado a abierto).&quot;&quot;&quot;</span>
</span><span id="Door-1060"><a href="#Door-1060"><span class="linenos">1060</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Door-1061"><a href="#Door-1061"><span class="linenos">1061</span></a>
</span><span id="Door-1062"><a href="#Door-1062"><span class="linenos">1062</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Door-1063"><a href="#Door-1063"><span class="linenos">1063</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la animacin de apertura si la puerta est abierta.&quot;&quot;&quot;</span>
</span><span id="Door-1064"><a href="#Door-1064"><span class="linenos">1064</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Door-1065"><a href="#Door-1065"><span class="linenos">1065</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">+=</span> <span class="mf">0.05</span>
</span><span id="Door-1066"><a href="#Door-1066"><span class="linenos">1066</span></a>
</span><span id="Door-1067"><a href="#Door-1067"><span class="linenos">1067</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="Door-1068"><a href="#Door-1068"><span class="linenos">1068</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja la puerta en la pantalla.</span>
</span><span id="Door-1069"><a href="#Door-1069"><span class="linenos">1069</span></a>
</span><span id="Door-1070"><a href="#Door-1070"><span class="linenos">1070</span></a><span class="sd">        Muestra la puerta cerrada o abierta segn `is_open` y el progreso de `opening_animation`.</span>
</span><span id="Door-1071"><a href="#Door-1071"><span class="linenos">1071</span></a>
</span><span id="Door-1072"><a href="#Door-1072"><span class="linenos">1072</span></a><span class="sd">        Args:</span>
</span><span id="Door-1073"><a href="#Door-1073"><span class="linenos">1073</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la puerta.</span>
</span><span id="Door-1074"><a href="#Door-1074"><span class="linenos">1074</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Door-1075"><a href="#Door-1075"><span class="linenos">1075</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span><span class="p">:</span>
</span><span id="Door-1076"><a href="#Door-1076"><span class="linenos">1076</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">33</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span><span id="Door-1077"><a href="#Door-1077"><span class="linenos">1077</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="Door-1078"><a href="#Door-1078"><span class="linenos">1078</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">-</span> <span class="mi">15</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="Door-1079"><a href="#Door-1079"><span class="linenos">1079</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Door-1080"><a href="#Door-1080"><span class="linenos">1080</span></a>            <span class="n">open_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span><span class="p">))</span>
</span><span id="Door-1081"><a href="#Door-1081"><span class="linenos">1081</span></a>            <span class="k">if</span> <span class="n">open_width</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Door-1082"><a href="#Door-1082"><span class="linenos">1082</span></a>                <span class="n">open_rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">open_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="Door-1083"><a href="#Door-1083"><span class="linenos">1083</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">33</span><span class="p">),</span> <span class="n">open_rect</span><span class="p">)</span>
</span><span id="Door-1084"><a href="#Door-1084"><span class="linenos">1084</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="n">open_rect</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="Door-1085"><a href="#Door-1085"><span class="linenos">1085</span></a>            
</span><span id="Door-1086"><a href="#Door-1086"><span class="linenos">1086</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
</span><span id="Door-1087"><a href="#Door-1087"><span class="linenos">1087</span></a>                <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Puerta Abierta!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GREEN</span><span class="p">)</span>
</span><span id="Door-1088"><a href="#Door-1088"><span class="linenos">1088</span></a>                <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="Door-1089"><a href="#Door-1089"><span class="linenos">1089</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Clase que representa una puerta en el juego.</p>
</div>


                            <div id="Door.__init__" class="classattr">
                                        <input id="Door.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Door</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">x</span>, </span><span class="param"><span class="n">y</span></span>)</span>

                <label class="view-source-button" for="Door.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Door.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Door.__init__-1046"><a href="#Door.__init__-1046"><span class="linenos">1046</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="Door.__init__-1047"><a href="#Door.__init__-1047"><span class="linenos">1047</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la puerta con su posicin y estado cerrado.</span>
</span><span id="Door.__init__-1048"><a href="#Door.__init__-1048"><span class="linenos">1048</span></a>
</span><span id="Door.__init__-1049"><a href="#Door.__init__-1049"><span class="linenos">1049</span></a><span class="sd">        Args:</span>
</span><span id="Door.__init__-1050"><a href="#Door.__init__-1050"><span class="linenos">1050</span></a><span class="sd">            x (int): Posicin horizontal de la puerta.</span>
</span><span id="Door.__init__-1051"><a href="#Door.__init__-1051"><span class="linenos">1051</span></a><span class="sd">            y (int): Posicin vertical de la puerta.</span>
</span><span id="Door.__init__-1052"><a href="#Door.__init__-1052"><span class="linenos">1052</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Door.__init__-1053"><a href="#Door.__init__-1053"><span class="linenos">1053</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="Door.__init__-1054"><a href="#Door.__init__-1054"><span class="linenos">1054</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Door.__init__-1055"><a href="#Door.__init__-1055"><span class="linenos">1055</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Door.__init__-1056"><a href="#Door.__init__-1056"><span class="linenos">1056</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa la puerta con su posicin y estado cerrado.</p>

<p>Args:
    x (int): Posicin horizontal de la puerta.
    y (int): Posicin vertical de la puerta.</p>
</div>


                            </div>
                            <div id="Door.rect" class="classattr">
                                <div class="attr variable">
            <span class="name">rect</span>

        
    </div>
    <a class="headerlink" href="#Door.rect"></a>
    
    

                            </div>
                            <div id="Door.is_open" class="classattr">
                                <div class="attr variable">
            <span class="name">is_open</span>

        
    </div>
    <a class="headerlink" href="#Door.is_open"></a>
    
    

                            </div>
                            <div id="Door.opening_animation" class="classattr">
                                <div class="attr variable">
            <span class="name">opening_animation</span>

        
    </div>
    <a class="headerlink" href="#Door.opening_animation"></a>
    
    

                            </div>
                            <div id="Door.font" class="classattr">
                                <div class="attr variable">
            <span class="name">font</span>

        
    </div>
    <a class="headerlink" href="#Door.font"></a>
    
    

                            </div>
                            <div id="Door.open_door" class="classattr">
                                        <input id="Door.open_door-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">open_door</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Door.open_door-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Door.open_door"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Door.open_door-1058"><a href="#Door.open_door-1058"><span class="linenos">1058</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open_door</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Door.open_door-1059"><a href="#Door.open_door-1059"><span class="linenos">1059</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Abre la puerta (cambia su estado a abierto).&quot;&quot;&quot;</span>
</span><span id="Door.open_door-1060"><a href="#Door.open_door-1060"><span class="linenos">1060</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Abre la puerta (cambia su estado a abierto).</p>
</div>


                            </div>
                            <div id="Door.update" class="classattr">
                                        <input id="Door.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Door.update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Door.update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Door.update-1062"><a href="#Door.update-1062"><span class="linenos">1062</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Door.update-1063"><a href="#Door.update-1063"><span class="linenos">1063</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la animacin de apertura si la puerta est abierta.&quot;&quot;&quot;</span>
</span><span id="Door.update-1064"><a href="#Door.update-1064"><span class="linenos">1064</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Door.update-1065"><a href="#Door.update-1065"><span class="linenos">1065</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">+=</span> <span class="mf">0.05</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza la animacin de apertura si la puerta est abierta.</p>
</div>


                            </div>
                            <div id="Door.draw" class="classattr">
                                        <input id="Door.draw-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">draw</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">screen</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Door.draw-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Door.draw"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Door.draw-1067"><a href="#Door.draw-1067"><span class="linenos">1067</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="Door.draw-1068"><a href="#Door.draw-1068"><span class="linenos">1068</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja la puerta en la pantalla.</span>
</span><span id="Door.draw-1069"><a href="#Door.draw-1069"><span class="linenos">1069</span></a>
</span><span id="Door.draw-1070"><a href="#Door.draw-1070"><span class="linenos">1070</span></a><span class="sd">        Muestra la puerta cerrada o abierta segn `is_open` y el progreso de `opening_animation`.</span>
</span><span id="Door.draw-1071"><a href="#Door.draw-1071"><span class="linenos">1071</span></a>
</span><span id="Door.draw-1072"><a href="#Door.draw-1072"><span class="linenos">1072</span></a><span class="sd">        Args:</span>
</span><span id="Door.draw-1073"><a href="#Door.draw-1073"><span class="linenos">1073</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la puerta.</span>
</span><span id="Door.draw-1074"><a href="#Door.draw-1074"><span class="linenos">1074</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Door.draw-1075"><a href="#Door.draw-1075"><span class="linenos">1075</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_open</span><span class="p">:</span>
</span><span id="Door.draw-1076"><a href="#Door.draw-1076"><span class="linenos">1076</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">33</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span><span id="Door.draw-1077"><a href="#Door.draw-1077"><span class="linenos">1077</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="Door.draw-1078"><a href="#Door.draw-1078"><span class="linenos">1078</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">-</span> <span class="mi">15</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="Door.draw-1079"><a href="#Door.draw-1079"><span class="linenos">1079</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Door.draw-1080"><a href="#Door.draw-1080"><span class="linenos">1080</span></a>            <span class="n">open_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span><span class="p">))</span>
</span><span id="Door.draw-1081"><a href="#Door.draw-1081"><span class="linenos">1081</span></a>            <span class="k">if</span> <span class="n">open_width</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Door.draw-1082"><a href="#Door.draw-1082"><span class="linenos">1082</span></a>                <span class="n">open_rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">open_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="Door.draw-1083"><a href="#Door.draw-1083"><span class="linenos">1083</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">33</span><span class="p">),</span> <span class="n">open_rect</span><span class="p">)</span>
</span><span id="Door.draw-1084"><a href="#Door.draw-1084"><span class="linenos">1084</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="n">open_rect</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="Door.draw-1085"><a href="#Door.draw-1085"><span class="linenos">1085</span></a>            
</span><span id="Door.draw-1086"><a href="#Door.draw-1086"><span class="linenos">1086</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opening_animation</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
</span><span id="Door.draw-1087"><a href="#Door.draw-1087"><span class="linenos">1087</span></a>                <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Puerta Abierta!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GREEN</span><span class="p">)</span>
</span><span id="Door.draw-1088"><a href="#Door.draw-1088"><span class="linenos">1088</span></a>                <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="Door.draw-1089"><a href="#Door.draw-1089"><span class="linenos">1089</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dibuja la puerta en la pantalla.</p>

<p>Muestra la puerta cerrada o abierta segn <code><a href="#Door.is_open">is_open</a></code> y el progreso de <code><a href="#Door.opening_animation">opening_animation</a></code>.</p>

<p>Args:
    screen (pygame.Surface): Superficie donde se dibuja la puerta.</p>
</div>


                            </div>
                </section>
                <section id="Articulo">
                            <input id="Articulo-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Articulo</span>:

                <label class="view-source-button" for="Articulo-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Articulo"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Articulo-1092"><a href="#Articulo-1092"><span class="linenos">1092</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Articulo</span><span class="p">:</span>
</span><span id="Articulo-1093"><a href="#Articulo-1093"><span class="linenos">1093</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase que representa un artculo/illa recolectable en el juego.&quot;&quot;&quot;</span>
</span><span id="Articulo-1094"><a href="#Articulo-1094"><span class="linenos">1094</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="Articulo-1095"><a href="#Articulo-1095"><span class="linenos">1095</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa el artculo en la posicin (x, y).</span>
</span><span id="Articulo-1096"><a href="#Articulo-1096"><span class="linenos">1096</span></a>
</span><span id="Articulo-1097"><a href="#Articulo-1097"><span class="linenos">1097</span></a><span class="sd">        Args:</span>
</span><span id="Articulo-1098"><a href="#Articulo-1098"><span class="linenos">1098</span></a><span class="sd">            name (str): Nombre del artculo.</span>
</span><span id="Articulo-1099"><a href="#Articulo-1099"><span class="linenos">1099</span></a><span class="sd">            x (int): Posicin horizontal.</span>
</span><span id="Articulo-1100"><a href="#Articulo-1100"><span class="linenos">1100</span></a><span class="sd">            y (int): Posicin vertical.</span>
</span><span id="Articulo-1101"><a href="#Articulo-1101"><span class="linenos">1101</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Articulo-1102"><a href="#Articulo-1102"><span class="linenos">1102</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Articulo-1103"><a href="#Articulo-1103"><span class="linenos">1103</span></a>        <span class="c1"># Aumentar el tamao de las illas</span>
</span><span id="Articulo-1104"><a href="#Articulo-1104"><span class="linenos">1104</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">50</span>  <span class="c1"># Aumentado de 30 a 50</span>
</span><span id="Articulo-1105"><a href="#Articulo-1105"><span class="linenos">1105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</span><span id="Articulo-1106"><a href="#Articulo-1106"><span class="linenos">1106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Articulo-1107"><a href="#Articulo-1107"><span class="linenos">1107</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="Articulo-1108"><a href="#Articulo-1108"><span class="linenos">1108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">float_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo-1109"><a href="#Articulo-1109"><span class="linenos">1109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span> <span class="o">=</span> <span class="n">y</span>
</span><span id="Articulo-1110"><a href="#Articulo-1110"><span class="linenos">1110</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">base_x</span> <span class="o">=</span> <span class="n">x</span>
</span><span id="Articulo-1111"><a href="#Articulo-1111"><span class="linenos">1111</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Fuente ms grande</span>
</span><span id="Articulo-1112"><a href="#Articulo-1112"><span class="linenos">1112</span></a>        
</span><span id="Articulo-1113"><a href="#Articulo-1113"><span class="linenos">1113</span></a>        <span class="c1"># Variables para animacin de giro y movimiento</span>
</span><span id="Articulo-1114"><a href="#Articulo-1114"><span class="linenos">1114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo-1115"><a href="#Articulo-1115"><span class="linenos">1115</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_speed</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Velocidad de giro</span>
</span><span id="Articulo-1116"><a href="#Articulo-1116"><span class="linenos">1116</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_radius</span> <span class="o">=</span> <span class="mi">15</span>  <span class="c1"># Radio de movimiento circular</span>
</span><span id="Articulo-1117"><a href="#Articulo-1117"><span class="linenos">1117</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_speed</span> <span class="o">=</span> <span class="mf">0.05</span>  <span class="c1"># Velocidad de movimiento circular</span>
</span><span id="Articulo-1118"><a href="#Articulo-1118"><span class="linenos">1118</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo-1119"><a href="#Articulo-1119"><span class="linenos">1119</span></a>        
</span><span id="Articulo-1120"><a href="#Articulo-1120"><span class="linenos">1120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Articulo-1121"><a href="#Articulo-1121"><span class="linenos">1121</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo-1122"><a href="#Articulo-1122"><span class="linenos">1122</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo-1123"><a href="#Articulo-1123"><span class="linenos">1123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="Articulo-1124"><a href="#Articulo-1124"><span class="linenos">1124</span></a>        
</span><span id="Articulo-1125"><a href="#Articulo-1125"><span class="linenos">1125</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">ILLAS_GIFS</span><span class="p">:</span>
</span><span id="Articulo-1126"><a href="#Articulo-1126"><span class="linenos">1126</span></a>            <span class="n">gif_path</span> <span class="o">=</span> <span class="n">ILLAS_GIFS</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="Articulo-1127"><a href="#Articulo-1127"><span class="linenos">1127</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">gif_path</span><span class="p">):</span>
</span><span id="Articulo-1128"><a href="#Articulo-1128"><span class="linenos">1128</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="Articulo-1129"><a href="#Articulo-1129"><span class="linenos">1129</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="Articulo-1130"><a href="#Articulo-1130"><span class="linenos">1130</span></a>                    <span class="c1"># Aumentar el tamao de los frames</span>
</span><span id="Articulo-1131"><a href="#Articulo-1131"><span class="linenos">1131</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span><span id="Articulo-1132"><a href="#Articulo-1132"><span class="linenos">1132</span></a>
</span><span id="Articulo-1133"><a href="#Articulo-1133"><span class="linenos">1133</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Articulo-1134"><a href="#Articulo-1134"><span class="linenos">1134</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la animacin del artculo.</span>
</span><span id="Articulo-1135"><a href="#Articulo-1135"><span class="linenos">1135</span></a>
</span><span id="Articulo-1136"><a href="#Articulo-1136"><span class="linenos">1136</span></a><span class="sd">        Incluye:</span>
</span><span id="Articulo-1137"><a href="#Articulo-1137"><span class="linenos">1137</span></a><span class="sd">            - Flotacin vertical</span>
</span><span id="Articulo-1138"><a href="#Articulo-1138"><span class="linenos">1138</span></a><span class="sd">            - Movimiento circular</span>
</span><span id="Articulo-1139"><a href="#Articulo-1139"><span class="linenos">1139</span></a><span class="sd">            - Rotacin</span>
</span><span id="Articulo-1140"><a href="#Articulo-1140"><span class="linenos">1140</span></a><span class="sd">            - Animacin de frames si tiene GIF</span>
</span><span id="Articulo-1141"><a href="#Articulo-1141"><span class="linenos">1141</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Articulo-1142"><a href="#Articulo-1142"><span class="linenos">1142</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="Articulo-1143"><a href="#Articulo-1143"><span class="linenos">1143</span></a>            <span class="c1"># Animacin de flotacin vertical</span>
</span><span id="Articulo-1144"><a href="#Articulo-1144"><span class="linenos">1144</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">float_timer</span> <span class="o">+=</span> <span class="mf">0.1</span>
</span><span id="Articulo-1145"><a href="#Articulo-1145"><span class="linenos">1145</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mi">8</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">float_timer</span><span class="p">))</span>
</span><span id="Articulo-1146"><a href="#Articulo-1146"><span class="linenos">1146</span></a>            
</span><span id="Articulo-1147"><a href="#Articulo-1147"><span class="linenos">1147</span></a>            <span class="c1"># Animacin de movimiento circular</span>
</span><span id="Articulo-1148"><a href="#Articulo-1148"><span class="linenos">1148</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">move_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">move_speed</span>
</span><span id="Articulo-1149"><a href="#Articulo-1149"><span class="linenos">1149</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_x</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">move_radius</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">move_timer</span><span class="p">))</span>
</span><span id="Articulo-1150"><a href="#Articulo-1150"><span class="linenos">1150</span></a>            
</span><span id="Articulo-1151"><a href="#Articulo-1151"><span class="linenos">1151</span></a>            <span class="c1"># Animacin de giro</span>
</span><span id="Articulo-1152"><a href="#Articulo-1152"><span class="linenos">1152</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_speed</span>
</span><span id="Articulo-1153"><a href="#Articulo-1153"><span class="linenos">1153</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">&gt;=</span> <span class="mi">360</span><span class="p">:</span>
</span><span id="Articulo-1154"><a href="#Articulo-1154"><span class="linenos">1154</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo-1155"><a href="#Articulo-1155"><span class="linenos">1155</span></a>            
</span><span id="Articulo-1156"><a href="#Articulo-1156"><span class="linenos">1156</span></a>            <span class="c1"># Animacin de frames del GIF</span>
</span><span id="Articulo-1157"><a href="#Articulo-1157"><span class="linenos">1157</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="Articulo-1158"><a href="#Articulo-1158"><span class="linenos">1158</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="Articulo-1159"><a href="#Articulo-1159"><span class="linenos">1159</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Articulo-1160"><a href="#Articulo-1160"><span class="linenos">1160</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo-1161"><a href="#Articulo-1161"><span class="linenos">1161</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
</span><span id="Articulo-1162"><a href="#Articulo-1162"><span class="linenos">1162</span></a>
</span><span id="Articulo-1163"><a href="#Articulo-1163"><span class="linenos">1163</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="Articulo-1164"><a href="#Articulo-1164"><span class="linenos">1164</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja el artculo en pantalla.</span>
</span><span id="Articulo-1165"><a href="#Articulo-1165"><span class="linenos">1165</span></a>
</span><span id="Articulo-1166"><a href="#Articulo-1166"><span class="linenos">1166</span></a><span class="sd">        Si tiene GIF, dibuja el frame actual rotado; </span>
</span><span id="Articulo-1167"><a href="#Articulo-1167"><span class="linenos">1167</span></a><span class="sd">        si no, dibuja un crculo con efecto de rotacin.</span>
</span><span id="Articulo-1168"><a href="#Articulo-1168"><span class="linenos">1168</span></a>
</span><span id="Articulo-1169"><a href="#Articulo-1169"><span class="linenos">1169</span></a><span class="sd">        Args:</span>
</span><span id="Articulo-1170"><a href="#Articulo-1170"><span class="linenos">1170</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja el artculo.</span>
</span><span id="Articulo-1171"><a href="#Articulo-1171"><span class="linenos">1171</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Articulo-1172"><a href="#Articulo-1172"><span class="linenos">1172</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="Articulo-1173"><a href="#Articulo-1173"><span class="linenos">1173</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="Articulo-1174"><a href="#Articulo-1174"><span class="linenos">1174</span></a>                <span class="c1"># Aplicar rotacin al frame actual</span>
</span><span id="Articulo-1175"><a href="#Articulo-1175"><span class="linenos">1175</span></a>                <span class="n">rotated_frame</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span><span class="p">)</span>
</span><span id="Articulo-1176"><a href="#Articulo-1176"><span class="linenos">1176</span></a>                <span class="n">frame_rect</span> <span class="o">=</span> <span class="n">rotated_frame</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">)</span>
</span><span id="Articulo-1177"><a href="#Articulo-1177"><span class="linenos">1177</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">rotated_frame</span><span class="p">,</span> <span class="n">frame_rect</span><span class="p">)</span>
</span><span id="Articulo-1178"><a href="#Articulo-1178"><span class="linenos">1178</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Articulo-1179"><a href="#Articulo-1179"><span class="linenos">1179</span></a>                <span class="c1"># Dibujar crculo con rotacin visual</span>
</span><span id="Articulo-1180"><a href="#Articulo-1180"><span class="linenos">1180</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="Articulo-1181"><a href="#Articulo-1181"><span class="linenos">1181</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="Articulo-1182"><a href="#Articulo-1182"><span class="linenos">1182</span></a>                
</span><span id="Articulo-1183"><a href="#Articulo-1183"><span class="linenos">1183</span></a>                <span class="c1"># Dibujar efecto de giro con lneas</span>
</span><span id="Articulo-1184"><a href="#Articulo-1184"><span class="linenos">1184</span></a>                <span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span>
</span><span id="Articulo-1185"><a href="#Articulo-1185"><span class="linenos">1185</span></a>                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">45</span><span class="p">):</span>
</span><span id="Articulo-1186"><a href="#Articulo-1186"><span class="linenos">1186</span></a>                    <span class="n">angle_rad</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span><span class="p">)</span>
</span><span id="Articulo-1187"><a href="#Articulo-1187"><span class="linenos">1187</span></a>                    <span class="n">end_x</span> <span class="o">=</span> <span class="n">center_x</span> <span class="o">+</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle_rad</span><span class="p">))</span>
</span><span id="Articulo-1188"><a href="#Articulo-1188"><span class="linenos">1188</span></a>                    <span class="n">end_y</span> <span class="o">=</span> <span class="n">center_y</span> <span class="o">+</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle_rad</span><span class="p">))</span>
</span><span id="Articulo-1189"><a href="#Articulo-1189"><span class="linenos">1189</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="p">(</span><span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span><span class="p">),</span> <span class="p">(</span><span class="n">end_x</span><span class="p">,</span> <span class="n">end_y</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="Articulo-1190"><a href="#Articulo-1190"><span class="linenos">1190</span></a>            
</span><span id="Articulo-1191"><a href="#Articulo-1191"><span class="linenos">1191</span></a>            <span class="c1"># Texto con sombra para mejor visibilidad</span>
</span><span id="Articulo-1192"><a href="#Articulo-1192"><span class="linenos">1192</span></a>            <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="Articulo-1193"><a href="#Articulo-1193"><span class="linenos">1193</span></a>            <span class="n">text_shadow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">)</span>
</span><span id="Articulo-1194"><a href="#Articulo-1194"><span class="linenos">1194</span></a>            <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mi">15</span><span class="p">))</span>
</span><span id="Articulo-1195"><a href="#Articulo-1195"><span class="linenos">1195</span></a>            <span class="n">shadow_rect</span> <span class="o">=</span> <span class="n">text_shadow</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mi">16</span><span class="p">))</span>
</span><span id="Articulo-1196"><a href="#Articulo-1196"><span class="linenos">1196</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_shadow</span><span class="p">,</span> <span class="n">shadow_rect</span><span class="p">)</span>
</span><span id="Articulo-1197"><a href="#Articulo-1197"><span class="linenos">1197</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Clase que representa un artculo/illa recolectable en el juego.</p>
</div>


                            <div id="Articulo.__init__" class="classattr">
                                        <input id="Articulo.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Articulo</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">x</span>, </span><span class="param"><span class="n">y</span></span>)</span>

                <label class="view-source-button" for="Articulo.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Articulo.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Articulo.__init__-1094"><a href="#Articulo.__init__-1094"><span class="linenos">1094</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="Articulo.__init__-1095"><a href="#Articulo.__init__-1095"><span class="linenos">1095</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa el artculo en la posicin (x, y).</span>
</span><span id="Articulo.__init__-1096"><a href="#Articulo.__init__-1096"><span class="linenos">1096</span></a>
</span><span id="Articulo.__init__-1097"><a href="#Articulo.__init__-1097"><span class="linenos">1097</span></a><span class="sd">        Args:</span>
</span><span id="Articulo.__init__-1098"><a href="#Articulo.__init__-1098"><span class="linenos">1098</span></a><span class="sd">            name (str): Nombre del artculo.</span>
</span><span id="Articulo.__init__-1099"><a href="#Articulo.__init__-1099"><span class="linenos">1099</span></a><span class="sd">            x (int): Posicin horizontal.</span>
</span><span id="Articulo.__init__-1100"><a href="#Articulo.__init__-1100"><span class="linenos">1100</span></a><span class="sd">            y (int): Posicin vertical.</span>
</span><span id="Articulo.__init__-1101"><a href="#Articulo.__init__-1101"><span class="linenos">1101</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Articulo.__init__-1102"><a href="#Articulo.__init__-1102"><span class="linenos">1102</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Articulo.__init__-1103"><a href="#Articulo.__init__-1103"><span class="linenos">1103</span></a>        <span class="c1"># Aumentar el tamao de las illas</span>
</span><span id="Articulo.__init__-1104"><a href="#Articulo.__init__-1104"><span class="linenos">1104</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">50</span>  <span class="c1"># Aumentado de 30 a 50</span>
</span><span id="Articulo.__init__-1105"><a href="#Articulo.__init__-1105"><span class="linenos">1105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</span><span id="Articulo.__init__-1106"><a href="#Articulo.__init__-1106"><span class="linenos">1106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Articulo.__init__-1107"><a href="#Articulo.__init__-1107"><span class="linenos">1107</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="Articulo.__init__-1108"><a href="#Articulo.__init__-1108"><span class="linenos">1108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">float_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo.__init__-1109"><a href="#Articulo.__init__-1109"><span class="linenos">1109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span> <span class="o">=</span> <span class="n">y</span>
</span><span id="Articulo.__init__-1110"><a href="#Articulo.__init__-1110"><span class="linenos">1110</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">base_x</span> <span class="o">=</span> <span class="n">x</span>
</span><span id="Articulo.__init__-1111"><a href="#Articulo.__init__-1111"><span class="linenos">1111</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Fuente ms grande</span>
</span><span id="Articulo.__init__-1112"><a href="#Articulo.__init__-1112"><span class="linenos">1112</span></a>        
</span><span id="Articulo.__init__-1113"><a href="#Articulo.__init__-1113"><span class="linenos">1113</span></a>        <span class="c1"># Variables para animacin de giro y movimiento</span>
</span><span id="Articulo.__init__-1114"><a href="#Articulo.__init__-1114"><span class="linenos">1114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo.__init__-1115"><a href="#Articulo.__init__-1115"><span class="linenos">1115</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_speed</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Velocidad de giro</span>
</span><span id="Articulo.__init__-1116"><a href="#Articulo.__init__-1116"><span class="linenos">1116</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_radius</span> <span class="o">=</span> <span class="mi">15</span>  <span class="c1"># Radio de movimiento circular</span>
</span><span id="Articulo.__init__-1117"><a href="#Articulo.__init__-1117"><span class="linenos">1117</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_speed</span> <span class="o">=</span> <span class="mf">0.05</span>  <span class="c1"># Velocidad de movimiento circular</span>
</span><span id="Articulo.__init__-1118"><a href="#Articulo.__init__-1118"><span class="linenos">1118</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo.__init__-1119"><a href="#Articulo.__init__-1119"><span class="linenos">1119</span></a>        
</span><span id="Articulo.__init__-1120"><a href="#Articulo.__init__-1120"><span class="linenos">1120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Articulo.__init__-1121"><a href="#Articulo.__init__-1121"><span class="linenos">1121</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo.__init__-1122"><a href="#Articulo.__init__-1122"><span class="linenos">1122</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo.__init__-1123"><a href="#Articulo.__init__-1123"><span class="linenos">1123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="Articulo.__init__-1124"><a href="#Articulo.__init__-1124"><span class="linenos">1124</span></a>        
</span><span id="Articulo.__init__-1125"><a href="#Articulo.__init__-1125"><span class="linenos">1125</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">ILLAS_GIFS</span><span class="p">:</span>
</span><span id="Articulo.__init__-1126"><a href="#Articulo.__init__-1126"><span class="linenos">1126</span></a>            <span class="n">gif_path</span> <span class="o">=</span> <span class="n">ILLAS_GIFS</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="Articulo.__init__-1127"><a href="#Articulo.__init__-1127"><span class="linenos">1127</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">gif_path</span><span class="p">):</span>
</span><span id="Articulo.__init__-1128"><a href="#Articulo.__init__-1128"><span class="linenos">1128</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="Articulo.__init__-1129"><a href="#Articulo.__init__-1129"><span class="linenos">1129</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="Articulo.__init__-1130"><a href="#Articulo.__init__-1130"><span class="linenos">1130</span></a>                    <span class="c1"># Aumentar el tamao de los frames</span>
</span><span id="Articulo.__init__-1131"><a href="#Articulo.__init__-1131"><span class="linenos">1131</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa el artculo en la posicin (x, y).</p>

<p>Args:
    name (str): Nombre del artculo.
    x (int): Posicin horizontal.
    y (int): Posicin vertical.</p>
</div>


                            </div>
                            <div id="Articulo.name" class="classattr">
                                <div class="attr variable">
            <span class="name">name</span>

        
    </div>
    <a class="headerlink" href="#Articulo.name"></a>
    
    

                            </div>
                            <div id="Articulo.size" class="classattr">
                                <div class="attr variable">
            <span class="name">size</span>

        
    </div>
    <a class="headerlink" href="#Articulo.size"></a>
    
    

                            </div>
                            <div id="Articulo.rect" class="classattr">
                                <div class="attr variable">
            <span class="name">rect</span>

        
    </div>
    <a class="headerlink" href="#Articulo.rect"></a>
    
    

                            </div>
                            <div id="Articulo.collected" class="classattr">
                                <div class="attr variable">
            <span class="name">collected</span>

        
    </div>
    <a class="headerlink" href="#Articulo.collected"></a>
    
    

                            </div>
                            <div id="Articulo.color" class="classattr">
                                <div class="attr variable">
            <span class="name">color</span>

        
    </div>
    <a class="headerlink" href="#Articulo.color"></a>
    
    

                            </div>
                            <div id="Articulo.float_timer" class="classattr">
                                <div class="attr variable">
            <span class="name">float_timer</span>

        
    </div>
    <a class="headerlink" href="#Articulo.float_timer"></a>
    
    

                            </div>
                            <div id="Articulo.base_y" class="classattr">
                                <div class="attr variable">
            <span class="name">base_y</span>

        
    </div>
    <a class="headerlink" href="#Articulo.base_y"></a>
    
    

                            </div>
                            <div id="Articulo.base_x" class="classattr">
                                <div class="attr variable">
            <span class="name">base_x</span>

        
    </div>
    <a class="headerlink" href="#Articulo.base_x"></a>
    
    

                            </div>
                            <div id="Articulo.font" class="classattr">
                                <div class="attr variable">
            <span class="name">font</span>

        
    </div>
    <a class="headerlink" href="#Articulo.font"></a>
    
    

                            </div>
                            <div id="Articulo.rotation_angle" class="classattr">
                                <div class="attr variable">
            <span class="name">rotation_angle</span>

        
    </div>
    <a class="headerlink" href="#Articulo.rotation_angle"></a>
    
    

                            </div>
                            <div id="Articulo.rotation_speed" class="classattr">
                                <div class="attr variable">
            <span class="name">rotation_speed</span>

        
    </div>
    <a class="headerlink" href="#Articulo.rotation_speed"></a>
    
    

                            </div>
                            <div id="Articulo.move_radius" class="classattr">
                                <div class="attr variable">
            <span class="name">move_radius</span>

        
    </div>
    <a class="headerlink" href="#Articulo.move_radius"></a>
    
    

                            </div>
                            <div id="Articulo.move_speed" class="classattr">
                                <div class="attr variable">
            <span class="name">move_speed</span>

        
    </div>
    <a class="headerlink" href="#Articulo.move_speed"></a>
    
    

                            </div>
                            <div id="Articulo.move_timer" class="classattr">
                                <div class="attr variable">
            <span class="name">move_timer</span>

        
    </div>
    <a class="headerlink" href="#Articulo.move_timer"></a>
    
    

                            </div>
                            <div id="Articulo.frames" class="classattr">
                                <div class="attr variable">
            <span class="name">frames</span>

        
    </div>
    <a class="headerlink" href="#Articulo.frames"></a>
    
    

                            </div>
                            <div id="Articulo.current_frame" class="classattr">
                                <div class="attr variable">
            <span class="name">current_frame</span>

        
    </div>
    <a class="headerlink" href="#Articulo.current_frame"></a>
    
    

                            </div>
                            <div id="Articulo.animation_timer" class="classattr">
                                <div class="attr variable">
            <span class="name">animation_timer</span>

        
    </div>
    <a class="headerlink" href="#Articulo.animation_timer"></a>
    
    

                            </div>
                            <div id="Articulo.animation_speed" class="classattr">
                                <div class="attr variable">
            <span class="name">animation_speed</span>

        
    </div>
    <a class="headerlink" href="#Articulo.animation_speed"></a>
    
    

                            </div>
                            <div id="Articulo.update" class="classattr">
                                        <input id="Articulo.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Articulo.update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Articulo.update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Articulo.update-1133"><a href="#Articulo.update-1133"><span class="linenos">1133</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Articulo.update-1134"><a href="#Articulo.update-1134"><span class="linenos">1134</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la animacin del artculo.</span>
</span><span id="Articulo.update-1135"><a href="#Articulo.update-1135"><span class="linenos">1135</span></a>
</span><span id="Articulo.update-1136"><a href="#Articulo.update-1136"><span class="linenos">1136</span></a><span class="sd">        Incluye:</span>
</span><span id="Articulo.update-1137"><a href="#Articulo.update-1137"><span class="linenos">1137</span></a><span class="sd">            - Flotacin vertical</span>
</span><span id="Articulo.update-1138"><a href="#Articulo.update-1138"><span class="linenos">1138</span></a><span class="sd">            - Movimiento circular</span>
</span><span id="Articulo.update-1139"><a href="#Articulo.update-1139"><span class="linenos">1139</span></a><span class="sd">            - Rotacin</span>
</span><span id="Articulo.update-1140"><a href="#Articulo.update-1140"><span class="linenos">1140</span></a><span class="sd">            - Animacin de frames si tiene GIF</span>
</span><span id="Articulo.update-1141"><a href="#Articulo.update-1141"><span class="linenos">1141</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Articulo.update-1142"><a href="#Articulo.update-1142"><span class="linenos">1142</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="Articulo.update-1143"><a href="#Articulo.update-1143"><span class="linenos">1143</span></a>            <span class="c1"># Animacin de flotacin vertical</span>
</span><span id="Articulo.update-1144"><a href="#Articulo.update-1144"><span class="linenos">1144</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">float_timer</span> <span class="o">+=</span> <span class="mf">0.1</span>
</span><span id="Articulo.update-1145"><a href="#Articulo.update-1145"><span class="linenos">1145</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mi">8</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">float_timer</span><span class="p">))</span>
</span><span id="Articulo.update-1146"><a href="#Articulo.update-1146"><span class="linenos">1146</span></a>            
</span><span id="Articulo.update-1147"><a href="#Articulo.update-1147"><span class="linenos">1147</span></a>            <span class="c1"># Animacin de movimiento circular</span>
</span><span id="Articulo.update-1148"><a href="#Articulo.update-1148"><span class="linenos">1148</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">move_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">move_speed</span>
</span><span id="Articulo.update-1149"><a href="#Articulo.update-1149"><span class="linenos">1149</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_x</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">move_radius</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">move_timer</span><span class="p">))</span>
</span><span id="Articulo.update-1150"><a href="#Articulo.update-1150"><span class="linenos">1150</span></a>            
</span><span id="Articulo.update-1151"><a href="#Articulo.update-1151"><span class="linenos">1151</span></a>            <span class="c1"># Animacin de giro</span>
</span><span id="Articulo.update-1152"><a href="#Articulo.update-1152"><span class="linenos">1152</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_speed</span>
</span><span id="Articulo.update-1153"><a href="#Articulo.update-1153"><span class="linenos">1153</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">&gt;=</span> <span class="mi">360</span><span class="p">:</span>
</span><span id="Articulo.update-1154"><a href="#Articulo.update-1154"><span class="linenos">1154</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo.update-1155"><a href="#Articulo.update-1155"><span class="linenos">1155</span></a>            
</span><span id="Articulo.update-1156"><a href="#Articulo.update-1156"><span class="linenos">1156</span></a>            <span class="c1"># Animacin de frames del GIF</span>
</span><span id="Articulo.update-1157"><a href="#Articulo.update-1157"><span class="linenos">1157</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="Articulo.update-1158"><a href="#Articulo.update-1158"><span class="linenos">1158</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="Articulo.update-1159"><a href="#Articulo.update-1159"><span class="linenos">1159</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Articulo.update-1160"><a href="#Articulo.update-1160"><span class="linenos">1160</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Articulo.update-1161"><a href="#Articulo.update-1161"><span class="linenos">1161</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza la animacin del artculo.</p>

<p>Incluye:
    - Flotacin vertical
    - Movimiento circular
    - Rotacin
    - Animacin de frames si tiene GIF</p>
</div>


                            </div>
                            <div id="Articulo.draw" class="classattr">
                                        <input id="Articulo.draw-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">draw</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">screen</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Articulo.draw-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Articulo.draw"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Articulo.draw-1163"><a href="#Articulo.draw-1163"><span class="linenos">1163</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="Articulo.draw-1164"><a href="#Articulo.draw-1164"><span class="linenos">1164</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja el artculo en pantalla.</span>
</span><span id="Articulo.draw-1165"><a href="#Articulo.draw-1165"><span class="linenos">1165</span></a>
</span><span id="Articulo.draw-1166"><a href="#Articulo.draw-1166"><span class="linenos">1166</span></a><span class="sd">        Si tiene GIF, dibuja el frame actual rotado; </span>
</span><span id="Articulo.draw-1167"><a href="#Articulo.draw-1167"><span class="linenos">1167</span></a><span class="sd">        si no, dibuja un crculo con efecto de rotacin.</span>
</span><span id="Articulo.draw-1168"><a href="#Articulo.draw-1168"><span class="linenos">1168</span></a>
</span><span id="Articulo.draw-1169"><a href="#Articulo.draw-1169"><span class="linenos">1169</span></a><span class="sd">        Args:</span>
</span><span id="Articulo.draw-1170"><a href="#Articulo.draw-1170"><span class="linenos">1170</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja el artculo.</span>
</span><span id="Articulo.draw-1171"><a href="#Articulo.draw-1171"><span class="linenos">1171</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Articulo.draw-1172"><a href="#Articulo.draw-1172"><span class="linenos">1172</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="Articulo.draw-1173"><a href="#Articulo.draw-1173"><span class="linenos">1173</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="Articulo.draw-1174"><a href="#Articulo.draw-1174"><span class="linenos">1174</span></a>                <span class="c1"># Aplicar rotacin al frame actual</span>
</span><span id="Articulo.draw-1175"><a href="#Articulo.draw-1175"><span class="linenos">1175</span></a>                <span class="n">rotated_frame</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span><span class="p">)</span>
</span><span id="Articulo.draw-1176"><a href="#Articulo.draw-1176"><span class="linenos">1176</span></a>                <span class="n">frame_rect</span> <span class="o">=</span> <span class="n">rotated_frame</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">)</span>
</span><span id="Articulo.draw-1177"><a href="#Articulo.draw-1177"><span class="linenos">1177</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">rotated_frame</span><span class="p">,</span> <span class="n">frame_rect</span><span class="p">)</span>
</span><span id="Articulo.draw-1178"><a href="#Articulo.draw-1178"><span class="linenos">1178</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Articulo.draw-1179"><a href="#Articulo.draw-1179"><span class="linenos">1179</span></a>                <span class="c1"># Dibujar crculo con rotacin visual</span>
</span><span id="Articulo.draw-1180"><a href="#Articulo.draw-1180"><span class="linenos">1180</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="Articulo.draw-1181"><a href="#Articulo.draw-1181"><span class="linenos">1181</span></a>                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="Articulo.draw-1182"><a href="#Articulo.draw-1182"><span class="linenos">1182</span></a>                
</span><span id="Articulo.draw-1183"><a href="#Articulo.draw-1183"><span class="linenos">1183</span></a>                <span class="c1"># Dibujar efecto de giro con lneas</span>
</span><span id="Articulo.draw-1184"><a href="#Articulo.draw-1184"><span class="linenos">1184</span></a>                <span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span>
</span><span id="Articulo.draw-1185"><a href="#Articulo.draw-1185"><span class="linenos">1185</span></a>                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">45</span><span class="p">):</span>
</span><span id="Articulo.draw-1186"><a href="#Articulo.draw-1186"><span class="linenos">1186</span></a>                    <span class="n">angle_rad</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_angle</span><span class="p">)</span>
</span><span id="Articulo.draw-1187"><a href="#Articulo.draw-1187"><span class="linenos">1187</span></a>                    <span class="n">end_x</span> <span class="o">=</span> <span class="n">center_x</span> <span class="o">+</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle_rad</span><span class="p">))</span>
</span><span id="Articulo.draw-1188"><a href="#Articulo.draw-1188"><span class="linenos">1188</span></a>                    <span class="n">end_y</span> <span class="o">=</span> <span class="n">center_y</span> <span class="o">+</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">//</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle_rad</span><span class="p">))</span>
</span><span id="Articulo.draw-1189"><a href="#Articulo.draw-1189"><span class="linenos">1189</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="p">(</span><span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span><span class="p">),</span> <span class="p">(</span><span class="n">end_x</span><span class="p">,</span> <span class="n">end_y</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="Articulo.draw-1190"><a href="#Articulo.draw-1190"><span class="linenos">1190</span></a>            
</span><span id="Articulo.draw-1191"><a href="#Articulo.draw-1191"><span class="linenos">1191</span></a>            <span class="c1"># Texto con sombra para mejor visibilidad</span>
</span><span id="Articulo.draw-1192"><a href="#Articulo.draw-1192"><span class="linenos">1192</span></a>            <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="Articulo.draw-1193"><a href="#Articulo.draw-1193"><span class="linenos">1193</span></a>            <span class="n">text_shadow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">)</span>
</span><span id="Articulo.draw-1194"><a href="#Articulo.draw-1194"><span class="linenos">1194</span></a>            <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mi">15</span><span class="p">))</span>
</span><span id="Articulo.draw-1195"><a href="#Articulo.draw-1195"><span class="linenos">1195</span></a>            <span class="n">shadow_rect</span> <span class="o">=</span> <span class="n">text_shadow</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mi">16</span><span class="p">))</span>
</span><span id="Articulo.draw-1196"><a href="#Articulo.draw-1196"><span class="linenos">1196</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_shadow</span><span class="p">,</span> <span class="n">shadow_rect</span><span class="p">)</span>
</span><span id="Articulo.draw-1197"><a href="#Articulo.draw-1197"><span class="linenos">1197</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dibuja el artculo en pantalla.</p>

<p>Si tiene GIF, dibuja el frame actual rotado; 
si no, dibuja un crculo con efecto de rotacin.</p>

<p>Args:
    screen (pygame.Surface): Superficie donde se dibuja el artculo.</p>
</div>


                            </div>
                </section>
                <section id="MochilaVisual">
                            <input id="MochilaVisual-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">MochilaVisual</span>:

                <label class="view-source-button" for="MochilaVisual-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MochilaVisual"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MochilaVisual-1199"><a href="#MochilaVisual-1199"><span class="linenos">1199</span></a><span class="k">class</span><span class="w"> </span><span class="nc">MochilaVisual</span><span class="p">:</span>
</span><span id="MochilaVisual-1200"><a href="#MochilaVisual-1200"><span class="linenos">1200</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase para la mochila visual donde se guardan las illas recolectadas&quot;&quot;&quot;</span>
</span><span id="MochilaVisual-1201"><a href="#MochilaVisual-1201"><span class="linenos">1201</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MochilaVisual-1202"><a href="#MochilaVisual-1202"><span class="linenos">1202</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la mochila visual y prepara los atributos para mostrar las illas recolectadas.&quot;&quot;&quot;</span>
</span><span id="MochilaVisual-1203"><a href="#MochilaVisual-1203"><span class="linenos">1203</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">300</span>  <span class="c1"># Aumentado para mostrar ms illas</span>
</span><span id="MochilaVisual-1204"><a href="#MochilaVisual-1204"><span class="linenos">1204</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">400</span>  <span class="c1"># Aumentado para mostrar GIFs de illas</span>
</span><span id="MochilaVisual-1205"><a href="#MochilaVisual-1205"><span class="linenos">1205</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>  <span class="c1"># Centrado horizontalmente</span>
</span><span id="MochilaVisual-1206"><a href="#MochilaVisual-1206"><span class="linenos">1206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>  <span class="c1"># Centrado verticalmente</span>
</span><span id="MochilaVisual-1207"><a href="#MochilaVisual-1207"><span class="linenos">1207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="MochilaVisual-1208"><a href="#MochilaVisual-1208"><span class="linenos">1208</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="MochilaVisual-1209"><a href="#MochilaVisual-1209"><span class="linenos">1209</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
</span><span id="MochilaVisual-1210"><a href="#MochilaVisual-1210"><span class="linenos">1210</span></a>        
</span><span id="MochilaVisual-1211"><a href="#MochilaVisual-1211"><span class="linenos">1211</span></a>        <span class="c1"># Estado de mostrar/ocultar mochila</span>
</span><span id="MochilaVisual-1212"><a href="#MochilaVisual-1212"><span class="linenos">1212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="MochilaVisual-1213"><a href="#MochilaVisual-1213"><span class="linenos">1213</span></a>        
</span><span id="MochilaVisual-1214"><a href="#MochilaVisual-1214"><span class="linenos">1214</span></a>        <span class="c1"># Cargar GIF de la mochila si existe</span>
</span><span id="MochilaVisual-1215"><a href="#MochilaVisual-1215"><span class="linenos">1215</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="MochilaVisual-1216"><a href="#MochilaVisual-1216"><span class="linenos">1216</span></a>        <span class="n">mochila_path</span> <span class="o">=</span> <span class="s2">&quot;illas/mochila.gif&quot;</span>  <span class="c1"># Ruta actualizada</span>
</span><span id="MochilaVisual-1217"><a href="#MochilaVisual-1217"><span class="linenos">1217</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">mochila_path</span><span class="p">):</span>
</span><span id="MochilaVisual-1218"><a href="#MochilaVisual-1218"><span class="linenos">1218</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">mochila_path</span><span class="p">)</span>
</span><span id="MochilaVisual-1219"><a href="#MochilaVisual-1219"><span class="linenos">1219</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">:</span>
</span><span id="MochilaVisual-1220"><a href="#MochilaVisual-1220"><span class="linenos">1220</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">]</span>
</span><span id="MochilaVisual-1221"><a href="#MochilaVisual-1221"><span class="linenos">1221</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MochilaVisual-1222"><a href="#MochilaVisual-1222"><span class="linenos">1222</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MochilaVisual-1223"><a href="#MochilaVisual-1223"><span class="linenos">1223</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="MochilaVisual-1224"><a href="#MochilaVisual-1224"><span class="linenos">1224</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="MochilaVisual-1225"><a href="#MochilaVisual-1225"><span class="linenos">1225</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="MochilaVisual-1226"><a href="#MochilaVisual-1226"><span class="linenos">1226</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="MochilaVisual-1227"><a href="#MochilaVisual-1227"><span class="linenos">1227</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MochilaVisual-1228"><a href="#MochilaVisual-1228"><span class="linenos">1228</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="MochilaVisual-1229"><a href="#MochilaVisual-1229"><span class="linenos">1229</span></a>        
</span><span id="MochilaVisual-1230"><a href="#MochilaVisual-1230"><span class="linenos">1230</span></a>        <span class="c1"># Cache de GIFs de illas para mostrar en la mochila</span>
</span><span id="MochilaVisual-1231"><a href="#MochilaVisual-1231"><span class="linenos">1231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="MochilaVisual-1232"><a href="#MochilaVisual-1232"><span class="linenos">1232</span></a>    
</span><span id="MochilaVisual-1233"><a href="#MochilaVisual-1233"><span class="linenos">1233</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">agregar_illa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">illa_name</span><span class="p">):</span>
</span><span id="MochilaVisual-1234"><a href="#MochilaVisual-1234"><span class="linenos">1234</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Agregar una illa a la mochila</span>
</span><span id="MochilaVisual-1235"><a href="#MochilaVisual-1235"><span class="linenos">1235</span></a><span class="sd">        </span>
</span><span id="MochilaVisual-1236"><a href="#MochilaVisual-1236"><span class="linenos">1236</span></a><span class="sd">        Args:</span>
</span><span id="MochilaVisual-1237"><a href="#MochilaVisual-1237"><span class="linenos">1237</span></a><span class="sd">            illa_name (str): Nombre de la illa a agregar.</span>
</span><span id="MochilaVisual-1238"><a href="#MochilaVisual-1238"><span class="linenos">1238</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MochilaVisual-1239"><a href="#MochilaVisual-1239"><span class="linenos">1239</span></a>        <span class="k">if</span> <span class="n">illa_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">:</span>
</span><span id="MochilaVisual-1240"><a href="#MochilaVisual-1240"><span class="linenos">1240</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">illa_name</span><span class="p">)</span>
</span><span id="MochilaVisual-1241"><a href="#MochilaVisual-1241"><span class="linenos">1241</span></a>            <span class="c1"># Cargar GIF de la illa si no est en cache</span>
</span><span id="MochilaVisual-1242"><a href="#MochilaVisual-1242"><span class="linenos">1242</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cargar_gif_illa</span><span class="p">(</span><span class="n">illa_name</span><span class="p">)</span>
</span><span id="MochilaVisual-1243"><a href="#MochilaVisual-1243"><span class="linenos">1243</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Illa </span><span class="si">{</span><span class="n">illa_name</span><span class="si">}</span><span class="s2"> guardada en la mochila!&quot;</span><span class="p">)</span>
</span><span id="MochilaVisual-1244"><a href="#MochilaVisual-1244"><span class="linenos">1244</span></a>    
</span><span id="MochilaVisual-1245"><a href="#MochilaVisual-1245"><span class="linenos">1245</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_cargar_gif_illa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">illa_name</span><span class="p">):</span>
</span><span id="MochilaVisual-1246"><a href="#MochilaVisual-1246"><span class="linenos">1246</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Cargar el GIF de una illa especfica</span>
</span><span id="MochilaVisual-1247"><a href="#MochilaVisual-1247"><span class="linenos">1247</span></a><span class="sd">        </span>
</span><span id="MochilaVisual-1248"><a href="#MochilaVisual-1248"><span class="linenos">1248</span></a><span class="sd">        Args:</span>
</span><span id="MochilaVisual-1249"><a href="#MochilaVisual-1249"><span class="linenos">1249</span></a><span class="sd">            illa_name (str): Nombre de la illa cuyo GIF se va a cargar.</span>
</span><span id="MochilaVisual-1250"><a href="#MochilaVisual-1250"><span class="linenos">1250</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MochilaVisual-1251"><a href="#MochilaVisual-1251"><span class="linenos">1251</span></a>        <span class="k">if</span> <span class="n">illa_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">:</span>
</span><span id="MochilaVisual-1252"><a href="#MochilaVisual-1252"><span class="linenos">1252</span></a>            <span class="k">if</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="n">ILLAS_GIFS</span><span class="p">:</span>
</span><span id="MochilaVisual-1253"><a href="#MochilaVisual-1253"><span class="linenos">1253</span></a>                <span class="n">gif_path</span> <span class="o">=</span> <span class="n">ILLAS_GIFS</span><span class="p">[</span><span class="n">illa_name</span><span class="p">]</span>
</span><span id="MochilaVisual-1254"><a href="#MochilaVisual-1254"><span class="linenos">1254</span></a>                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">gif_path</span><span class="p">):</span>
</span><span id="MochilaVisual-1255"><a href="#MochilaVisual-1255"><span class="linenos">1255</span></a>                    <span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="MochilaVisual-1256"><a href="#MochilaVisual-1256"><span class="linenos">1256</span></a>                    <span class="k">if</span> <span class="n">frames</span><span class="p">:</span>
</span><span id="MochilaVisual-1257"><a href="#MochilaVisual-1257"><span class="linenos">1257</span></a>                        <span class="c1"># Redimensionar frames para la mochila</span>
</span><span id="MochilaVisual-1258"><a href="#MochilaVisual-1258"><span class="linenos">1258</span></a>                        <span class="n">size_illa</span> <span class="o">=</span> <span class="mi">40</span>  <span class="c1"># Tamao de illa en la mochila</span>
</span><span id="MochilaVisual-1259"><a href="#MochilaVisual-1259"><span class="linenos">1259</span></a>                        <span class="n">frames_resized</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">size_illa</span><span class="p">,</span> <span class="n">size_illa</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">frames</span><span class="p">]</span>
</span><span id="MochilaVisual-1260"><a href="#MochilaVisual-1260"><span class="linenos">1260</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">[</span><span class="n">illa_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="MochilaVisual-1261"><a href="#MochilaVisual-1261"><span class="linenos">1261</span></a>                            <span class="s1">&#39;frames&#39;</span><span class="p">:</span> <span class="n">frames_resized</span><span class="p">,</span>
</span><span id="MochilaVisual-1262"><a href="#MochilaVisual-1262"><span class="linenos">1262</span></a>                            <span class="s1">&#39;current_frame&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="MochilaVisual-1263"><a href="#MochilaVisual-1263"><span class="linenos">1263</span></a>                            <span class="s1">&#39;animation_timer&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="MochilaVisual-1264"><a href="#MochilaVisual-1264"><span class="linenos">1264</span></a>                            <span class="s1">&#39;animation_speed&#39;</span><span class="p">:</span> <span class="mf">0.1</span>
</span><span id="MochilaVisual-1265"><a href="#MochilaVisual-1265"><span class="linenos">1265</span></a>                        <span class="p">}</span>
</span><span id="MochilaVisual-1266"><a href="#MochilaVisual-1266"><span class="linenos">1266</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; GIF de </span><span class="si">{</span><span class="n">illa_name</span><span class="si">}</span><span class="s2"> cargado para la mochila&quot;</span><span class="p">)</span>
</span><span id="MochilaVisual-1267"><a href="#MochilaVisual-1267"><span class="linenos">1267</span></a>    
</span><span id="MochilaVisual-1268"><a href="#MochilaVisual-1268"><span class="linenos">1268</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">alternar_visibilidad</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MochilaVisual-1269"><a href="#MochilaVisual-1269"><span class="linenos">1269</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Alternar entre mostrar y ocultar la mochila&quot;&quot;&quot;</span>
</span><span id="MochilaVisual-1270"><a href="#MochilaVisual-1270"><span class="linenos">1270</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span>
</span><span id="MochilaVisual-1271"><a href="#MochilaVisual-1271"><span class="linenos">1271</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Mochila </span><span class="si">{</span><span class="s1">&#39;abierta&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;cerrada&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MochilaVisual-1272"><a href="#MochilaVisual-1272"><span class="linenos">1272</span></a>    
</span><span id="MochilaVisual-1273"><a href="#MochilaVisual-1273"><span class="linenos">1273</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MochilaVisual-1274"><a href="#MochilaVisual-1274"><span class="linenos">1274</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualizar animacin de la mochila y las illas</span>
</span><span id="MochilaVisual-1275"><a href="#MochilaVisual-1275"><span class="linenos">1275</span></a><span class="sd">        </span>
</span><span id="MochilaVisual-1276"><a href="#MochilaVisual-1276"><span class="linenos">1276</span></a><span class="sd">        Args:</span>
</span><span id="MochilaVisual-1277"><a href="#MochilaVisual-1277"><span class="linenos">1277</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la mochila.</span>
</span><span id="MochilaVisual-1278"><a href="#MochilaVisual-1278"><span class="linenos">1278</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MochilaVisual-1279"><a href="#MochilaVisual-1279"><span class="linenos">1279</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span><span class="p">:</span>
</span><span id="MochilaVisual-1280"><a href="#MochilaVisual-1280"><span class="linenos">1280</span></a>            <span class="c1"># Actualizar animacin de la mochila</span>
</span><span id="MochilaVisual-1281"><a href="#MochilaVisual-1281"><span class="linenos">1281</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span><span class="p">:</span>
</span><span id="MochilaVisual-1282"><a href="#MochilaVisual-1282"><span class="linenos">1282</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="MochilaVisual-1283"><a href="#MochilaVisual-1283"><span class="linenos">1283</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="MochilaVisual-1284"><a href="#MochilaVisual-1284"><span class="linenos">1284</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MochilaVisual-1285"><a href="#MochilaVisual-1285"><span class="linenos">1285</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">)</span>
</span><span id="MochilaVisual-1286"><a href="#MochilaVisual-1286"><span class="linenos">1286</span></a>            
</span><span id="MochilaVisual-1287"><a href="#MochilaVisual-1287"><span class="linenos">1287</span></a>            <span class="c1"># Actualizar animaciones de las illas</span>
</span><span id="MochilaVisual-1288"><a href="#MochilaVisual-1288"><span class="linenos">1288</span></a>            <span class="k">for</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">:</span>
</span><span id="MochilaVisual-1289"><a href="#MochilaVisual-1289"><span class="linenos">1289</span></a>                <span class="n">illa_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">[</span><span class="n">illa_name</span><span class="p">]</span>
</span><span id="MochilaVisual-1290"><a href="#MochilaVisual-1290"><span class="linenos">1290</span></a>                <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_timer&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_speed&#39;</span><span class="p">]</span>
</span><span id="MochilaVisual-1291"><a href="#MochilaVisual-1291"><span class="linenos">1291</span></a>                <span class="k">if</span> <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_timer&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="MochilaVisual-1292"><a href="#MochilaVisual-1292"><span class="linenos">1292</span></a>                    <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_timer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MochilaVisual-1293"><a href="#MochilaVisual-1293"><span class="linenos">1293</span></a>                    <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;current_frame&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;current_frame&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;frames&#39;</span><span class="p">])</span>
</span><span id="MochilaVisual-1294"><a href="#MochilaVisual-1294"><span class="linenos">1294</span></a>    
</span><span id="MochilaVisual-1295"><a href="#MochilaVisual-1295"><span class="linenos">1295</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="MochilaVisual-1296"><a href="#MochilaVisual-1296"><span class="linenos">1296</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibujar la mochila completa con illas animadas&quot;&quot;&quot;</span>
</span><span id="MochilaVisual-1297"><a href="#MochilaVisual-1297"><span class="linenos">1297</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span><span class="p">:</span>
</span><span id="MochilaVisual-1298"><a href="#MochilaVisual-1298"><span class="linenos">1298</span></a>            <span class="k">return</span>
</span><span id="MochilaVisual-1299"><a href="#MochilaVisual-1299"><span class="linenos">1299</span></a>        
</span><span id="MochilaVisual-1300"><a href="#MochilaVisual-1300"><span class="linenos">1300</span></a>        <span class="c1"># Crear fondo semi-transparente</span>
</span><span id="MochilaVisual-1301"><a href="#MochilaVisual-1301"><span class="linenos">1301</span></a>        <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="MochilaVisual-1302"><a href="#MochilaVisual-1302"><span class="linenos">1302</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
</span><span id="MochilaVisual-1303"><a href="#MochilaVisual-1303"><span class="linenos">1303</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="MochilaVisual-1304"><a href="#MochilaVisual-1304"><span class="linenos">1304</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="MochilaVisual-1305"><a href="#MochilaVisual-1305"><span class="linenos">1305</span></a>        
</span><span id="MochilaVisual-1306"><a href="#MochilaVisual-1306"><span class="linenos">1306</span></a>        <span class="c1"># Dibujar fondo de la mochila</span>
</span><span id="MochilaVisual-1307"><a href="#MochilaVisual-1307"><span class="linenos">1307</span></a>        <span class="n">mochila_rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="MochilaVisual-1308"><a href="#MochilaVisual-1308"><span class="linenos">1308</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">33</span><span class="p">),</span> <span class="n">mochila_rect</span><span class="p">)</span>
</span><span id="MochilaVisual-1309"><a href="#MochilaVisual-1309"><span class="linenos">1309</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="n">mochila_rect</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="MochilaVisual-1310"><a href="#MochilaVisual-1310"><span class="linenos">1310</span></a>        
</span><span id="MochilaVisual-1311"><a href="#MochilaVisual-1311"><span class="linenos">1311</span></a>        <span class="c1"># Dibujar GIF de la mochila si existe</span>
</span><span id="MochilaVisual-1312"><a href="#MochilaVisual-1312"><span class="linenos">1312</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span><span class="p">:</span>
</span><span id="MochilaVisual-1313"><a href="#MochilaVisual-1313"><span class="linenos">1313</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span><span class="p">],</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
</span><span id="MochilaVisual-1314"><a href="#MochilaVisual-1314"><span class="linenos">1314</span></a>        
</span><span id="MochilaVisual-1315"><a href="#MochilaVisual-1315"><span class="linenos">1315</span></a>        <span class="c1"># Ttulo de la mochila</span>
</span><span id="MochilaVisual-1316"><a href="#MochilaVisual-1316"><span class="linenos">1316</span></a>        <span class="n">title_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;MOCHILA DE EKEKO&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="MochilaVisual-1317"><a href="#MochilaVisual-1317"><span class="linenos">1317</span></a>        <span class="n">title_rect</span> <span class="o">=</span> <span class="n">title_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="MochilaVisual-1318"><a href="#MochilaVisual-1318"><span class="linenos">1318</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">title_text</span><span class="p">,</span> <span class="n">title_rect</span><span class="p">)</span>
</span><span id="MochilaVisual-1319"><a href="#MochilaVisual-1319"><span class="linenos">1319</span></a>        
</span><span id="MochilaVisual-1320"><a href="#MochilaVisual-1320"><span class="linenos">1320</span></a>        <span class="c1"># Contador de illas</span>
</span><span id="MochilaVisual-1321"><a href="#MochilaVisual-1321"><span class="linenos">1321</span></a>        <span class="n">illas_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Illas Recolectadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span>
</span><span id="MochilaVisual-1322"><a href="#MochilaVisual-1322"><span class="linenos">1322</span></a>        <span class="n">count_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">illas_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="MochilaVisual-1323"><a href="#MochilaVisual-1323"><span class="linenos">1323</span></a>        <span class="n">count_rect</span> <span class="o">=</span> <span class="n">count_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">45</span><span class="p">))</span>
</span><span id="MochilaVisual-1324"><a href="#MochilaVisual-1324"><span class="linenos">1324</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">count_text</span><span class="p">,</span> <span class="n">count_rect</span><span class="p">)</span>
</span><span id="MochilaVisual-1325"><a href="#MochilaVisual-1325"><span class="linenos">1325</span></a>        
</span><span id="MochilaVisual-1326"><a href="#MochilaVisual-1326"><span class="linenos">1326</span></a>        <span class="c1"># Dibujar illas con sus GIFs animados</span>
</span><span id="MochilaVisual-1327"><a href="#MochilaVisual-1327"><span class="linenos">1327</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">:</span>
</span><span id="MochilaVisual-1328"><a href="#MochilaVisual-1328"><span class="linenos">1328</span></a>            <span class="n">start_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">70</span>
</span><span id="MochilaVisual-1329"><a href="#MochilaVisual-1329"><span class="linenos">1329</span></a>            <span class="n">illas_por_fila</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># 4 illas por fila</span>
</span><span id="MochilaVisual-1330"><a href="#MochilaVisual-1330"><span class="linenos">1330</span></a>            <span class="n">spacing_x</span> <span class="o">=</span> <span class="mi">60</span>
</span><span id="MochilaVisual-1331"><a href="#MochilaVisual-1331"><span class="linenos">1331</span></a>            <span class="n">spacing_y</span> <span class="o">=</span> <span class="mi">60</span>
</span><span id="MochilaVisual-1332"><a href="#MochilaVisual-1332"><span class="linenos">1332</span></a>            
</span><span id="MochilaVisual-1333"><a href="#MochilaVisual-1333"><span class="linenos">1333</span></a>            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">):</span>
</span><span id="MochilaVisual-1334"><a href="#MochilaVisual-1334"><span class="linenos">1334</span></a>                <span class="n">fila</span> <span class="o">=</span> <span class="n">i</span> <span class="o">//</span> <span class="n">illas_por_fila</span>
</span><span id="MochilaVisual-1335"><a href="#MochilaVisual-1335"><span class="linenos">1335</span></a>                <span class="n">columna</span> <span class="o">=</span> <span class="n">i</span> <span class="o">%</span> <span class="n">illas_por_fila</span>
</span><span id="MochilaVisual-1336"><a href="#MochilaVisual-1336"><span class="linenos">1336</span></a>                
</span><span id="MochilaVisual-1337"><a href="#MochilaVisual-1337"><span class="linenos">1337</span></a>                <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span> <span class="o">+</span> <span class="p">(</span><span class="n">columna</span> <span class="o">*</span> <span class="n">spacing_x</span><span class="p">)</span>
</span><span id="MochilaVisual-1338"><a href="#MochilaVisual-1338"><span class="linenos">1338</span></a>                <span class="n">y</span> <span class="o">=</span> <span class="n">start_y</span> <span class="o">+</span> <span class="p">(</span><span class="n">fila</span> <span class="o">*</span> <span class="n">spacing_y</span><span class="p">)</span>
</span><span id="MochilaVisual-1339"><a href="#MochilaVisual-1339"><span class="linenos">1339</span></a>                
</span><span id="MochilaVisual-1340"><a href="#MochilaVisual-1340"><span class="linenos">1340</span></a>                <span class="c1"># Dibujar GIF de la illa si est en cache</span>
</span><span id="MochilaVisual-1341"><a href="#MochilaVisual-1341"><span class="linenos">1341</span></a>                <span class="k">if</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">:</span>
</span><span id="MochilaVisual-1342"><a href="#MochilaVisual-1342"><span class="linenos">1342</span></a>                    <span class="n">illa_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">[</span><span class="n">illa_name</span><span class="p">]</span>
</span><span id="MochilaVisual-1343"><a href="#MochilaVisual-1343"><span class="linenos">1343</span></a>                    <span class="n">current_frame</span> <span class="o">=</span> <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;frames&#39;</span><span class="p">][</span><span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;current_frame&#39;</span><span class="p">]]</span>
</span><span id="MochilaVisual-1344"><a href="#MochilaVisual-1344"><span class="linenos">1344</span></a>                    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">current_frame</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</span><span id="MochilaVisual-1345"><a href="#MochilaVisual-1345"><span class="linenos">1345</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="MochilaVisual-1346"><a href="#MochilaVisual-1346"><span class="linenos">1346</span></a>                    <span class="c1"># Dibujar crculo como fallback</span>
</span><span id="MochilaVisual-1347"><a href="#MochilaVisual-1347"><span class="linenos">1347</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">20</span><span class="p">),</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="MochilaVisual-1348"><a href="#MochilaVisual-1348"><span class="linenos">1348</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">20</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="MochilaVisual-1349"><a href="#MochilaVisual-1349"><span class="linenos">1349</span></a>                
</span><span id="MochilaVisual-1350"><a href="#MochilaVisual-1350"><span class="linenos">1350</span></a>                <span class="c1"># Dibujar nombre de la illa</span>
</span><span id="MochilaVisual-1351"><a href="#MochilaVisual-1351"><span class="linenos">1351</span></a>                <span class="n">nombre_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">illa_name</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="MochilaVisual-1352"><a href="#MochilaVisual-1352"><span class="linenos">1352</span></a>                <span class="n">nombre_rect</span> <span class="o">=</span> <span class="n">nombre_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">45</span><span class="p">))</span>
</span><span id="MochilaVisual-1353"><a href="#MochilaVisual-1353"><span class="linenos">1353</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">nombre_text</span><span class="p">,</span> <span class="n">nombre_rect</span><span class="p">)</span>
</span><span id="MochilaVisual-1354"><a href="#MochilaVisual-1354"><span class="linenos">1354</span></a>                
</span><span id="MochilaVisual-1355"><a href="#MochilaVisual-1355"><span class="linenos">1355</span></a>                <span class="c1"># Si hay muchas illas, mostrar scroll</span>
</span><span id="MochilaVisual-1356"><a href="#MochilaVisual-1356"><span class="linenos">1356</span></a>                <span class="k">if</span> <span class="n">fila</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>  <span class="c1"># Mximo 4 filas visibles</span>
</span><span id="MochilaVisual-1357"><a href="#MochilaVisual-1357"><span class="linenos">1357</span></a>                    <span class="n">scroll_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GRAY</span><span class="p">)</span>
</span><span id="MochilaVisual-1358"><a href="#MochilaVisual-1358"><span class="linenos">1358</span></a>                    <span class="n">scroll_rect</span> <span class="o">=</span> <span class="n">scroll_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">30</span><span class="p">))</span>
</span><span id="MochilaVisual-1359"><a href="#MochilaVisual-1359"><span class="linenos">1359</span></a>                    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">scroll_text</span><span class="p">,</span> <span class="n">scroll_rect</span><span class="p">)</span>
</span><span id="MochilaVisual-1360"><a href="#MochilaVisual-1360"><span class="linenos">1360</span></a>                    <span class="k">break</span>
</span><span id="MochilaVisual-1361"><a href="#MochilaVisual-1361"><span class="linenos">1361</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MochilaVisual-1362"><a href="#MochilaVisual-1362"><span class="linenos">1362</span></a>            <span class="c1"># Mensaje cuando no hay illas</span>
</span><span id="MochilaVisual-1363"><a href="#MochilaVisual-1363"><span class="linenos">1363</span></a>            <span class="n">empty_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;No hay illas recolectadas&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GRAY</span><span class="p">)</span>
</span><span id="MochilaVisual-1364"><a href="#MochilaVisual-1364"><span class="linenos">1364</span></a>            <span class="n">empty_rect</span> <span class="o">=</span> <span class="n">empty_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">//</span> <span class="mi">2</span><span class="p">))</span>
</span><span id="MochilaVisual-1365"><a href="#MochilaVisual-1365"><span class="linenos">1365</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">empty_text</span><span class="p">,</span> <span class="n">empty_rect</span><span class="p">)</span>
</span><span id="MochilaVisual-1366"><a href="#MochilaVisual-1366"><span class="linenos">1366</span></a>        
</span><span id="MochilaVisual-1367"><a href="#MochilaVisual-1367"><span class="linenos">1367</span></a>        <span class="c1"># Instrucciones para cerrar</span>
</span><span id="MochilaVisual-1368"><a href="#MochilaVisual-1368"><span class="linenos">1368</span></a>        <span class="n">close_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Presiona J para cerrar la mochila&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="MochilaVisual-1369"><a href="#MochilaVisual-1369"><span class="linenos">1369</span></a>        <span class="n">close_rect</span> <span class="o">=</span> <span class="n">close_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="MochilaVisual-1370"><a href="#MochilaVisual-1370"><span class="linenos">1370</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">close_text</span><span class="p">,</span> <span class="n">close_rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Clase para la mochila visual donde se guardan las illas recolectadas</p>
</div>


                            <div id="MochilaVisual.__init__" class="classattr">
                                        <input id="MochilaVisual.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">MochilaVisual</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="MochilaVisual.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MochilaVisual.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MochilaVisual.__init__-1201"><a href="#MochilaVisual.__init__-1201"><span class="linenos">1201</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MochilaVisual.__init__-1202"><a href="#MochilaVisual.__init__-1202"><span class="linenos">1202</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la mochila visual y prepara los atributos para mostrar las illas recolectadas.&quot;&quot;&quot;</span>
</span><span id="MochilaVisual.__init__-1203"><a href="#MochilaVisual.__init__-1203"><span class="linenos">1203</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">300</span>  <span class="c1"># Aumentado para mostrar ms illas</span>
</span><span id="MochilaVisual.__init__-1204"><a href="#MochilaVisual.__init__-1204"><span class="linenos">1204</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">400</span>  <span class="c1"># Aumentado para mostrar GIFs de illas</span>
</span><span id="MochilaVisual.__init__-1205"><a href="#MochilaVisual.__init__-1205"><span class="linenos">1205</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>  <span class="c1"># Centrado horizontalmente</span>
</span><span id="MochilaVisual.__init__-1206"><a href="#MochilaVisual.__init__-1206"><span class="linenos">1206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>  <span class="c1"># Centrado verticalmente</span>
</span><span id="MochilaVisual.__init__-1207"><a href="#MochilaVisual.__init__-1207"><span class="linenos">1207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="MochilaVisual.__init__-1208"><a href="#MochilaVisual.__init__-1208"><span class="linenos">1208</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="MochilaVisual.__init__-1209"><a href="#MochilaVisual.__init__-1209"><span class="linenos">1209</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
</span><span id="MochilaVisual.__init__-1210"><a href="#MochilaVisual.__init__-1210"><span class="linenos">1210</span></a>        
</span><span id="MochilaVisual.__init__-1211"><a href="#MochilaVisual.__init__-1211"><span class="linenos">1211</span></a>        <span class="c1"># Estado de mostrar/ocultar mochila</span>
</span><span id="MochilaVisual.__init__-1212"><a href="#MochilaVisual.__init__-1212"><span class="linenos">1212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="MochilaVisual.__init__-1213"><a href="#MochilaVisual.__init__-1213"><span class="linenos">1213</span></a>        
</span><span id="MochilaVisual.__init__-1214"><a href="#MochilaVisual.__init__-1214"><span class="linenos">1214</span></a>        <span class="c1"># Cargar GIF de la mochila si existe</span>
</span><span id="MochilaVisual.__init__-1215"><a href="#MochilaVisual.__init__-1215"><span class="linenos">1215</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="MochilaVisual.__init__-1216"><a href="#MochilaVisual.__init__-1216"><span class="linenos">1216</span></a>        <span class="n">mochila_path</span> <span class="o">=</span> <span class="s2">&quot;illas/mochila.gif&quot;</span>  <span class="c1"># Ruta actualizada</span>
</span><span id="MochilaVisual.__init__-1217"><a href="#MochilaVisual.__init__-1217"><span class="linenos">1217</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">mochila_path</span><span class="p">):</span>
</span><span id="MochilaVisual.__init__-1218"><a href="#MochilaVisual.__init__-1218"><span class="linenos">1218</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">mochila_path</span><span class="p">)</span>
</span><span id="MochilaVisual.__init__-1219"><a href="#MochilaVisual.__init__-1219"><span class="linenos">1219</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">:</span>
</span><span id="MochilaVisual.__init__-1220"><a href="#MochilaVisual.__init__-1220"><span class="linenos">1220</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">]</span>
</span><span id="MochilaVisual.__init__-1221"><a href="#MochilaVisual.__init__-1221"><span class="linenos">1221</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MochilaVisual.__init__-1222"><a href="#MochilaVisual.__init__-1222"><span class="linenos">1222</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MochilaVisual.__init__-1223"><a href="#MochilaVisual.__init__-1223"><span class="linenos">1223</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="MochilaVisual.__init__-1224"><a href="#MochilaVisual.__init__-1224"><span class="linenos">1224</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="MochilaVisual.__init__-1225"><a href="#MochilaVisual.__init__-1225"><span class="linenos">1225</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="MochilaVisual.__init__-1226"><a href="#MochilaVisual.__init__-1226"><span class="linenos">1226</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="MochilaVisual.__init__-1227"><a href="#MochilaVisual.__init__-1227"><span class="linenos">1227</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MochilaVisual.__init__-1228"><a href="#MochilaVisual.__init__-1228"><span class="linenos">1228</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="MochilaVisual.__init__-1229"><a href="#MochilaVisual.__init__-1229"><span class="linenos">1229</span></a>        
</span><span id="MochilaVisual.__init__-1230"><a href="#MochilaVisual.__init__-1230"><span class="linenos">1230</span></a>        <span class="c1"># Cache de GIFs de illas para mostrar en la mochila</span>
</span><span id="MochilaVisual.__init__-1231"><a href="#MochilaVisual.__init__-1231"><span class="linenos">1231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span> <span class="o">=</span> <span class="p">{}</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa la mochila visual y prepara los atributos para mostrar las illas recolectadas.</p>
</div>


                            </div>
                            <div id="MochilaVisual.width" class="classattr">
                                <div class="attr variable">
            <span class="name">width</span>

        
    </div>
    <a class="headerlink" href="#MochilaVisual.width"></a>
    
    

                            </div>
                            <div id="MochilaVisual.height" class="classattr">
                                <div class="attr variable">
            <span class="name">height</span>

        
    </div>
    <a class="headerlink" href="#MochilaVisual.height"></a>
    
    

                            </div>
                            <div id="MochilaVisual.x" class="classattr">
                                <div class="attr variable">
            <span class="name">x</span>

        
    </div>
    <a class="headerlink" href="#MochilaVisual.x"></a>
    
    

                            </div>
                            <div id="MochilaVisual.y" class="classattr">
                                <div class="attr variable">
            <span class="name">y</span>

        
    </div>
    <a class="headerlink" href="#MochilaVisual.y"></a>
    
    

                            </div>
                            <div id="MochilaVisual.illas_guardadas" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_guardadas</span>

        
    </div>
    <a class="headerlink" href="#MochilaVisual.illas_guardadas"></a>
    
    

                            </div>
                            <div id="MochilaVisual.font" class="classattr">
                                <div class="attr variable">
            <span class="name">font</span>

        
    </div>
    <a class="headerlink" href="#MochilaVisual.font"></a>
    
    

                            </div>
                            <div id="MochilaVisual.font_small" class="classattr">
                                <div class="attr variable">
            <span class="name">font_small</span>

        
    </div>
    <a class="headerlink" href="#MochilaVisual.font_small"></a>
    
    

                            </div>
                            <div id="MochilaVisual.mostrar_mochila" class="classattr">
                                <div class="attr variable">
            <span class="name">mostrar_mochila</span>

        
    </div>
    <a class="headerlink" href="#MochilaVisual.mostrar_mochila"></a>
    
    

                            </div>
                            <div id="MochilaVisual.mochila_gif" class="classattr">
                                <div class="attr variable">
            <span class="name">mochila_gif</span>

        
    </div>
    <a class="headerlink" href="#MochilaVisual.mochila_gif"></a>
    
    

                            </div>
                            <div id="MochilaVisual.illas_gifs_cache" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_gifs_cache</span>

        
    </div>
    <a class="headerlink" href="#MochilaVisual.illas_gifs_cache"></a>
    
    

                            </div>
                            <div id="MochilaVisual.agregar_illa" class="classattr">
                                        <input id="MochilaVisual.agregar_illa-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">agregar_illa</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">illa_name</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MochilaVisual.agregar_illa-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MochilaVisual.agregar_illa"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MochilaVisual.agregar_illa-1233"><a href="#MochilaVisual.agregar_illa-1233"><span class="linenos">1233</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">agregar_illa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">illa_name</span><span class="p">):</span>
</span><span id="MochilaVisual.agregar_illa-1234"><a href="#MochilaVisual.agregar_illa-1234"><span class="linenos">1234</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Agregar una illa a la mochila</span>
</span><span id="MochilaVisual.agregar_illa-1235"><a href="#MochilaVisual.agregar_illa-1235"><span class="linenos">1235</span></a><span class="sd">        </span>
</span><span id="MochilaVisual.agregar_illa-1236"><a href="#MochilaVisual.agregar_illa-1236"><span class="linenos">1236</span></a><span class="sd">        Args:</span>
</span><span id="MochilaVisual.agregar_illa-1237"><a href="#MochilaVisual.agregar_illa-1237"><span class="linenos">1237</span></a><span class="sd">            illa_name (str): Nombre de la illa a agregar.</span>
</span><span id="MochilaVisual.agregar_illa-1238"><a href="#MochilaVisual.agregar_illa-1238"><span class="linenos">1238</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MochilaVisual.agregar_illa-1239"><a href="#MochilaVisual.agregar_illa-1239"><span class="linenos">1239</span></a>        <span class="k">if</span> <span class="n">illa_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">:</span>
</span><span id="MochilaVisual.agregar_illa-1240"><a href="#MochilaVisual.agregar_illa-1240"><span class="linenos">1240</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">illa_name</span><span class="p">)</span>
</span><span id="MochilaVisual.agregar_illa-1241"><a href="#MochilaVisual.agregar_illa-1241"><span class="linenos">1241</span></a>            <span class="c1"># Cargar GIF de la illa si no est en cache</span>
</span><span id="MochilaVisual.agregar_illa-1242"><a href="#MochilaVisual.agregar_illa-1242"><span class="linenos">1242</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cargar_gif_illa</span><span class="p">(</span><span class="n">illa_name</span><span class="p">)</span>
</span><span id="MochilaVisual.agregar_illa-1243"><a href="#MochilaVisual.agregar_illa-1243"><span class="linenos">1243</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Illa </span><span class="si">{</span><span class="n">illa_name</span><span class="si">}</span><span class="s2"> guardada en la mochila!&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Agregar una illa a la mochila</p>

<p>Args:
    illa_name (str): Nombre de la illa a agregar.</p>
</div>


                            </div>
                            <div id="MochilaVisual.alternar_visibilidad" class="classattr">
                                        <input id="MochilaVisual.alternar_visibilidad-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">alternar_visibilidad</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MochilaVisual.alternar_visibilidad-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MochilaVisual.alternar_visibilidad"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MochilaVisual.alternar_visibilidad-1268"><a href="#MochilaVisual.alternar_visibilidad-1268"><span class="linenos">1268</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">alternar_visibilidad</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MochilaVisual.alternar_visibilidad-1269"><a href="#MochilaVisual.alternar_visibilidad-1269"><span class="linenos">1269</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Alternar entre mostrar y ocultar la mochila&quot;&quot;&quot;</span>
</span><span id="MochilaVisual.alternar_visibilidad-1270"><a href="#MochilaVisual.alternar_visibilidad-1270"><span class="linenos">1270</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span>
</span><span id="MochilaVisual.alternar_visibilidad-1271"><a href="#MochilaVisual.alternar_visibilidad-1271"><span class="linenos">1271</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Mochila </span><span class="si">{</span><span class="s1">&#39;abierta&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;cerrada&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Alternar entre mostrar y ocultar la mochila</p>
</div>


                            </div>
                            <div id="MochilaVisual.update" class="classattr">
                                        <input id="MochilaVisual.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MochilaVisual.update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MochilaVisual.update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MochilaVisual.update-1273"><a href="#MochilaVisual.update-1273"><span class="linenos">1273</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MochilaVisual.update-1274"><a href="#MochilaVisual.update-1274"><span class="linenos">1274</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualizar animacin de la mochila y las illas</span>
</span><span id="MochilaVisual.update-1275"><a href="#MochilaVisual.update-1275"><span class="linenos">1275</span></a><span class="sd">        </span>
</span><span id="MochilaVisual.update-1276"><a href="#MochilaVisual.update-1276"><span class="linenos">1276</span></a><span class="sd">        Args:</span>
</span><span id="MochilaVisual.update-1277"><a href="#MochilaVisual.update-1277"><span class="linenos">1277</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la mochila.</span>
</span><span id="MochilaVisual.update-1278"><a href="#MochilaVisual.update-1278"><span class="linenos">1278</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MochilaVisual.update-1279"><a href="#MochilaVisual.update-1279"><span class="linenos">1279</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span><span class="p">:</span>
</span><span id="MochilaVisual.update-1280"><a href="#MochilaVisual.update-1280"><span class="linenos">1280</span></a>            <span class="c1"># Actualizar animacin de la mochila</span>
</span><span id="MochilaVisual.update-1281"><a href="#MochilaVisual.update-1281"><span class="linenos">1281</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span><span class="p">:</span>
</span><span id="MochilaVisual.update-1282"><a href="#MochilaVisual.update-1282"><span class="linenos">1282</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="MochilaVisual.update-1283"><a href="#MochilaVisual.update-1283"><span class="linenos">1283</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="MochilaVisual.update-1284"><a href="#MochilaVisual.update-1284"><span class="linenos">1284</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MochilaVisual.update-1285"><a href="#MochilaVisual.update-1285"><span class="linenos">1285</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">)</span>
</span><span id="MochilaVisual.update-1286"><a href="#MochilaVisual.update-1286"><span class="linenos">1286</span></a>            
</span><span id="MochilaVisual.update-1287"><a href="#MochilaVisual.update-1287"><span class="linenos">1287</span></a>            <span class="c1"># Actualizar animaciones de las illas</span>
</span><span id="MochilaVisual.update-1288"><a href="#MochilaVisual.update-1288"><span class="linenos">1288</span></a>            <span class="k">for</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">:</span>
</span><span id="MochilaVisual.update-1289"><a href="#MochilaVisual.update-1289"><span class="linenos">1289</span></a>                <span class="n">illa_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">[</span><span class="n">illa_name</span><span class="p">]</span>
</span><span id="MochilaVisual.update-1290"><a href="#MochilaVisual.update-1290"><span class="linenos">1290</span></a>                <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_timer&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_speed&#39;</span><span class="p">]</span>
</span><span id="MochilaVisual.update-1291"><a href="#MochilaVisual.update-1291"><span class="linenos">1291</span></a>                <span class="k">if</span> <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_timer&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="MochilaVisual.update-1292"><a href="#MochilaVisual.update-1292"><span class="linenos">1292</span></a>                    <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;animation_timer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MochilaVisual.update-1293"><a href="#MochilaVisual.update-1293"><span class="linenos">1293</span></a>                    <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;current_frame&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;current_frame&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;frames&#39;</span><span class="p">])</span>
</span></pre></div>


            <div class="docstring"><p>Actualizar animacin de la mochila y las illas</p>

<p>Args:
    screen (pygame.Surface): Superficie donde se dibuja la mochila.</p>
</div>


                            </div>
                            <div id="MochilaVisual.draw" class="classattr">
                                        <input id="MochilaVisual.draw-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">draw</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">screen</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MochilaVisual.draw-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MochilaVisual.draw"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MochilaVisual.draw-1295"><a href="#MochilaVisual.draw-1295"><span class="linenos">1295</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="MochilaVisual.draw-1296"><a href="#MochilaVisual.draw-1296"><span class="linenos">1296</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibujar la mochila completa con illas animadas&quot;&quot;&quot;</span>
</span><span id="MochilaVisual.draw-1297"><a href="#MochilaVisual.draw-1297"><span class="linenos">1297</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mochila</span><span class="p">:</span>
</span><span id="MochilaVisual.draw-1298"><a href="#MochilaVisual.draw-1298"><span class="linenos">1298</span></a>            <span class="k">return</span>
</span><span id="MochilaVisual.draw-1299"><a href="#MochilaVisual.draw-1299"><span class="linenos">1299</span></a>        
</span><span id="MochilaVisual.draw-1300"><a href="#MochilaVisual.draw-1300"><span class="linenos">1300</span></a>        <span class="c1"># Crear fondo semi-transparente</span>
</span><span id="MochilaVisual.draw-1301"><a href="#MochilaVisual.draw-1301"><span class="linenos">1301</span></a>        <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="MochilaVisual.draw-1302"><a href="#MochilaVisual.draw-1302"><span class="linenos">1302</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1303"><a href="#MochilaVisual.draw-1303"><span class="linenos">1303</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1304"><a href="#MochilaVisual.draw-1304"><span class="linenos">1304</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="MochilaVisual.draw-1305"><a href="#MochilaVisual.draw-1305"><span class="linenos">1305</span></a>        
</span><span id="MochilaVisual.draw-1306"><a href="#MochilaVisual.draw-1306"><span class="linenos">1306</span></a>        <span class="c1"># Dibujar fondo de la mochila</span>
</span><span id="MochilaVisual.draw-1307"><a href="#MochilaVisual.draw-1307"><span class="linenos">1307</span></a>        <span class="n">mochila_rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1308"><a href="#MochilaVisual.draw-1308"><span class="linenos">1308</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">33</span><span class="p">),</span> <span class="n">mochila_rect</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1309"><a href="#MochilaVisual.draw-1309"><span class="linenos">1309</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="n">mochila_rect</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1310"><a href="#MochilaVisual.draw-1310"><span class="linenos">1310</span></a>        
</span><span id="MochilaVisual.draw-1311"><a href="#MochilaVisual.draw-1311"><span class="linenos">1311</span></a>        <span class="c1"># Dibujar GIF de la mochila si existe</span>
</span><span id="MochilaVisual.draw-1312"><a href="#MochilaVisual.draw-1312"><span class="linenos">1312</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mochila_gif</span><span class="p">:</span>
</span><span id="MochilaVisual.draw-1313"><a href="#MochilaVisual.draw-1313"><span class="linenos">1313</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mochila_frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span><span class="p">],</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
</span><span id="MochilaVisual.draw-1314"><a href="#MochilaVisual.draw-1314"><span class="linenos">1314</span></a>        
</span><span id="MochilaVisual.draw-1315"><a href="#MochilaVisual.draw-1315"><span class="linenos">1315</span></a>        <span class="c1"># Ttulo de la mochila</span>
</span><span id="MochilaVisual.draw-1316"><a href="#MochilaVisual.draw-1316"><span class="linenos">1316</span></a>        <span class="n">title_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;MOCHILA DE EKEKO&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1317"><a href="#MochilaVisual.draw-1317"><span class="linenos">1317</span></a>        <span class="n">title_rect</span> <span class="o">=</span> <span class="n">title_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="MochilaVisual.draw-1318"><a href="#MochilaVisual.draw-1318"><span class="linenos">1318</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">title_text</span><span class="p">,</span> <span class="n">title_rect</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1319"><a href="#MochilaVisual.draw-1319"><span class="linenos">1319</span></a>        
</span><span id="MochilaVisual.draw-1320"><a href="#MochilaVisual.draw-1320"><span class="linenos">1320</span></a>        <span class="c1"># Contador de illas</span>
</span><span id="MochilaVisual.draw-1321"><a href="#MochilaVisual.draw-1321"><span class="linenos">1321</span></a>        <span class="n">illas_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Illas Recolectadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span>
</span><span id="MochilaVisual.draw-1322"><a href="#MochilaVisual.draw-1322"><span class="linenos">1322</span></a>        <span class="n">count_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">illas_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1323"><a href="#MochilaVisual.draw-1323"><span class="linenos">1323</span></a>        <span class="n">count_rect</span> <span class="o">=</span> <span class="n">count_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">45</span><span class="p">))</span>
</span><span id="MochilaVisual.draw-1324"><a href="#MochilaVisual.draw-1324"><span class="linenos">1324</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">count_text</span><span class="p">,</span> <span class="n">count_rect</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1325"><a href="#MochilaVisual.draw-1325"><span class="linenos">1325</span></a>        
</span><span id="MochilaVisual.draw-1326"><a href="#MochilaVisual.draw-1326"><span class="linenos">1326</span></a>        <span class="c1"># Dibujar illas con sus GIFs animados</span>
</span><span id="MochilaVisual.draw-1327"><a href="#MochilaVisual.draw-1327"><span class="linenos">1327</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">:</span>
</span><span id="MochilaVisual.draw-1328"><a href="#MochilaVisual.draw-1328"><span class="linenos">1328</span></a>            <span class="n">start_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">70</span>
</span><span id="MochilaVisual.draw-1329"><a href="#MochilaVisual.draw-1329"><span class="linenos">1329</span></a>            <span class="n">illas_por_fila</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># 4 illas por fila</span>
</span><span id="MochilaVisual.draw-1330"><a href="#MochilaVisual.draw-1330"><span class="linenos">1330</span></a>            <span class="n">spacing_x</span> <span class="o">=</span> <span class="mi">60</span>
</span><span id="MochilaVisual.draw-1331"><a href="#MochilaVisual.draw-1331"><span class="linenos">1331</span></a>            <span class="n">spacing_y</span> <span class="o">=</span> <span class="mi">60</span>
</span><span id="MochilaVisual.draw-1332"><a href="#MochilaVisual.draw-1332"><span class="linenos">1332</span></a>            
</span><span id="MochilaVisual.draw-1333"><a href="#MochilaVisual.draw-1333"><span class="linenos">1333</span></a>            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">illas_guardadas</span><span class="p">):</span>
</span><span id="MochilaVisual.draw-1334"><a href="#MochilaVisual.draw-1334"><span class="linenos">1334</span></a>                <span class="n">fila</span> <span class="o">=</span> <span class="n">i</span> <span class="o">//</span> <span class="n">illas_por_fila</span>
</span><span id="MochilaVisual.draw-1335"><a href="#MochilaVisual.draw-1335"><span class="linenos">1335</span></a>                <span class="n">columna</span> <span class="o">=</span> <span class="n">i</span> <span class="o">%</span> <span class="n">illas_por_fila</span>
</span><span id="MochilaVisual.draw-1336"><a href="#MochilaVisual.draw-1336"><span class="linenos">1336</span></a>                
</span><span id="MochilaVisual.draw-1337"><a href="#MochilaVisual.draw-1337"><span class="linenos">1337</span></a>                <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span> <span class="o">+</span> <span class="p">(</span><span class="n">columna</span> <span class="o">*</span> <span class="n">spacing_x</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1338"><a href="#MochilaVisual.draw-1338"><span class="linenos">1338</span></a>                <span class="n">y</span> <span class="o">=</span> <span class="n">start_y</span> <span class="o">+</span> <span class="p">(</span><span class="n">fila</span> <span class="o">*</span> <span class="n">spacing_y</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1339"><a href="#MochilaVisual.draw-1339"><span class="linenos">1339</span></a>                
</span><span id="MochilaVisual.draw-1340"><a href="#MochilaVisual.draw-1340"><span class="linenos">1340</span></a>                <span class="c1"># Dibujar GIF de la illa si est en cache</span>
</span><span id="MochilaVisual.draw-1341"><a href="#MochilaVisual.draw-1341"><span class="linenos">1341</span></a>                <span class="k">if</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">:</span>
</span><span id="MochilaVisual.draw-1342"><a href="#MochilaVisual.draw-1342"><span class="linenos">1342</span></a>                    <span class="n">illa_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_gifs_cache</span><span class="p">[</span><span class="n">illa_name</span><span class="p">]</span>
</span><span id="MochilaVisual.draw-1343"><a href="#MochilaVisual.draw-1343"><span class="linenos">1343</span></a>                    <span class="n">current_frame</span> <span class="o">=</span> <span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;frames&#39;</span><span class="p">][</span><span class="n">illa_data</span><span class="p">[</span><span class="s1">&#39;current_frame&#39;</span><span class="p">]]</span>
</span><span id="MochilaVisual.draw-1344"><a href="#MochilaVisual.draw-1344"><span class="linenos">1344</span></a>                    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">current_frame</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</span><span id="MochilaVisual.draw-1345"><a href="#MochilaVisual.draw-1345"><span class="linenos">1345</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="MochilaVisual.draw-1346"><a href="#MochilaVisual.draw-1346"><span class="linenos">1346</span></a>                    <span class="c1"># Dibujar crculo como fallback</span>
</span><span id="MochilaVisual.draw-1347"><a href="#MochilaVisual.draw-1347"><span class="linenos">1347</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">20</span><span class="p">),</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1348"><a href="#MochilaVisual.draw-1348"><span class="linenos">1348</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">20</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1349"><a href="#MochilaVisual.draw-1349"><span class="linenos">1349</span></a>                
</span><span id="MochilaVisual.draw-1350"><a href="#MochilaVisual.draw-1350"><span class="linenos">1350</span></a>                <span class="c1"># Dibujar nombre de la illa</span>
</span><span id="MochilaVisual.draw-1351"><a href="#MochilaVisual.draw-1351"><span class="linenos">1351</span></a>                <span class="n">nombre_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">illa_name</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1352"><a href="#MochilaVisual.draw-1352"><span class="linenos">1352</span></a>                <span class="n">nombre_rect</span> <span class="o">=</span> <span class="n">nombre_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">20</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">45</span><span class="p">))</span>
</span><span id="MochilaVisual.draw-1353"><a href="#MochilaVisual.draw-1353"><span class="linenos">1353</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">nombre_text</span><span class="p">,</span> <span class="n">nombre_rect</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1354"><a href="#MochilaVisual.draw-1354"><span class="linenos">1354</span></a>                
</span><span id="MochilaVisual.draw-1355"><a href="#MochilaVisual.draw-1355"><span class="linenos">1355</span></a>                <span class="c1"># Si hay muchas illas, mostrar scroll</span>
</span><span id="MochilaVisual.draw-1356"><a href="#MochilaVisual.draw-1356"><span class="linenos">1356</span></a>                <span class="k">if</span> <span class="n">fila</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>  <span class="c1"># Mximo 4 filas visibles</span>
</span><span id="MochilaVisual.draw-1357"><a href="#MochilaVisual.draw-1357"><span class="linenos">1357</span></a>                    <span class="n">scroll_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GRAY</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1358"><a href="#MochilaVisual.draw-1358"><span class="linenos">1358</span></a>                    <span class="n">scroll_rect</span> <span class="o">=</span> <span class="n">scroll_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">30</span><span class="p">))</span>
</span><span id="MochilaVisual.draw-1359"><a href="#MochilaVisual.draw-1359"><span class="linenos">1359</span></a>                    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">scroll_text</span><span class="p">,</span> <span class="n">scroll_rect</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1360"><a href="#MochilaVisual.draw-1360"><span class="linenos">1360</span></a>                    <span class="k">break</span>
</span><span id="MochilaVisual.draw-1361"><a href="#MochilaVisual.draw-1361"><span class="linenos">1361</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MochilaVisual.draw-1362"><a href="#MochilaVisual.draw-1362"><span class="linenos">1362</span></a>            <span class="c1"># Mensaje cuando no hay illas</span>
</span><span id="MochilaVisual.draw-1363"><a href="#MochilaVisual.draw-1363"><span class="linenos">1363</span></a>            <span class="n">empty_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;No hay illas recolectadas&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GRAY</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1364"><a href="#MochilaVisual.draw-1364"><span class="linenos">1364</span></a>            <span class="n">empty_rect</span> <span class="o">=</span> <span class="n">empty_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">//</span> <span class="mi">2</span><span class="p">))</span>
</span><span id="MochilaVisual.draw-1365"><a href="#MochilaVisual.draw-1365"><span class="linenos">1365</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">empty_text</span><span class="p">,</span> <span class="n">empty_rect</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1366"><a href="#MochilaVisual.draw-1366"><span class="linenos">1366</span></a>        
</span><span id="MochilaVisual.draw-1367"><a href="#MochilaVisual.draw-1367"><span class="linenos">1367</span></a>        <span class="c1"># Instrucciones para cerrar</span>
</span><span id="MochilaVisual.draw-1368"><a href="#MochilaVisual.draw-1368"><span class="linenos">1368</span></a>        <span class="n">close_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_small</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Presiona J para cerrar la mochila&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="MochilaVisual.draw-1369"><a href="#MochilaVisual.draw-1369"><span class="linenos">1369</span></a>        <span class="n">close_rect</span> <span class="o">=</span> <span class="n">close_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="MochilaVisual.draw-1370"><a href="#MochilaVisual.draw-1370"><span class="linenos">1370</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">close_text</span><span class="p">,</span> <span class="n">close_rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dibujar la mochila completa con illas animadas</p>
</div>


                            </div>
                </section>
                <section id="QuestionScreen">
                            <input id="QuestionScreen-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">QuestionScreen</span>:

                <label class="view-source-button" for="QuestionScreen-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QuestionScreen"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QuestionScreen-1374"><a href="#QuestionScreen-1374"><span class="linenos">1374</span></a><span class="k">class</span><span class="w"> </span><span class="nc">QuestionScreen</span><span class="p">:</span>
</span><span id="QuestionScreen-1375"><a href="#QuestionScreen-1375"><span class="linenos">1375</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Pantalla de preguntas donde el Apu hace una pregunta al jugador.&quot;&quot;&quot;</span>
</span><span id="QuestionScreen-1376"><a href="#QuestionScreen-1376"><span class="linenos">1376</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pregunta_data</span><span class="p">):</span>
</span><span id="QuestionScreen-1377"><a href="#QuestionScreen-1377"><span class="linenos">1377</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la pantalla de pregunta con los datos proporcionados.</span>
</span><span id="QuestionScreen-1378"><a href="#QuestionScreen-1378"><span class="linenos">1378</span></a>
</span><span id="QuestionScreen-1379"><a href="#QuestionScreen-1379"><span class="linenos">1379</span></a><span class="sd">        Args:</span>
</span><span id="QuestionScreen-1380"><a href="#QuestionScreen-1380"><span class="linenos">1380</span></a><span class="sd">            pregunta_data (dict): Diccionario con las claves:</span>
</span><span id="QuestionScreen-1381"><a href="#QuestionScreen-1381"><span class="linenos">1381</span></a><span class="sd">                - &quot;apu&quot;: nombre del Apu que hace la pregunta</span>
</span><span id="QuestionScreen-1382"><a href="#QuestionScreen-1382"><span class="linenos">1382</span></a><span class="sd">                - &quot;pregunta&quot;: texto de la pregunta</span>
</span><span id="QuestionScreen-1383"><a href="#QuestionScreen-1383"><span class="linenos">1383</span></a><span class="sd">                - &quot;opciones&quot;: lista de opciones</span>
</span><span id="QuestionScreen-1384"><a href="#QuestionScreen-1384"><span class="linenos">1384</span></a><span class="sd">                - &quot;respuesta_correcta&quot;: ndice de la opcin correcta</span>
</span><span id="QuestionScreen-1385"><a href="#QuestionScreen-1385"><span class="linenos">1385</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QuestionScreen-1386"><a href="#QuestionScreen-1386"><span class="linenos">1386</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span> <span class="o">=</span> <span class="n">pregunta_data</span>
</span><span id="QuestionScreen-1387"><a href="#QuestionScreen-1387"><span class="linenos">1387</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_title</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="QuestionScreen-1388"><a href="#QuestionScreen-1388"><span class="linenos">1388</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>
</span><span id="QuestionScreen-1389"><a href="#QuestionScreen-1389"><span class="linenos">1389</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_options</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="QuestionScreen-1390"><a href="#QuestionScreen-1390"><span class="linenos">1390</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="QuestionScreen-1391"><a href="#QuestionScreen-1391"><span class="linenos">1391</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">answered</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="QuestionScreen-1392"><a href="#QuestionScreen-1392"><span class="linenos">1392</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">correct</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="QuestionScreen-1393"><a href="#QuestionScreen-1393"><span class="linenos">1393</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="QuestionScreen-1394"><a href="#QuestionScreen-1394"><span class="linenos">1394</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="QuestionScreen-1395"><a href="#QuestionScreen-1395"><span class="linenos">1395</span></a>
</span><span id="QuestionScreen-1396"><a href="#QuestionScreen-1396"><span class="linenos">1396</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="QuestionScreen-1397"><a href="#QuestionScreen-1397"><span class="linenos">1397</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot; BOTONES PARA NAVEGAR EN LAS PREGUNTAS:</span>
</span><span id="QuestionScreen-1398"><a href="#QuestionScreen-1398"><span class="linenos">1398</span></a><span class="sd">        - : Navegar entre opciones de respuesta</span>
</span><span id="QuestionScreen-1399"><a href="#QuestionScreen-1399"><span class="linenos">1399</span></a><span class="sd">        - ENTER: Confirmar respuesta seleccionada</span>
</span><span id="QuestionScreen-1400"><a href="#QuestionScreen-1400"><span class="linenos">1400</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QuestionScreen-1401"><a href="#QuestionScreen-1401"><span class="linenos">1401</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">answered</span><span class="p">:</span>
</span><span id="QuestionScreen-1402"><a href="#QuestionScreen-1402"><span class="linenos">1402</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span><span class="p">:</span>
</span><span id="QuestionScreen-1403"><a href="#QuestionScreen-1403"><span class="linenos">1403</span></a>                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_UP</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1">#  BOTN ARRIBA</span>
</span><span id="QuestionScreen-1404"><a href="#QuestionScreen-1404"><span class="linenos">1404</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="QuestionScreen-1405"><a href="#QuestionScreen-1405"><span class="linenos">1405</span></a>                <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_DOWN</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;opciones&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1">#  BOTN ABAJO</span>
</span><span id="QuestionScreen-1406"><a href="#QuestionScreen-1406"><span class="linenos">1406</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="QuestionScreen-1407"><a href="#QuestionScreen-1407"><span class="linenos">1407</span></a>                <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_RETURN</span><span class="p">:</span>  <span class="c1">#  BOTN CONFIRMAR</span>
</span><span id="QuestionScreen-1408"><a href="#QuestionScreen-1408"><span class="linenos">1408</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">answered</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="QuestionScreen-1409"><a href="#QuestionScreen-1409"><span class="linenos">1409</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">correct</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;respuesta_correcta&quot;</span><span class="p">])</span>
</span><span id="QuestionScreen-1410"><a href="#QuestionScreen-1410"><span class="linenos">1410</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="QuestionScreen-1411"><a href="#QuestionScreen-1411"><span class="linenos">1411</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">=</span> <span class="mi">120</span>
</span><span id="QuestionScreen-1412"><a href="#QuestionScreen-1412"><span class="linenos">1412</span></a>
</span><span id="QuestionScreen-1413"><a href="#QuestionScreen-1413"><span class="linenos">1413</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="QuestionScreen-1414"><a href="#QuestionScreen-1414"><span class="linenos">1414</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza el temporizador del resultado si se est mostrando.&quot;&quot;&quot;</span>
</span><span id="QuestionScreen-1415"><a href="#QuestionScreen-1415"><span class="linenos">1415</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="QuestionScreen-1416"><a href="#QuestionScreen-1416"><span class="linenos">1416</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="QuestionScreen-1417"><a href="#QuestionScreen-1417"><span class="linenos">1417</span></a>
</span><span id="QuestionScreen-1418"><a href="#QuestionScreen-1418"><span class="linenos">1418</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="QuestionScreen-1419"><a href="#QuestionScreen-1419"><span class="linenos">1419</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja la pantalla de pregunta y resultado en la superficie proporcionada.</span>
</span><span id="QuestionScreen-1420"><a href="#QuestionScreen-1420"><span class="linenos">1420</span></a>
</span><span id="QuestionScreen-1421"><a href="#QuestionScreen-1421"><span class="linenos">1421</span></a><span class="sd">        Args:</span>
</span><span id="QuestionScreen-1422"><a href="#QuestionScreen-1422"><span class="linenos">1422</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la pantalla de pregunta.</span>
</span><span id="QuestionScreen-1423"><a href="#QuestionScreen-1423"><span class="linenos">1423</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QuestionScreen-1424"><a href="#QuestionScreen-1424"><span class="linenos">1424</span></a>        <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="QuestionScreen-1425"><a href="#QuestionScreen-1425"><span class="linenos">1425</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</span><span id="QuestionScreen-1426"><a href="#QuestionScreen-1426"><span class="linenos">1426</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="QuestionScreen-1427"><a href="#QuestionScreen-1427"><span class="linenos">1427</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="QuestionScreen-1428"><a href="#QuestionScreen-1428"><span class="linenos">1428</span></a>
</span><span id="QuestionScreen-1429"><a href="#QuestionScreen-1429"><span class="linenos">1429</span></a>        <span class="n">apu_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_title</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Apu </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s1">&#39;apu&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> te pregunta:&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="QuestionScreen-1430"><a href="#QuestionScreen-1430"><span class="linenos">1430</span></a>        <span class="n">apu_rect</span> <span class="o">=</span> <span class="n">apu_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
</span><span id="QuestionScreen-1431"><a href="#QuestionScreen-1431"><span class="linenos">1431</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">apu_text</span><span class="p">,</span> <span class="n">apu_rect</span><span class="p">)</span>
</span><span id="QuestionScreen-1432"><a href="#QuestionScreen-1432"><span class="linenos">1432</span></a>
</span><span id="QuestionScreen-1433"><a href="#QuestionScreen-1433"><span class="linenos">1433</span></a>        <span class="n">question_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrap_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;pregunta&quot;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span><span class="p">,</span> <span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="QuestionScreen-1434"><a href="#QuestionScreen-1434"><span class="linenos">1434</span></a>        <span class="n">y_offset</span> <span class="o">=</span> <span class="mi">150</span>
</span><span id="QuestionScreen-1435"><a href="#QuestionScreen-1435"><span class="linenos">1435</span></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">question_lines</span><span class="p">:</span>
</span><span id="QuestionScreen-1436"><a href="#QuestionScreen-1436"><span class="linenos">1436</span></a>            <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="QuestionScreen-1437"><a href="#QuestionScreen-1437"><span class="linenos">1437</span></a>            <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y_offset</span><span class="p">))</span>
</span><span id="QuestionScreen-1438"><a href="#QuestionScreen-1438"><span class="linenos">1438</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="QuestionScreen-1439"><a href="#QuestionScreen-1439"><span class="linenos">1439</span></a>            <span class="n">y_offset</span> <span class="o">+=</span> <span class="mi">25</span>
</span><span id="QuestionScreen-1440"><a href="#QuestionScreen-1440"><span class="linenos">1440</span></a>
</span><span id="QuestionScreen-1441"><a href="#QuestionScreen-1441"><span class="linenos">1441</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span><span class="p">:</span>
</span><span id="QuestionScreen-1442"><a href="#QuestionScreen-1442"><span class="linenos">1442</span></a>            <span class="n">y_offset</span> <span class="o">+=</span> <span class="mi">30</span>
</span><span id="QuestionScreen-1443"><a href="#QuestionScreen-1443"><span class="linenos">1443</span></a>            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">opcion</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;opciones&quot;</span><span class="p">]):</span>
</span><span id="QuestionScreen-1444"><a href="#QuestionScreen-1444"><span class="linenos">1444</span></a>                <span class="n">color</span> <span class="o">=</span> <span class="n">YELLOW</span> <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="k">else</span> <span class="n">WHITE</span>
</span><span id="QuestionScreen-1445"><a href="#QuestionScreen-1445"><span class="linenos">1445</span></a>                <span class="n">option_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">chr</span><span class="p">(</span><span class="mi">65</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="si">}</span><span class="s2">) </span><span class="si">{</span><span class="n">opcion</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="QuestionScreen-1446"><a href="#QuestionScreen-1446"><span class="linenos">1446</span></a>                <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_options</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">option_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
</span><span id="QuestionScreen-1447"><a href="#QuestionScreen-1447"><span class="linenos">1447</span></a>                <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y_offset</span><span class="p">))</span>
</span><span id="QuestionScreen-1448"><a href="#QuestionScreen-1448"><span class="linenos">1448</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="QuestionScreen-1449"><a href="#QuestionScreen-1449"><span class="linenos">1449</span></a>                <span class="n">y_offset</span> <span class="o">+=</span> <span class="mi">30</span>
</span><span id="QuestionScreen-1450"><a href="#QuestionScreen-1450"><span class="linenos">1450</span></a>
</span><span id="QuestionScreen-1451"><a href="#QuestionScreen-1451"><span class="linenos">1451</span></a>            <span class="n">instr_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_options</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Usa  para seleccionar, ENTER para confirmar&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GRAY</span><span class="p">)</span>
</span><span id="QuestionScreen-1452"><a href="#QuestionScreen-1452"><span class="linenos">1452</span></a>            <span class="n">instr_rect</span> <span class="o">=</span> <span class="n">instr_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">50</span><span class="p">))</span>
</span><span id="QuestionScreen-1453"><a href="#QuestionScreen-1453"><span class="linenos">1453</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">instr_text</span><span class="p">,</span> <span class="n">instr_rect</span><span class="p">)</span>
</span><span id="QuestionScreen-1454"><a href="#QuestionScreen-1454"><span class="linenos">1454</span></a>
</span><span id="QuestionScreen-1455"><a href="#QuestionScreen-1455"><span class="linenos">1455</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span><span class="p">:</span>
</span><span id="QuestionScreen-1456"><a href="#QuestionScreen-1456"><span class="linenos">1456</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">correct</span><span class="p">:</span>
</span><span id="QuestionScreen-1457"><a href="#QuestionScreen-1457"><span class="linenos">1457</span></a>                <span class="n">result_text</span> <span class="o">=</span> <span class="s2">&quot;CORRECTO! El Apu te permite pasar&quot;</span>
</span><span id="QuestionScreen-1458"><a href="#QuestionScreen-1458"><span class="linenos">1458</span></a>                <span class="n">color</span> <span class="o">=</span> <span class="n">GREEN</span>
</span><span id="QuestionScreen-1459"><a href="#QuestionScreen-1459"><span class="linenos">1459</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="QuestionScreen-1460"><a href="#QuestionScreen-1460"><span class="linenos">1460</span></a>                <span class="n">result_text</span> <span class="o">=</span> <span class="s2">&quot;INCORRECTO! Pierdes una vida&quot;</span>
</span><span id="QuestionScreen-1461"><a href="#QuestionScreen-1461"><span class="linenos">1461</span></a>                <span class="n">color</span> <span class="o">=</span> <span class="n">RED</span>
</span><span id="QuestionScreen-1462"><a href="#QuestionScreen-1462"><span class="linenos">1462</span></a>            
</span><span id="QuestionScreen-1463"><a href="#QuestionScreen-1463"><span class="linenos">1463</span></a>            <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_title</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">result_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
</span><span id="QuestionScreen-1464"><a href="#QuestionScreen-1464"><span class="linenos">1464</span></a>            <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span><span class="p">))</span>
</span><span id="QuestionScreen-1465"><a href="#QuestionScreen-1465"><span class="linenos">1465</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="QuestionScreen-1466"><a href="#QuestionScreen-1466"><span class="linenos">1466</span></a>
</span><span id="QuestionScreen-1467"><a href="#QuestionScreen-1467"><span class="linenos">1467</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">correct</span><span class="p">:</span>
</span><span id="QuestionScreen-1468"><a href="#QuestionScreen-1468"><span class="linenos">1468</span></a>                <span class="n">correct_answer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;opciones&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;respuesta_correcta&quot;</span><span class="p">]]</span>
</span><span id="QuestionScreen-1469"><a href="#QuestionScreen-1469"><span class="linenos">1469</span></a>                <span class="n">answer_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Respuesta: </span><span class="si">{</span><span class="n">correct_answer</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="QuestionScreen-1470"><a href="#QuestionScreen-1470"><span class="linenos">1470</span></a>                <span class="n">answer_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">answer_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="QuestionScreen-1471"><a href="#QuestionScreen-1471"><span class="linenos">1471</span></a>                <span class="n">answer_rect</span> <span class="o">=</span> <span class="n">answer_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">40</span><span class="p">))</span>
</span><span id="QuestionScreen-1472"><a href="#QuestionScreen-1472"><span class="linenos">1472</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">answer_surface</span><span class="p">,</span> <span class="n">answer_rect</span><span class="p">)</span>
</span><span id="QuestionScreen-1473"><a href="#QuestionScreen-1473"><span class="linenos">1473</span></a>
</span><span id="QuestionScreen-1474"><a href="#QuestionScreen-1474"><span class="linenos">1474</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">wrap_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">max_width</span><span class="p">):</span>
</span><span id="QuestionScreen-1475"><a href="#QuestionScreen-1475"><span class="linenos">1475</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Divide un texto en varias lneas para que se ajuste al ancho mximo.</span>
</span><span id="QuestionScreen-1476"><a href="#QuestionScreen-1476"><span class="linenos">1476</span></a>
</span><span id="QuestionScreen-1477"><a href="#QuestionScreen-1477"><span class="linenos">1477</span></a><span class="sd">        Args:</span>
</span><span id="QuestionScreen-1478"><a href="#QuestionScreen-1478"><span class="linenos">1478</span></a><span class="sd">            text (str): Texto a dividir.</span>
</span><span id="QuestionScreen-1479"><a href="#QuestionScreen-1479"><span class="linenos">1479</span></a><span class="sd">            font (pygame.font.Font): Fuente utilizada para medir el texto.</span>
</span><span id="QuestionScreen-1480"><a href="#QuestionScreen-1480"><span class="linenos">1480</span></a><span class="sd">            max_width (int): Ancho mximo permitido por lnea.</span>
</span><span id="QuestionScreen-1481"><a href="#QuestionScreen-1481"><span class="linenos">1481</span></a>
</span><span id="QuestionScreen-1482"><a href="#QuestionScreen-1482"><span class="linenos">1482</span></a><span class="sd">        Returns:</span>
</span><span id="QuestionScreen-1483"><a href="#QuestionScreen-1483"><span class="linenos">1483</span></a><span class="sd">            list[str]: Lista de lneas de texto ajustadas al ancho.</span>
</span><span id="QuestionScreen-1484"><a href="#QuestionScreen-1484"><span class="linenos">1484</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QuestionScreen-1485"><a href="#QuestionScreen-1485"><span class="linenos">1485</span></a>        <span class="n">words</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</span><span id="QuestionScreen-1486"><a href="#QuestionScreen-1486"><span class="linenos">1486</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="QuestionScreen-1487"><a href="#QuestionScreen-1487"><span class="linenos">1487</span></a>        <span class="n">current_line</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="QuestionScreen-1488"><a href="#QuestionScreen-1488"><span class="linenos">1488</span></a>        
</span><span id="QuestionScreen-1489"><a href="#QuestionScreen-1489"><span class="linenos">1489</span></a>        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
</span><span id="QuestionScreen-1490"><a href="#QuestionScreen-1490"><span class="linenos">1490</span></a>            <span class="n">test_line</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_line</span> <span class="o">+</span> <span class="p">[</span><span class="n">word</span><span class="p">])</span>
</span><span id="QuestionScreen-1491"><a href="#QuestionScreen-1491"><span class="linenos">1491</span></a>            <span class="k">if</span> <span class="n">font</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">test_line</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">max_width</span><span class="p">:</span>
</span><span id="QuestionScreen-1492"><a href="#QuestionScreen-1492"><span class="linenos">1492</span></a>                <span class="n">current_line</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="QuestionScreen-1493"><a href="#QuestionScreen-1493"><span class="linenos">1493</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="QuestionScreen-1494"><a href="#QuestionScreen-1494"><span class="linenos">1494</span></a>                <span class="k">if</span> <span class="n">current_line</span><span class="p">:</span>
</span><span id="QuestionScreen-1495"><a href="#QuestionScreen-1495"><span class="linenos">1495</span></a>                    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_line</span><span class="p">))</span>
</span><span id="QuestionScreen-1496"><a href="#QuestionScreen-1496"><span class="linenos">1496</span></a>                    <span class="n">current_line</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="p">]</span>
</span><span id="QuestionScreen-1497"><a href="#QuestionScreen-1497"><span class="linenos">1497</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="QuestionScreen-1498"><a href="#QuestionScreen-1498"><span class="linenos">1498</span></a>                    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="QuestionScreen-1499"><a href="#QuestionScreen-1499"><span class="linenos">1499</span></a>        
</span><span id="QuestionScreen-1500"><a href="#QuestionScreen-1500"><span class="linenos">1500</span></a>        <span class="k">if</span> <span class="n">current_line</span><span class="p">:</span>
</span><span id="QuestionScreen-1501"><a href="#QuestionScreen-1501"><span class="linenos">1501</span></a>            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_line</span><span class="p">))</span>
</span><span id="QuestionScreen-1502"><a href="#QuestionScreen-1502"><span class="linenos">1502</span></a>        
</span><span id="QuestionScreen-1503"><a href="#QuestionScreen-1503"><span class="linenos">1503</span></a>        <span class="k">return</span> <span class="n">lines</span>
</span><span id="QuestionScreen-1504"><a href="#QuestionScreen-1504"><span class="linenos">1504</span></a>
</span><span id="QuestionScreen-1505"><a href="#QuestionScreen-1505"><span class="linenos">1505</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="QuestionScreen-1506"><a href="#QuestionScreen-1506"><span class="linenos">1506</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Indica si la pantalla de pregunta ha terminado de mostrar el resultado.</span>
</span><span id="QuestionScreen-1507"><a href="#QuestionScreen-1507"><span class="linenos">1507</span></a>
</span><span id="QuestionScreen-1508"><a href="#QuestionScreen-1508"><span class="linenos">1508</span></a><span class="sd">        Returns:</span>
</span><span id="QuestionScreen-1509"><a href="#QuestionScreen-1509"><span class="linenos">1509</span></a><span class="sd">            bool: True si termin, False en caso contrario.</span>
</span><span id="QuestionScreen-1510"><a href="#QuestionScreen-1510"><span class="linenos">1510</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QuestionScreen-1511"><a href="#QuestionScreen-1511"><span class="linenos">1511</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">&lt;=</span> <span class="mi">0</span>
</span></pre></div>


            <div class="docstring"><p>Pantalla de preguntas donde el Apu hace una pregunta al jugador.</p>
</div>


                            <div id="QuestionScreen.__init__" class="classattr">
                                        <input id="QuestionScreen.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">QuestionScreen</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">pregunta_data</span></span>)</span>

                <label class="view-source-button" for="QuestionScreen.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QuestionScreen.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QuestionScreen.__init__-1376"><a href="#QuestionScreen.__init__-1376"><span class="linenos">1376</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pregunta_data</span><span class="p">):</span>
</span><span id="QuestionScreen.__init__-1377"><a href="#QuestionScreen.__init__-1377"><span class="linenos">1377</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la pantalla de pregunta con los datos proporcionados.</span>
</span><span id="QuestionScreen.__init__-1378"><a href="#QuestionScreen.__init__-1378"><span class="linenos">1378</span></a>
</span><span id="QuestionScreen.__init__-1379"><a href="#QuestionScreen.__init__-1379"><span class="linenos">1379</span></a><span class="sd">        Args:</span>
</span><span id="QuestionScreen.__init__-1380"><a href="#QuestionScreen.__init__-1380"><span class="linenos">1380</span></a><span class="sd">            pregunta_data (dict): Diccionario con las claves:</span>
</span><span id="QuestionScreen.__init__-1381"><a href="#QuestionScreen.__init__-1381"><span class="linenos">1381</span></a><span class="sd">                - &quot;apu&quot;: nombre del Apu que hace la pregunta</span>
</span><span id="QuestionScreen.__init__-1382"><a href="#QuestionScreen.__init__-1382"><span class="linenos">1382</span></a><span class="sd">                - &quot;pregunta&quot;: texto de la pregunta</span>
</span><span id="QuestionScreen.__init__-1383"><a href="#QuestionScreen.__init__-1383"><span class="linenos">1383</span></a><span class="sd">                - &quot;opciones&quot;: lista de opciones</span>
</span><span id="QuestionScreen.__init__-1384"><a href="#QuestionScreen.__init__-1384"><span class="linenos">1384</span></a><span class="sd">                - &quot;respuesta_correcta&quot;: ndice de la opcin correcta</span>
</span><span id="QuestionScreen.__init__-1385"><a href="#QuestionScreen.__init__-1385"><span class="linenos">1385</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QuestionScreen.__init__-1386"><a href="#QuestionScreen.__init__-1386"><span class="linenos">1386</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span> <span class="o">=</span> <span class="n">pregunta_data</span>
</span><span id="QuestionScreen.__init__-1387"><a href="#QuestionScreen.__init__-1387"><span class="linenos">1387</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_title</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="QuestionScreen.__init__-1388"><a href="#QuestionScreen.__init__-1388"><span class="linenos">1388</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>
</span><span id="QuestionScreen.__init__-1389"><a href="#QuestionScreen.__init__-1389"><span class="linenos">1389</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_options</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="QuestionScreen.__init__-1390"><a href="#QuestionScreen.__init__-1390"><span class="linenos">1390</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="QuestionScreen.__init__-1391"><a href="#QuestionScreen.__init__-1391"><span class="linenos">1391</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">answered</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="QuestionScreen.__init__-1392"><a href="#QuestionScreen.__init__-1392"><span class="linenos">1392</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">correct</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="QuestionScreen.__init__-1393"><a href="#QuestionScreen.__init__-1393"><span class="linenos">1393</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="QuestionScreen.__init__-1394"><a href="#QuestionScreen.__init__-1394"><span class="linenos">1394</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa la pantalla de pregunta con los datos proporcionados.</p>

<p>Args:
    pregunta_data (dict): Diccionario con las claves:
        - "apu": nombre del Apu que hace la pregunta
        - "pregunta": texto de la pregunta
        - "opciones": lista de opciones
        - "respuesta_correcta": ndice de la opcin correcta</p>
</div>


                            </div>
                            <div id="QuestionScreen.pregunta_data" class="classattr">
                                <div class="attr variable">
            <span class="name">pregunta_data</span>

        
    </div>
    <a class="headerlink" href="#QuestionScreen.pregunta_data"></a>
    
    

                            </div>
                            <div id="QuestionScreen.font_title" class="classattr">
                                <div class="attr variable">
            <span class="name">font_title</span>

        
    </div>
    <a class="headerlink" href="#QuestionScreen.font_title"></a>
    
    

                            </div>
                            <div id="QuestionScreen.font_question" class="classattr">
                                <div class="attr variable">
            <span class="name">font_question</span>

        
    </div>
    <a class="headerlink" href="#QuestionScreen.font_question"></a>
    
    

                            </div>
                            <div id="QuestionScreen.font_options" class="classattr">
                                <div class="attr variable">
            <span class="name">font_options</span>

        
    </div>
    <a class="headerlink" href="#QuestionScreen.font_options"></a>
    
    

                            </div>
                            <div id="QuestionScreen.selected_option" class="classattr">
                                <div class="attr variable">
            <span class="name">selected_option</span>

        
    </div>
    <a class="headerlink" href="#QuestionScreen.selected_option"></a>
    
    

                            </div>
                            <div id="QuestionScreen.answered" class="classattr">
                                <div class="attr variable">
            <span class="name">answered</span>

        
    </div>
    <a class="headerlink" href="#QuestionScreen.answered"></a>
    
    

                            </div>
                            <div id="QuestionScreen.correct" class="classattr">
                                <div class="attr variable">
            <span class="name">correct</span>

        
    </div>
    <a class="headerlink" href="#QuestionScreen.correct"></a>
    
    

                            </div>
                            <div id="QuestionScreen.show_result" class="classattr">
                                <div class="attr variable">
            <span class="name">show_result</span>

        
    </div>
    <a class="headerlink" href="#QuestionScreen.show_result"></a>
    
    

                            </div>
                            <div id="QuestionScreen.result_timer" class="classattr">
                                <div class="attr variable">
            <span class="name">result_timer</span>

        
    </div>
    <a class="headerlink" href="#QuestionScreen.result_timer"></a>
    
    

                            </div>
                            <div id="QuestionScreen.handle_input" class="classattr">
                                        <input id="QuestionScreen.handle_input-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">handle_input</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="QuestionScreen.handle_input-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QuestionScreen.handle_input"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QuestionScreen.handle_input-1396"><a href="#QuestionScreen.handle_input-1396"><span class="linenos">1396</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="QuestionScreen.handle_input-1397"><a href="#QuestionScreen.handle_input-1397"><span class="linenos">1397</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot; BOTONES PARA NAVEGAR EN LAS PREGUNTAS:</span>
</span><span id="QuestionScreen.handle_input-1398"><a href="#QuestionScreen.handle_input-1398"><span class="linenos">1398</span></a><span class="sd">        - : Navegar entre opciones de respuesta</span>
</span><span id="QuestionScreen.handle_input-1399"><a href="#QuestionScreen.handle_input-1399"><span class="linenos">1399</span></a><span class="sd">        - ENTER: Confirmar respuesta seleccionada</span>
</span><span id="QuestionScreen.handle_input-1400"><a href="#QuestionScreen.handle_input-1400"><span class="linenos">1400</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QuestionScreen.handle_input-1401"><a href="#QuestionScreen.handle_input-1401"><span class="linenos">1401</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">answered</span><span class="p">:</span>
</span><span id="QuestionScreen.handle_input-1402"><a href="#QuestionScreen.handle_input-1402"><span class="linenos">1402</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span><span class="p">:</span>
</span><span id="QuestionScreen.handle_input-1403"><a href="#QuestionScreen.handle_input-1403"><span class="linenos">1403</span></a>                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_UP</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1">#  BOTN ARRIBA</span>
</span><span id="QuestionScreen.handle_input-1404"><a href="#QuestionScreen.handle_input-1404"><span class="linenos">1404</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="QuestionScreen.handle_input-1405"><a href="#QuestionScreen.handle_input-1405"><span class="linenos">1405</span></a>                <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_DOWN</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;opciones&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1">#  BOTN ABAJO</span>
</span><span id="QuestionScreen.handle_input-1406"><a href="#QuestionScreen.handle_input-1406"><span class="linenos">1406</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="QuestionScreen.handle_input-1407"><a href="#QuestionScreen.handle_input-1407"><span class="linenos">1407</span></a>                <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_RETURN</span><span class="p">:</span>  <span class="c1">#  BOTN CONFIRMAR</span>
</span><span id="QuestionScreen.handle_input-1408"><a href="#QuestionScreen.handle_input-1408"><span class="linenos">1408</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">answered</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="QuestionScreen.handle_input-1409"><a href="#QuestionScreen.handle_input-1409"><span class="linenos">1409</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">correct</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;respuesta_correcta&quot;</span><span class="p">])</span>
</span><span id="QuestionScreen.handle_input-1410"><a href="#QuestionScreen.handle_input-1410"><span class="linenos">1410</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="QuestionScreen.handle_input-1411"><a href="#QuestionScreen.handle_input-1411"><span class="linenos">1411</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">=</span> <span class="mi">120</span>
</span></pre></div>


            <div class="docstring"><p> BOTONES PARA NAVEGAR EN LAS PREGUNTAS:</p>

<ul>
<li>: Navegar entre opciones de respuesta</li>
<li>ENTER: Confirmar respuesta seleccionada</li>
</ul>
</div>


                            </div>
                            <div id="QuestionScreen.update" class="classattr">
                                        <input id="QuestionScreen.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="QuestionScreen.update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QuestionScreen.update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QuestionScreen.update-1413"><a href="#QuestionScreen.update-1413"><span class="linenos">1413</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="QuestionScreen.update-1414"><a href="#QuestionScreen.update-1414"><span class="linenos">1414</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza el temporizador del resultado si se est mostrando.&quot;&quot;&quot;</span>
</span><span id="QuestionScreen.update-1415"><a href="#QuestionScreen.update-1415"><span class="linenos">1415</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="QuestionScreen.update-1416"><a href="#QuestionScreen.update-1416"><span class="linenos">1416</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">-=</span> <span class="mi">1</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza el temporizador del resultado si se est mostrando.</p>
</div>


                            </div>
                            <div id="QuestionScreen.draw" class="classattr">
                                        <input id="QuestionScreen.draw-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">draw</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">screen</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="QuestionScreen.draw-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QuestionScreen.draw"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QuestionScreen.draw-1418"><a href="#QuestionScreen.draw-1418"><span class="linenos">1418</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="QuestionScreen.draw-1419"><a href="#QuestionScreen.draw-1419"><span class="linenos">1419</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja la pantalla de pregunta y resultado en la superficie proporcionada.</span>
</span><span id="QuestionScreen.draw-1420"><a href="#QuestionScreen.draw-1420"><span class="linenos">1420</span></a>
</span><span id="QuestionScreen.draw-1421"><a href="#QuestionScreen.draw-1421"><span class="linenos">1421</span></a><span class="sd">        Args:</span>
</span><span id="QuestionScreen.draw-1422"><a href="#QuestionScreen.draw-1422"><span class="linenos">1422</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la pantalla de pregunta.</span>
</span><span id="QuestionScreen.draw-1423"><a href="#QuestionScreen.draw-1423"><span class="linenos">1423</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QuestionScreen.draw-1424"><a href="#QuestionScreen.draw-1424"><span class="linenos">1424</span></a>        <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="QuestionScreen.draw-1425"><a href="#QuestionScreen.draw-1425"><span class="linenos">1425</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1426"><a href="#QuestionScreen.draw-1426"><span class="linenos">1426</span></a>        <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1427"><a href="#QuestionScreen.draw-1427"><span class="linenos">1427</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="QuestionScreen.draw-1428"><a href="#QuestionScreen.draw-1428"><span class="linenos">1428</span></a>
</span><span id="QuestionScreen.draw-1429"><a href="#QuestionScreen.draw-1429"><span class="linenos">1429</span></a>        <span class="n">apu_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_title</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Apu </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s1">&#39;apu&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> te pregunta:&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1430"><a href="#QuestionScreen.draw-1430"><span class="linenos">1430</span></a>        <span class="n">apu_rect</span> <span class="o">=</span> <span class="n">apu_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
</span><span id="QuestionScreen.draw-1431"><a href="#QuestionScreen.draw-1431"><span class="linenos">1431</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">apu_text</span><span class="p">,</span> <span class="n">apu_rect</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1432"><a href="#QuestionScreen.draw-1432"><span class="linenos">1432</span></a>
</span><span id="QuestionScreen.draw-1433"><a href="#QuestionScreen.draw-1433"><span class="linenos">1433</span></a>        <span class="n">question_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrap_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;pregunta&quot;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span><span class="p">,</span> <span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1434"><a href="#QuestionScreen.draw-1434"><span class="linenos">1434</span></a>        <span class="n">y_offset</span> <span class="o">=</span> <span class="mi">150</span>
</span><span id="QuestionScreen.draw-1435"><a href="#QuestionScreen.draw-1435"><span class="linenos">1435</span></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">question_lines</span><span class="p">:</span>
</span><span id="QuestionScreen.draw-1436"><a href="#QuestionScreen.draw-1436"><span class="linenos">1436</span></a>            <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1437"><a href="#QuestionScreen.draw-1437"><span class="linenos">1437</span></a>            <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y_offset</span><span class="p">))</span>
</span><span id="QuestionScreen.draw-1438"><a href="#QuestionScreen.draw-1438"><span class="linenos">1438</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1439"><a href="#QuestionScreen.draw-1439"><span class="linenos">1439</span></a>            <span class="n">y_offset</span> <span class="o">+=</span> <span class="mi">25</span>
</span><span id="QuestionScreen.draw-1440"><a href="#QuestionScreen.draw-1440"><span class="linenos">1440</span></a>
</span><span id="QuestionScreen.draw-1441"><a href="#QuestionScreen.draw-1441"><span class="linenos">1441</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span><span class="p">:</span>
</span><span id="QuestionScreen.draw-1442"><a href="#QuestionScreen.draw-1442"><span class="linenos">1442</span></a>            <span class="n">y_offset</span> <span class="o">+=</span> <span class="mi">30</span>
</span><span id="QuestionScreen.draw-1443"><a href="#QuestionScreen.draw-1443"><span class="linenos">1443</span></a>            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">opcion</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;opciones&quot;</span><span class="p">]):</span>
</span><span id="QuestionScreen.draw-1444"><a href="#QuestionScreen.draw-1444"><span class="linenos">1444</span></a>                <span class="n">color</span> <span class="o">=</span> <span class="n">YELLOW</span> <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_option</span> <span class="k">else</span> <span class="n">WHITE</span>
</span><span id="QuestionScreen.draw-1445"><a href="#QuestionScreen.draw-1445"><span class="linenos">1445</span></a>                <span class="n">option_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">chr</span><span class="p">(</span><span class="mi">65</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="si">}</span><span class="s2">) </span><span class="si">{</span><span class="n">opcion</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="QuestionScreen.draw-1446"><a href="#QuestionScreen.draw-1446"><span class="linenos">1446</span></a>                <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_options</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">option_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1447"><a href="#QuestionScreen.draw-1447"><span class="linenos">1447</span></a>                <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y_offset</span><span class="p">))</span>
</span><span id="QuestionScreen.draw-1448"><a href="#QuestionScreen.draw-1448"><span class="linenos">1448</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1449"><a href="#QuestionScreen.draw-1449"><span class="linenos">1449</span></a>                <span class="n">y_offset</span> <span class="o">+=</span> <span class="mi">30</span>
</span><span id="QuestionScreen.draw-1450"><a href="#QuestionScreen.draw-1450"><span class="linenos">1450</span></a>
</span><span id="QuestionScreen.draw-1451"><a href="#QuestionScreen.draw-1451"><span class="linenos">1451</span></a>            <span class="n">instr_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_options</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Usa  para seleccionar, ENTER para confirmar&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GRAY</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1452"><a href="#QuestionScreen.draw-1452"><span class="linenos">1452</span></a>            <span class="n">instr_rect</span> <span class="o">=</span> <span class="n">instr_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">50</span><span class="p">))</span>
</span><span id="QuestionScreen.draw-1453"><a href="#QuestionScreen.draw-1453"><span class="linenos">1453</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">instr_text</span><span class="p">,</span> <span class="n">instr_rect</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1454"><a href="#QuestionScreen.draw-1454"><span class="linenos">1454</span></a>
</span><span id="QuestionScreen.draw-1455"><a href="#QuestionScreen.draw-1455"><span class="linenos">1455</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span><span class="p">:</span>
</span><span id="QuestionScreen.draw-1456"><a href="#QuestionScreen.draw-1456"><span class="linenos">1456</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">correct</span><span class="p">:</span>
</span><span id="QuestionScreen.draw-1457"><a href="#QuestionScreen.draw-1457"><span class="linenos">1457</span></a>                <span class="n">result_text</span> <span class="o">=</span> <span class="s2">&quot;CORRECTO! El Apu te permite pasar&quot;</span>
</span><span id="QuestionScreen.draw-1458"><a href="#QuestionScreen.draw-1458"><span class="linenos">1458</span></a>                <span class="n">color</span> <span class="o">=</span> <span class="n">GREEN</span>
</span><span id="QuestionScreen.draw-1459"><a href="#QuestionScreen.draw-1459"><span class="linenos">1459</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="QuestionScreen.draw-1460"><a href="#QuestionScreen.draw-1460"><span class="linenos">1460</span></a>                <span class="n">result_text</span> <span class="o">=</span> <span class="s2">&quot;INCORRECTO! Pierdes una vida&quot;</span>
</span><span id="QuestionScreen.draw-1461"><a href="#QuestionScreen.draw-1461"><span class="linenos">1461</span></a>                <span class="n">color</span> <span class="o">=</span> <span class="n">RED</span>
</span><span id="QuestionScreen.draw-1462"><a href="#QuestionScreen.draw-1462"><span class="linenos">1462</span></a>            
</span><span id="QuestionScreen.draw-1463"><a href="#QuestionScreen.draw-1463"><span class="linenos">1463</span></a>            <span class="n">text_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_title</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">result_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1464"><a href="#QuestionScreen.draw-1464"><span class="linenos">1464</span></a>            <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span><span class="p">))</span>
</span><span id="QuestionScreen.draw-1465"><a href="#QuestionScreen.draw-1465"><span class="linenos">1465</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surface</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1466"><a href="#QuestionScreen.draw-1466"><span class="linenos">1466</span></a>
</span><span id="QuestionScreen.draw-1467"><a href="#QuestionScreen.draw-1467"><span class="linenos">1467</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">correct</span><span class="p">:</span>
</span><span id="QuestionScreen.draw-1468"><a href="#QuestionScreen.draw-1468"><span class="linenos">1468</span></a>                <span class="n">correct_answer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;opciones&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">pregunta_data</span><span class="p">[</span><span class="s2">&quot;respuesta_correcta&quot;</span><span class="p">]]</span>
</span><span id="QuestionScreen.draw-1469"><a href="#QuestionScreen.draw-1469"><span class="linenos">1469</span></a>                <span class="n">answer_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Respuesta: </span><span class="si">{</span><span class="n">correct_answer</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="QuestionScreen.draw-1470"><a href="#QuestionScreen.draw-1470"><span class="linenos">1470</span></a>                <span class="n">answer_surface</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_question</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">answer_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="QuestionScreen.draw-1471"><a href="#QuestionScreen.draw-1471"><span class="linenos">1471</span></a>                <span class="n">answer_rect</span> <span class="o">=</span> <span class="n">answer_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">40</span><span class="p">))</span>
</span><span id="QuestionScreen.draw-1472"><a href="#QuestionScreen.draw-1472"><span class="linenos">1472</span></a>                <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">answer_surface</span><span class="p">,</span> <span class="n">answer_rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dibuja la pantalla de pregunta y resultado en la superficie proporcionada.</p>

<p>Args:
    screen (pygame.Surface): Superficie donde se dibuja la pantalla de pregunta.</p>
</div>


                            </div>
                            <div id="QuestionScreen.wrap_text" class="classattr">
                                        <input id="QuestionScreen.wrap_text-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">wrap_text</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">text</span>, </span><span class="param"><span class="n">font</span>, </span><span class="param"><span class="n">max_width</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="QuestionScreen.wrap_text-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QuestionScreen.wrap_text"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QuestionScreen.wrap_text-1474"><a href="#QuestionScreen.wrap_text-1474"><span class="linenos">1474</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">wrap_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">max_width</span><span class="p">):</span>
</span><span id="QuestionScreen.wrap_text-1475"><a href="#QuestionScreen.wrap_text-1475"><span class="linenos">1475</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Divide un texto en varias lneas para que se ajuste al ancho mximo.</span>
</span><span id="QuestionScreen.wrap_text-1476"><a href="#QuestionScreen.wrap_text-1476"><span class="linenos">1476</span></a>
</span><span id="QuestionScreen.wrap_text-1477"><a href="#QuestionScreen.wrap_text-1477"><span class="linenos">1477</span></a><span class="sd">        Args:</span>
</span><span id="QuestionScreen.wrap_text-1478"><a href="#QuestionScreen.wrap_text-1478"><span class="linenos">1478</span></a><span class="sd">            text (str): Texto a dividir.</span>
</span><span id="QuestionScreen.wrap_text-1479"><a href="#QuestionScreen.wrap_text-1479"><span class="linenos">1479</span></a><span class="sd">            font (pygame.font.Font): Fuente utilizada para medir el texto.</span>
</span><span id="QuestionScreen.wrap_text-1480"><a href="#QuestionScreen.wrap_text-1480"><span class="linenos">1480</span></a><span class="sd">            max_width (int): Ancho mximo permitido por lnea.</span>
</span><span id="QuestionScreen.wrap_text-1481"><a href="#QuestionScreen.wrap_text-1481"><span class="linenos">1481</span></a>
</span><span id="QuestionScreen.wrap_text-1482"><a href="#QuestionScreen.wrap_text-1482"><span class="linenos">1482</span></a><span class="sd">        Returns:</span>
</span><span id="QuestionScreen.wrap_text-1483"><a href="#QuestionScreen.wrap_text-1483"><span class="linenos">1483</span></a><span class="sd">            list[str]: Lista de lneas de texto ajustadas al ancho.</span>
</span><span id="QuestionScreen.wrap_text-1484"><a href="#QuestionScreen.wrap_text-1484"><span class="linenos">1484</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QuestionScreen.wrap_text-1485"><a href="#QuestionScreen.wrap_text-1485"><span class="linenos">1485</span></a>        <span class="n">words</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</span><span id="QuestionScreen.wrap_text-1486"><a href="#QuestionScreen.wrap_text-1486"><span class="linenos">1486</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="QuestionScreen.wrap_text-1487"><a href="#QuestionScreen.wrap_text-1487"><span class="linenos">1487</span></a>        <span class="n">current_line</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="QuestionScreen.wrap_text-1488"><a href="#QuestionScreen.wrap_text-1488"><span class="linenos">1488</span></a>        
</span><span id="QuestionScreen.wrap_text-1489"><a href="#QuestionScreen.wrap_text-1489"><span class="linenos">1489</span></a>        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
</span><span id="QuestionScreen.wrap_text-1490"><a href="#QuestionScreen.wrap_text-1490"><span class="linenos">1490</span></a>            <span class="n">test_line</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_line</span> <span class="o">+</span> <span class="p">[</span><span class="n">word</span><span class="p">])</span>
</span><span id="QuestionScreen.wrap_text-1491"><a href="#QuestionScreen.wrap_text-1491"><span class="linenos">1491</span></a>            <span class="k">if</span> <span class="n">font</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">test_line</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">max_width</span><span class="p">:</span>
</span><span id="QuestionScreen.wrap_text-1492"><a href="#QuestionScreen.wrap_text-1492"><span class="linenos">1492</span></a>                <span class="n">current_line</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="QuestionScreen.wrap_text-1493"><a href="#QuestionScreen.wrap_text-1493"><span class="linenos">1493</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="QuestionScreen.wrap_text-1494"><a href="#QuestionScreen.wrap_text-1494"><span class="linenos">1494</span></a>                <span class="k">if</span> <span class="n">current_line</span><span class="p">:</span>
</span><span id="QuestionScreen.wrap_text-1495"><a href="#QuestionScreen.wrap_text-1495"><span class="linenos">1495</span></a>                    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_line</span><span class="p">))</span>
</span><span id="QuestionScreen.wrap_text-1496"><a href="#QuestionScreen.wrap_text-1496"><span class="linenos">1496</span></a>                    <span class="n">current_line</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="p">]</span>
</span><span id="QuestionScreen.wrap_text-1497"><a href="#QuestionScreen.wrap_text-1497"><span class="linenos">1497</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="QuestionScreen.wrap_text-1498"><a href="#QuestionScreen.wrap_text-1498"><span class="linenos">1498</span></a>                    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="QuestionScreen.wrap_text-1499"><a href="#QuestionScreen.wrap_text-1499"><span class="linenos">1499</span></a>        
</span><span id="QuestionScreen.wrap_text-1500"><a href="#QuestionScreen.wrap_text-1500"><span class="linenos">1500</span></a>        <span class="k">if</span> <span class="n">current_line</span><span class="p">:</span>
</span><span id="QuestionScreen.wrap_text-1501"><a href="#QuestionScreen.wrap_text-1501"><span class="linenos">1501</span></a>            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_line</span><span class="p">))</span>
</span><span id="QuestionScreen.wrap_text-1502"><a href="#QuestionScreen.wrap_text-1502"><span class="linenos">1502</span></a>        
</span><span id="QuestionScreen.wrap_text-1503"><a href="#QuestionScreen.wrap_text-1503"><span class="linenos">1503</span></a>        <span class="k">return</span> <span class="n">lines</span>
</span></pre></div>


            <div class="docstring"><p>Divide un texto en varias lneas para que se ajuste al ancho mximo.</p>

<p>Args:
    text (str): Texto a dividir.
    font (pygame.font.Font): Fuente utilizada para medir el texto.
    max_width (int): Ancho mximo permitido por lnea.</p>

<p>Returns:
    list[str]: Lista de lneas de texto ajustadas al ancho.</p>
</div>


                            </div>
                            <div id="QuestionScreen.is_finished" class="classattr">
                                        <input id="QuestionScreen.is_finished-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_finished</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="QuestionScreen.is_finished-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QuestionScreen.is_finished"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QuestionScreen.is_finished-1505"><a href="#QuestionScreen.is_finished-1505"><span class="linenos">1505</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="QuestionScreen.is_finished-1506"><a href="#QuestionScreen.is_finished-1506"><span class="linenos">1506</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Indica si la pantalla de pregunta ha terminado de mostrar el resultado.</span>
</span><span id="QuestionScreen.is_finished-1507"><a href="#QuestionScreen.is_finished-1507"><span class="linenos">1507</span></a>
</span><span id="QuestionScreen.is_finished-1508"><a href="#QuestionScreen.is_finished-1508"><span class="linenos">1508</span></a><span class="sd">        Returns:</span>
</span><span id="QuestionScreen.is_finished-1509"><a href="#QuestionScreen.is_finished-1509"><span class="linenos">1509</span></a><span class="sd">            bool: True si termin, False en caso contrario.</span>
</span><span id="QuestionScreen.is_finished-1510"><a href="#QuestionScreen.is_finished-1510"><span class="linenos">1510</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QuestionScreen.is_finished-1511"><a href="#QuestionScreen.is_finished-1511"><span class="linenos">1511</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_result</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_timer</span> <span class="o">&lt;=</span> <span class="mi">0</span>
</span></pre></div>


            <div class="docstring"><p>Indica si la pantalla de pregunta ha terminado de mostrar el resultado.</p>

<p>Returns:
    bool: True si termin, False en caso contrario.</p>
</div>


                            </div>
                </section>
                <section id="GameScene">
                            <input id="GameScene-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">GameScene</span>:

                <label class="view-source-button" for="GameScene-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameScene"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameScene-1514"><a href="#GameScene-1514"><span class="linenos">1514</span></a><span class="k">class</span><span class="w"> </span><span class="nc">GameScene</span><span class="p">:</span>
</span><span id="GameScene-1515"><a href="#GameScene-1515"><span class="linenos">1515</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase que representa una escena del juego.</span>
</span><span id="GameScene-1516"><a href="#GameScene-1516"><span class="linenos">1516</span></a>
</span><span id="GameScene-1517"><a href="#GameScene-1517"><span class="linenos">1517</span></a><span class="sd">    Cada escena contiene un Apu, una puerta, artculos flotantes y un sistema de preguntas.</span>
</span><span id="GameScene-1518"><a href="#GameScene-1518"><span class="linenos">1518</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GameScene-1519"><a href="#GameScene-1519"><span class="linenos">1519</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">,</span> <span class="n">arbol_apus</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="GameScene-1520"><a href="#GameScene-1520"><span class="linenos">1520</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la escena con su Apu, puerta y artculos visuales.</span>
</span><span id="GameScene-1521"><a href="#GameScene-1521"><span class="linenos">1521</span></a>
</span><span id="GameScene-1522"><a href="#GameScene-1522"><span class="linenos">1522</span></a><span class="sd">        Args:</span>
</span><span id="GameScene-1523"><a href="#GameScene-1523"><span class="linenos">1523</span></a><span class="sd">            scene_number (int): Nmero de la escena.</span>
</span><span id="GameScene-1524"><a href="#GameScene-1524"><span class="linenos">1524</span></a><span class="sd">            arbol_apus (ArbolBinario | None): rbol binario con los Apus, opcional.</span>
</span><span id="GameScene-1525"><a href="#GameScene-1525"><span class="linenos">1525</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameScene-1526"><a href="#GameScene-1526"><span class="linenos">1526</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">=</span> <span class="n">scene_number</span>
</span><span id="GameScene-1527"><a href="#GameScene-1527"><span class="linenos">1527</span></a>        <span class="c1"># Obtener el nombre del Apu usando el rbol binario</span>
</span><span id="GameScene-1528"><a href="#GameScene-1528"><span class="linenos">1528</span></a>        <span class="k">if</span> <span class="n">arbol_apus</span><span class="p">:</span>
</span><span id="GameScene-1529"><a href="#GameScene-1529"><span class="linenos">1529</span></a>            <span class="n">apu_nodo</span> <span class="o">=</span> <span class="n">arbol_apus</span><span class="o">.</span><span class="n">obtener_apu_por_indice</span><span class="p">(</span><span class="n">scene_number</span><span class="p">)</span>
</span><span id="GameScene-1530"><a href="#GameScene-1530"><span class="linenos">1530</span></a>            <span class="k">if</span> <span class="n">apu_nodo</span><span class="p">:</span>
</span><span id="GameScene-1531"><a href="#GameScene-1531"><span class="linenos">1531</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span> <span class="o">=</span> <span class="n">apu_nodo</span><span class="o">.</span><span class="n">nombre</span>
</span><span id="GameScene-1532"><a href="#GameScene-1532"><span class="linenos">1532</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="GameScene-1533"><a href="#GameScene-1533"><span class="linenos">1533</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">APUS_DATA</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="n">scene_number</span><span class="p">]</span>  <span class="c1"># Fallback</span>
</span><span id="GameScene-1534"><a href="#GameScene-1534"><span class="linenos">1534</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="GameScene-1535"><a href="#GameScene-1535"><span class="linenos">1535</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">APUS_DATA</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="n">scene_number</span><span class="p">]</span>  <span class="c1"># Fallback</span>
</span><span id="GameScene-1536"><a href="#GameScene-1536"><span class="linenos">1536</span></a>        
</span><span id="GameScene-1537"><a href="#GameScene-1537"><span class="linenos">1537</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">apu</span> <span class="o">=</span> <span class="n">Apu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span><span class="p">,</span> <span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">40</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">230</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">,</span> <span class="n">arbol_apus</span><span class="p">)</span>
</span><span id="GameScene-1538"><a href="#GameScene-1538"><span class="linenos">1538</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">door</span> <span class="o">=</span> <span class="n">Door</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="mi">100</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span><span class="p">)</span>
</span><span id="GameScene-1539"><a href="#GameScene-1539"><span class="linenos">1539</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="GameScene-1540"><a href="#GameScene-1540"><span class="linenos">1540</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="GameScene-1541"><a href="#GameScene-1541"><span class="linenos">1541</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="GameScene-1542"><a href="#GameScene-1542"><span class="linenos">1542</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player_can_advance</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="GameScene-1543"><a href="#GameScene-1543"><span class="linenos">1543</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="GameScene-1544"><a href="#GameScene-1544"><span class="linenos">1544</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="GameScene-1545"><a href="#GameScene-1545"><span class="linenos">1545</span></a>        
</span><span id="GameScene-1546"><a href="#GameScene-1546"><span class="linenos">1546</span></a>        <span class="c1"># Crear artculos visibles que flotan en la escena</span>
</span><span id="GameScene-1547"><a href="#GameScene-1547"><span class="linenos">1547</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="GameScene-1548"><a href="#GameScene-1548"><span class="linenos">1548</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">create_visual_artikulos</span><span class="p">()</span>
</span><span id="GameScene-1549"><a href="#GameScene-1549"><span class="linenos">1549</span></a>
</span><span id="GameScene-1550"><a href="#GameScene-1550"><span class="linenos">1550</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_visual_artikulos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameScene-1551"><a href="#GameScene-1551"><span class="linenos">1551</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Crear artculos visuales que aparecern despus de responder correctamente&quot;&quot;&quot;</span>
</span><span id="GameScene-1552"><a href="#GameScene-1552"><span class="linenos">1552</span></a>        <span class="n">illas_de_esta_escena</span> <span class="o">=</span> <span class="n">ILLAS_ROBADAS_POR_ESCENA</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="GameScene-1553"><a href="#GameScene-1553"><span class="linenos">1553</span></a>        <span class="n">x_start</span> <span class="o">=</span> <span class="mi">150</span>
</span><span id="GameScene-1554"><a href="#GameScene-1554"><span class="linenos">1554</span></a>        <span class="n">spacing</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="GameScene-1555"><a href="#GameScene-1555"><span class="linenos">1555</span></a>        
</span><span id="GameScene-1556"><a href="#GameScene-1556"><span class="linenos">1556</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">illas_de_esta_escena</span><span class="p">):</span>
</span><span id="GameScene-1557"><a href="#GameScene-1557"><span class="linenos">1557</span></a>            <span class="n">x</span> <span class="o">=</span> <span class="n">x_start</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">spacing</span><span class="p">)</span>
</span><span id="GameScene-1558"><a href="#GameScene-1558"><span class="linenos">1558</span></a>            <span class="n">y</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span>
</span><span id="GameScene-1559"><a href="#GameScene-1559"><span class="linenos">1559</span></a>            <span class="n">articulo</span> <span class="o">=</span> <span class="n">Articulo</span><span class="p">(</span><span class="n">illa_name</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="GameScene-1560"><a href="#GameScene-1560"><span class="linenos">1560</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># Empiezan como &quot;recolectados&quot; (invisibles)</span>
</span><span id="GameScene-1561"><a href="#GameScene-1561"><span class="linenos">1561</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">articulo</span><span class="p">)</span>
</span><span id="GameScene-1562"><a href="#GameScene-1562"><span class="linenos">1562</span></a>
</span><span id="GameScene-1563"><a href="#GameScene-1563"><span class="linenos">1563</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">show_artikulos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameScene-1564"><a href="#GameScene-1564"><span class="linenos">1564</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Hacer visibles los artculos cuando el Apu los entrega&quot;&quot;&quot;</span>
</span><span id="GameScene-1565"><a href="#GameScene-1565"><span class="linenos">1565</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="GameScene-1566"><a href="#GameScene-1566"><span class="linenos">1566</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Hacerlos visibles</span>
</span><span id="GameScene-1567"><a href="#GameScene-1567"><span class="linenos">1567</span></a>        
</span><span id="GameScene-1568"><a href="#GameScene-1568"><span class="linenos">1568</span></a>        <span class="c1"># Timer para recolectarlos automticamente despus de un tiempo</span>
</span><span id="GameScene-1569"><a href="#GameScene-1569"><span class="linenos">1569</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">=</span> <span class="mi">180</span>  <span class="c1"># 3 segundos</span>
</span><span id="GameScene-1570"><a href="#GameScene-1570"><span class="linenos">1570</span></a>
</span><span id="GameScene-1571"><a href="#GameScene-1571"><span class="linenos">1571</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">start_question</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameScene-1572"><a href="#GameScene-1572"><span class="linenos">1572</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicia la pantalla de pregunta si no se est mostrando y la escena no est completada.&quot;&quot;&quot;</span>
</span><span id="GameScene-1573"><a href="#GameScene-1573"><span class="linenos">1573</span></a>
</span><span id="GameScene-1574"><a href="#GameScene-1574"><span class="linenos">1574</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="GameScene-1575"><a href="#GameScene-1575"><span class="linenos">1575</span></a>            <span class="c1">#  OPTIMIZACIN MXIMA: Acceso directo a preguntas en memoria</span>
</span><span id="GameScene-1576"><a href="#GameScene-1576"><span class="linenos">1576</span></a>            <span class="n">pregunta_data</span> <span class="o">=</span> <span class="n">PREGUNTAS_APUS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="GameScene-1577"><a href="#GameScene-1577"><span class="linenos">1577</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span> <span class="o">=</span> <span class="n">QuestionScreen</span><span class="p">(</span><span class="n">pregunta_data</span><span class="p">)</span>
</span><span id="GameScene-1578"><a href="#GameScene-1578"><span class="linenos">1578</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="GameScene-1579"><a href="#GameScene-1579"><span class="linenos">1579</span></a>
</span><span id="GameScene-1580"><a href="#GameScene-1580"><span class="linenos">1580</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="GameScene-1581"><a href="#GameScene-1581"><span class="linenos">1581</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Procesa los eventos del jugador relacionados con la pregunta y la recoleccin de illas.</span>
</span><span id="GameScene-1582"><a href="#GameScene-1582"><span class="linenos">1582</span></a>
</span><span id="GameScene-1583"><a href="#GameScene-1583"><span class="linenos">1583</span></a><span class="sd">        Args:</span>
</span><span id="GameScene-1584"><a href="#GameScene-1584"><span class="linenos">1584</span></a><span class="sd">            event (pygame.event.Event): Evento de teclado.</span>
</span><span id="GameScene-1585"><a href="#GameScene-1585"><span class="linenos">1585</span></a><span class="sd">            player (Player): Instancia del jugador.</span>
</span><span id="GameScene-1586"><a href="#GameScene-1586"><span class="linenos">1586</span></a>
</span><span id="GameScene-1587"><a href="#GameScene-1587"><span class="linenos">1587</span></a><span class="sd">        Returns:</span>
</span><span id="GameScene-1588"><a href="#GameScene-1588"><span class="linenos">1588</span></a><span class="sd">            str: &quot;CONTINUE&quot; si el juego sigue, &quot;GAME_OVER&quot; si el jugador pierde todas sus vidas.</span>
</span><span id="GameScene-1589"><a href="#GameScene-1589"><span class="linenos">1589</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameScene-1590"><a href="#GameScene-1590"><span class="linenos">1590</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="p">:</span>
</span><span id="GameScene-1591"><a href="#GameScene-1591"><span class="linenos">1591</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="GameScene-1592"><a href="#GameScene-1592"><span class="linenos">1592</span></a>            
</span><span id="GameScene-1593"><a href="#GameScene-1593"><span class="linenos">1593</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">is_finished</span><span class="p">():</span>
</span><span id="GameScene-1594"><a href="#GameScene-1594"><span class="linenos">1594</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">correct</span><span class="p">:</span>
</span><span id="GameScene-1595"><a href="#GameScene-1595"><span class="linenos">1595</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="GameScene-1596"><a href="#GameScene-1596"><span class="linenos">1596</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">open_door</span><span class="p">()</span>
</span><span id="GameScene-1597"><a href="#GameScene-1597"><span class="linenos">1597</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">player_can_advance</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="GameScene-1598"><a href="#GameScene-1598"><span class="linenos">1598</span></a>                    
</span><span id="GameScene-1599"><a href="#GameScene-1599"><span class="linenos">1599</span></a>                    <span class="c1"># El Apu entrega las illas robadas</span>
</span><span id="GameScene-1600"><a href="#GameScene-1600"><span class="linenos">1600</span></a>                    <span class="n">illas_received</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">give_illas_to_player</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">)</span>
</span><span id="GameScene-1601"><a href="#GameScene-1601"><span class="linenos">1601</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">illas_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Recibiste: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">illas_received</span><span class="p">)</span><span class="si">}</span><span class="s2">!&quot;</span>
</span><span id="GameScene-1602"><a href="#GameScene-1602"><span class="linenos">1602</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">=</span> <span class="mi">300</span>
</span><span id="GameScene-1603"><a href="#GameScene-1603"><span class="linenos">1603</span></a>                    
</span><span id="GameScene-1604"><a href="#GameScene-1604"><span class="linenos">1604</span></a>                    <span class="c1"># Mostrar artculos visuales flotando</span>
</span><span id="GameScene-1605"><a href="#GameScene-1605"><span class="linenos">1605</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">show_artikulos</span><span class="p">()</span>
</span><span id="GameScene-1606"><a href="#GameScene-1606"><span class="linenos">1606</span></a>                    
</span><span id="GameScene-1607"><a href="#GameScene-1607"><span class="linenos">1607</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="GameScene-1608"><a href="#GameScene-1608"><span class="linenos">1608</span></a>                    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">lose_life</span><span class="p">():</span>
</span><span id="GameScene-1609"><a href="#GameScene-1609"><span class="linenos">1609</span></a>                        <span class="c1">#  OPTIMIZACIN MXIMA: Acceso directo a preguntas en memoria</span>
</span><span id="GameScene-1610"><a href="#GameScene-1610"><span class="linenos">1610</span></a>                        <span class="n">pregunta_data</span> <span class="o">=</span> <span class="n">PREGUNTAS_APUS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="GameScene-1611"><a href="#GameScene-1611"><span class="linenos">1611</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span> <span class="o">=</span> <span class="n">QuestionScreen</span><span class="p">(</span><span class="n">pregunta_data</span><span class="p">)</span>
</span><span id="GameScene-1612"><a href="#GameScene-1612"><span class="linenos">1612</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="GameScene-1613"><a href="#GameScene-1613"><span class="linenos">1613</span></a>                        <span class="k">return</span> <span class="s2">&quot;GAME_OVER&quot;</span>
</span><span id="GameScene-1614"><a href="#GameScene-1614"><span class="linenos">1614</span></a>                
</span><span id="GameScene-1615"><a href="#GameScene-1615"><span class="linenos">1615</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="GameScene-1616"><a href="#GameScene-1616"><span class="linenos">1616</span></a>        
</span><span id="GameScene-1617"><a href="#GameScene-1617"><span class="linenos">1617</span></a>        <span class="k">return</span> <span class="s2">&quot;CONTINUE&quot;</span>
</span><span id="GameScene-1618"><a href="#GameScene-1618"><span class="linenos">1618</span></a>
</span><span id="GameScene-1619"><a href="#GameScene-1619"><span class="linenos">1619</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="GameScene-1620"><a href="#GameScene-1620"><span class="linenos">1620</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la escena, incluyendo Apu, puerta, pregunta y artculos.</span>
</span><span id="GameScene-1621"><a href="#GameScene-1621"><span class="linenos">1621</span></a>
</span><span id="GameScene-1622"><a href="#GameScene-1622"><span class="linenos">1622</span></a><span class="sd">        Args:</span>
</span><span id="GameScene-1623"><a href="#GameScene-1623"><span class="linenos">1623</span></a><span class="sd">            player (Player): Instancia del jugador para verificar proximidad y recoleccin.</span>
</span><span id="GameScene-1624"><a href="#GameScene-1624"><span class="linenos">1624</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameScene-1625"><a href="#GameScene-1625"><span class="linenos">1625</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameScene-1626"><a href="#GameScene-1626"><span class="linenos">1626</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameScene-1627"><a href="#GameScene-1627"><span class="linenos">1627</span></a>        
</span><span id="GameScene-1628"><a href="#GameScene-1628"><span class="linenos">1628</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="p">:</span>
</span><span id="GameScene-1629"><a href="#GameScene-1629"><span class="linenos">1629</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameScene-1630"><a href="#GameScene-1630"><span class="linenos">1630</span></a>        
</span><span id="GameScene-1631"><a href="#GameScene-1631"><span class="linenos">1631</span></a>        <span class="c1"># Actualizar artculos visuales</span>
</span><span id="GameScene-1632"><a href="#GameScene-1632"><span class="linenos">1632</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="GameScene-1633"><a href="#GameScene-1633"><span class="linenos">1633</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameScene-1634"><a href="#GameScene-1634"><span class="linenos">1634</span></a>        
</span><span id="GameScene-1635"><a href="#GameScene-1635"><span class="linenos">1635</span></a>        <span class="c1"># Verificar recoleccin por proximidad</span>
</span><span id="GameScene-1636"><a href="#GameScene-1636"><span class="linenos">1636</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="GameScene-1637"><a href="#GameScene-1637"><span class="linenos">1637</span></a>            <span class="n">player</span><span class="o">.</span><span class="n">check_collection_proximity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">)</span>
</span><span id="GameScene-1638"><a href="#GameScene-1638"><span class="linenos">1638</span></a>        
</span><span id="GameScene-1639"><a href="#GameScene-1639"><span class="linenos">1639</span></a>        <span class="c1"># Auto-recolectar artculos despus de un tiempo (solo si no se recolectaron manualmente)</span>
</span><span id="GameScene-1640"><a href="#GameScene-1640"><span class="linenos">1640</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;auto_collect_timer&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GameScene-1641"><a href="#GameScene-1641"><span class="linenos">1641</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="GameScene-1642"><a href="#GameScene-1642"><span class="linenos">1642</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GameScene-1643"><a href="#GameScene-1643"><span class="linenos">1643</span></a>                <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="GameScene-1644"><a href="#GameScene-1644"><span class="linenos">1644</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="GameScene-1645"><a href="#GameScene-1645"><span class="linenos">1645</span></a>                        <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="GameScene-1646"><a href="#GameScene-1646"><span class="linenos">1646</span></a>                        <span class="n">player</span><span class="o">.</span><span class="n">collect_articulos</span><span class="p">([</span><span class="n">articulo</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
</span><span id="GameScene-1647"><a href="#GameScene-1647"><span class="linenos">1647</span></a>        
</span><span id="GameScene-1648"><a href="#GameScene-1648"><span class="linenos">1648</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GameScene-1649"><a href="#GameScene-1649"><span class="linenos">1649</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="GameScene-1650"><a href="#GameScene-1650"><span class="linenos">1650</span></a>        
</span><span id="GameScene-1651"><a href="#GameScene-1651"><span class="linenos">1651</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="GameScene-1652"><a href="#GameScene-1652"><span class="linenos">1652</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="p">):</span>
</span><span id="GameScene-1653"><a href="#GameScene-1653"><span class="linenos">1653</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">start_question</span><span class="p">()</span>
</span><span id="GameScene-1654"><a href="#GameScene-1654"><span class="linenos">1654</span></a>
</span><span id="GameScene-1655"><a href="#GameScene-1655"><span class="linenos">1655</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="GameScene-1656"><a href="#GameScene-1656"><span class="linenos">1656</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja la escena completa, incluyendo Apu, puerta, artculos y HUD.</span>
</span><span id="GameScene-1657"><a href="#GameScene-1657"><span class="linenos">1657</span></a>
</span><span id="GameScene-1658"><a href="#GameScene-1658"><span class="linenos">1658</span></a><span class="sd">        Args:</span>
</span><span id="GameScene-1659"><a href="#GameScene-1659"><span class="linenos">1659</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la escena.</span>
</span><span id="GameScene-1660"><a href="#GameScene-1660"><span class="linenos">1660</span></a><span class="sd">            player (Player): Instancia del jugador para mostrar informacin relevante.</span>
</span><span id="GameScene-1661"><a href="#GameScene-1661"><span class="linenos">1661</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameScene-1662"><a href="#GameScene-1662"><span class="linenos">1662</span></a>        <span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="GameScene-1663"><a href="#GameScene-1663"><span class="linenos">1663</span></a>        <span class="c1"># Obtener el bioma del Apu usando el rbol binario o fallback</span>
</span><span id="GameScene-1664"><a href="#GameScene-1664"><span class="linenos">1664</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;apu&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">):</span>
</span><span id="GameScene-1665"><a href="#GameScene-1665"><span class="linenos">1665</span></a>            <span class="n">bioma</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bioma&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="GameScene-1666"><a href="#GameScene-1666"><span class="linenos">1666</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="GameScene-1667"><a href="#GameScene-1667"><span class="linenos">1667</span></a>            <span class="n">bioma</span> <span class="o">=</span> <span class="n">APUS_DATA</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bioma&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="GameScene-1668"><a href="#GameScene-1668"><span class="linenos">1668</span></a>        
</span><span id="GameScene-1669"><a href="#GameScene-1669"><span class="linenos">1669</span></a>        <span class="n">scene_text</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Escena </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">/14 - </span><span class="si">{</span><span class="n">bioma</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameScene-1670"><a href="#GameScene-1670"><span class="linenos">1670</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">scene_text</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</span><span id="GameScene-1671"><a href="#GameScene-1671"><span class="linenos">1671</span></a>        
</span><span id="GameScene-1672"><a href="#GameScene-1672"><span class="linenos">1672</span></a>        <span class="n">draw_pixelated_hearts</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">player</span><span class="o">.</span><span class="n">lives</span><span class="p">,</span> <span class="n">player</span><span class="o">.</span><span class="n">max_lives</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
</span><span id="GameScene-1673"><a href="#GameScene-1673"><span class="linenos">1673</span></a>        
</span><span id="GameScene-1674"><a href="#GameScene-1674"><span class="linenos">1674</span></a>        <span class="n">illas_text</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Illas Recuperadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameScene-1675"><a href="#GameScene-1675"><span class="linenos">1675</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">illas_text</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">80</span><span class="p">))</span>
</span><span id="GameScene-1676"><a href="#GameScene-1676"><span class="linenos">1676</span></a>        
</span><span id="GameScene-1677"><a href="#GameScene-1677"><span class="linenos">1677</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GameScene-1678"><a href="#GameScene-1678"><span class="linenos">1678</span></a>            <span class="n">message_font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="GameScene-1679"><a href="#GameScene-1679"><span class="linenos">1679</span></a>            <span class="n">message_surface</span> <span class="o">=</span> <span class="n">message_font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">illas_message</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GREEN</span><span class="p">)</span>
</span><span id="GameScene-1680"><a href="#GameScene-1680"><span class="linenos">1680</span></a>            <span class="n">message_rect</span> <span class="o">=</span> <span class="n">message_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>
</span><span id="GameScene-1681"><a href="#GameScene-1681"><span class="linenos">1681</span></a>            
</span><span id="GameScene-1682"><a href="#GameScene-1682"><span class="linenos">1682</span></a>            <span class="n">padding</span> <span class="o">=</span> <span class="mi">10</span>
</span><span id="GameScene-1683"><a href="#GameScene-1683"><span class="linenos">1683</span></a>            <span class="n">bg_rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">message_rect</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">padding</span><span class="p">,</span> <span class="n">message_rect</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">padding</span><span class="p">,</span>
</span><span id="GameScene-1684"><a href="#GameScene-1684"><span class="linenos">1684</span></a>                                <span class="n">message_rect</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">padding</span><span class="p">,</span> <span class="n">message_rect</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">padding</span><span class="p">)</span>
</span><span id="GameScene-1685"><a href="#GameScene-1685"><span class="linenos">1685</span></a>            <span class="n">bg_surface</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">bg_rect</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">bg_rect</span><span class="o">.</span><span class="n">height</span><span class="p">))</span>
</span><span id="GameScene-1686"><a href="#GameScene-1686"><span class="linenos">1686</span></a>            <span class="n">bg_surface</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">180</span><span class="p">)</span>
</span><span id="GameScene-1687"><a href="#GameScene-1687"><span class="linenos">1687</span></a>            <span class="n">bg_surface</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="GameScene-1688"><a href="#GameScene-1688"><span class="linenos">1688</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">bg_surface</span><span class="p">,</span> <span class="n">bg_rect</span><span class="p">)</span>
</span><span id="GameScene-1689"><a href="#GameScene-1689"><span class="linenos">1689</span></a>            
</span><span id="GameScene-1690"><a href="#GameScene-1690"><span class="linenos">1690</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">message_surface</span><span class="p">,</span> <span class="n">message_rect</span><span class="p">)</span>
</span><span id="GameScene-1691"><a href="#GameScene-1691"><span class="linenos">1691</span></a>        
</span><span id="GameScene-1692"><a href="#GameScene-1692"><span class="linenos">1692</span></a>        <span class="c1"># Dibujar artculos visuales flotantes con animacin</span>
</span><span id="GameScene-1693"><a href="#GameScene-1693"><span class="linenos">1693</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="GameScene-1694"><a href="#GameScene-1694"><span class="linenos">1694</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameScene-1695"><a href="#GameScene-1695"><span class="linenos">1695</span></a>            
</span><span id="GameScene-1696"><a href="#GameScene-1696"><span class="linenos">1696</span></a>            <span class="c1"># Dibujar indicador de proximidad si est cerca del jugador</span>
</span><span id="GameScene-1697"><a href="#GameScene-1697"><span class="linenos">1697</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="GameScene-1698"><a href="#GameScene-1698"><span class="linenos">1698</span></a>                <span class="n">distance</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> 
</span><span id="GameScene-1699"><a href="#GameScene-1699"><span class="linenos">1699</span></a>                                  <span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</span><span id="GameScene-1700"><a href="#GameScene-1700"><span class="linenos">1700</span></a>                <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="n">player</span><span class="o">.</span><span class="n">collection_radius</span><span class="p">:</span>
</span><span id="GameScene-1701"><a href="#GameScene-1701"><span class="linenos">1701</span></a>                    <span class="c1"># Dibujar crculo de proximidad</span>
</span><span id="GameScene-1702"><a href="#GameScene-1702"><span class="linenos">1702</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> 
</span><span id="GameScene-1703"><a href="#GameScene-1703"><span class="linenos">1703</span></a>                                     <span class="n">player</span><span class="o">.</span><span class="n">collection_radius</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="GameScene-1704"><a href="#GameScene-1704"><span class="linenos">1704</span></a>                    <span class="c1"># Dibujar texto de instruccin</span>
</span><span id="GameScene-1705"><a href="#GameScene-1705"><span class="linenos">1705</span></a>                    <span class="n">collect_text</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
</span><span id="GameScene-1706"><a href="#GameScene-1706"><span class="linenos">1706</span></a>                        <span class="s2">&quot;Acrcate para recolectar!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="GameScene-1707"><a href="#GameScene-1707"><span class="linenos">1707</span></a>                    <span class="n">collect_rect</span> <span class="o">=</span> <span class="n">collect_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> 
</span><span id="GameScene-1708"><a href="#GameScene-1708"><span class="linenos">1708</span></a>                                                               <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="mi">30</span><span class="p">))</span>
</span><span id="GameScene-1709"><a href="#GameScene-1709"><span class="linenos">1709</span></a>                    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">collect_text</span><span class="p">,</span> <span class="n">collect_rect</span><span class="p">)</span>
</span><span id="GameScene-1710"><a href="#GameScene-1710"><span class="linenos">1710</span></a>        
</span><span id="GameScene-1711"><a href="#GameScene-1711"><span class="linenos">1711</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="GameScene-1712"><a href="#GameScene-1712"><span class="linenos">1712</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameScene-1713"><a href="#GameScene-1713"><span class="linenos">1713</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameScene-1714"><a href="#GameScene-1714"><span class="linenos">1714</span></a>        
</span><span id="GameScene-1715"><a href="#GameScene-1715"><span class="linenos">1715</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="p">:</span>
</span><span id="GameScene-1716"><a href="#GameScene-1716"><span class="linenos">1716</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameScene-1717"><a href="#GameScene-1717"><span class="linenos">1717</span></a>
</span><span id="GameScene-1718"><a href="#GameScene-1718"><span class="linenos">1718</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">can_advance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="GameScene-1719"><a href="#GameScene-1719"><span class="linenos">1719</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifica si el jugador puede avanzar a la siguiente escena.</span>
</span><span id="GameScene-1720"><a href="#GameScene-1720"><span class="linenos">1720</span></a>
</span><span id="GameScene-1721"><a href="#GameScene-1721"><span class="linenos">1721</span></a><span class="sd">        Args:</span>
</span><span id="GameScene-1722"><a href="#GameScene-1722"><span class="linenos">1722</span></a><span class="sd">            player (Player): Instancia del jugador.</span>
</span><span id="GameScene-1723"><a href="#GameScene-1723"><span class="linenos">1723</span></a>
</span><span id="GameScene-1724"><a href="#GameScene-1724"><span class="linenos">1724</span></a><span class="sd">        Returns:</span>
</span><span id="GameScene-1725"><a href="#GameScene-1725"><span class="linenos">1725</span></a><span class="sd">            bool: True si puede avanzar, False en caso contrario.</span>
</span><span id="GameScene-1726"><a href="#GameScene-1726"><span class="linenos">1726</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameScene-1727"><a href="#GameScene-1727"><span class="linenos">1727</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">player_can_advance</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Clase que representa una escena del juego.</p>

<p>Cada escena contiene un Apu, una puerta, artculos flotantes y un sistema de preguntas.</p>
</div>


                            <div id="GameScene.__init__" class="classattr">
                                        <input id="GameScene.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">GameScene</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">scene_number</span>, </span><span class="param"><span class="n">arbol_apus</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="GameScene.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameScene.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameScene.__init__-1519"><a href="#GameScene.__init__-1519"><span class="linenos">1519</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">,</span> <span class="n">arbol_apus</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="GameScene.__init__-1520"><a href="#GameScene.__init__-1520"><span class="linenos">1520</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa la escena con su Apu, puerta y artculos visuales.</span>
</span><span id="GameScene.__init__-1521"><a href="#GameScene.__init__-1521"><span class="linenos">1521</span></a>
</span><span id="GameScene.__init__-1522"><a href="#GameScene.__init__-1522"><span class="linenos">1522</span></a><span class="sd">        Args:</span>
</span><span id="GameScene.__init__-1523"><a href="#GameScene.__init__-1523"><span class="linenos">1523</span></a><span class="sd">            scene_number (int): Nmero de la escena.</span>
</span><span id="GameScene.__init__-1524"><a href="#GameScene.__init__-1524"><span class="linenos">1524</span></a><span class="sd">            arbol_apus (ArbolBinario | None): rbol binario con los Apus, opcional.</span>
</span><span id="GameScene.__init__-1525"><a href="#GameScene.__init__-1525"><span class="linenos">1525</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameScene.__init__-1526"><a href="#GameScene.__init__-1526"><span class="linenos">1526</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">=</span> <span class="n">scene_number</span>
</span><span id="GameScene.__init__-1527"><a href="#GameScene.__init__-1527"><span class="linenos">1527</span></a>        <span class="c1"># Obtener el nombre del Apu usando el rbol binario</span>
</span><span id="GameScene.__init__-1528"><a href="#GameScene.__init__-1528"><span class="linenos">1528</span></a>        <span class="k">if</span> <span class="n">arbol_apus</span><span class="p">:</span>
</span><span id="GameScene.__init__-1529"><a href="#GameScene.__init__-1529"><span class="linenos">1529</span></a>            <span class="n">apu_nodo</span> <span class="o">=</span> <span class="n">arbol_apus</span><span class="o">.</span><span class="n">obtener_apu_por_indice</span><span class="p">(</span><span class="n">scene_number</span><span class="p">)</span>
</span><span id="GameScene.__init__-1530"><a href="#GameScene.__init__-1530"><span class="linenos">1530</span></a>            <span class="k">if</span> <span class="n">apu_nodo</span><span class="p">:</span>
</span><span id="GameScene.__init__-1531"><a href="#GameScene.__init__-1531"><span class="linenos">1531</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span> <span class="o">=</span> <span class="n">apu_nodo</span><span class="o">.</span><span class="n">nombre</span>
</span><span id="GameScene.__init__-1532"><a href="#GameScene.__init__-1532"><span class="linenos">1532</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="GameScene.__init__-1533"><a href="#GameScene.__init__-1533"><span class="linenos">1533</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">APUS_DATA</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="n">scene_number</span><span class="p">]</span>  <span class="c1"># Fallback</span>
</span><span id="GameScene.__init__-1534"><a href="#GameScene.__init__-1534"><span class="linenos">1534</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="GameScene.__init__-1535"><a href="#GameScene.__init__-1535"><span class="linenos">1535</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">APUS_DATA</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="n">scene_number</span><span class="p">]</span>  <span class="c1"># Fallback</span>
</span><span id="GameScene.__init__-1536"><a href="#GameScene.__init__-1536"><span class="linenos">1536</span></a>        
</span><span id="GameScene.__init__-1537"><a href="#GameScene.__init__-1537"><span class="linenos">1537</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">apu</span> <span class="o">=</span> <span class="n">Apu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span><span class="p">,</span> <span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">40</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">230</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">,</span> <span class="n">arbol_apus</span><span class="p">)</span>
</span><span id="GameScene.__init__-1538"><a href="#GameScene.__init__-1538"><span class="linenos">1538</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">door</span> <span class="o">=</span> <span class="n">Door</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="mi">100</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span><span class="p">)</span>
</span><span id="GameScene.__init__-1539"><a href="#GameScene.__init__-1539"><span class="linenos">1539</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="GameScene.__init__-1540"><a href="#GameScene.__init__-1540"><span class="linenos">1540</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="GameScene.__init__-1541"><a href="#GameScene.__init__-1541"><span class="linenos">1541</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="GameScene.__init__-1542"><a href="#GameScene.__init__-1542"><span class="linenos">1542</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player_can_advance</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="GameScene.__init__-1543"><a href="#GameScene.__init__-1543"><span class="linenos">1543</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="GameScene.__init__-1544"><a href="#GameScene.__init__-1544"><span class="linenos">1544</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="GameScene.__init__-1545"><a href="#GameScene.__init__-1545"><span class="linenos">1545</span></a>        
</span><span id="GameScene.__init__-1546"><a href="#GameScene.__init__-1546"><span class="linenos">1546</span></a>        <span class="c1"># Crear artculos visibles que flotan en la escena</span>
</span><span id="GameScene.__init__-1547"><a href="#GameScene.__init__-1547"><span class="linenos">1547</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="GameScene.__init__-1548"><a href="#GameScene.__init__-1548"><span class="linenos">1548</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">create_visual_artikulos</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa la escena con su Apu, puerta y artculos visuales.</p>

<p>Args:
    scene_number (int): Nmero de la escena.
    arbol_apus (ArbolBinario | None): rbol binario con los Apus, opcional.</p>
</div>


                            </div>
                            <div id="GameScene.scene_number" class="classattr">
                                <div class="attr variable">
            <span class="name">scene_number</span>

        
    </div>
    <a class="headerlink" href="#GameScene.scene_number"></a>
    
    

                            </div>
                            <div id="GameScene.apu" class="classattr">
                                <div class="attr variable">
            <span class="name">apu</span>

        
    </div>
    <a class="headerlink" href="#GameScene.apu"></a>
    
    

                            </div>
                            <div id="GameScene.door" class="classattr">
                                <div class="attr variable">
            <span class="name">door</span>

        
    </div>
    <a class="headerlink" href="#GameScene.door"></a>
    
    

                            </div>
                            <div id="GameScene.question_screen" class="classattr">
                                <div class="attr variable">
            <span class="name">question_screen</span>

        
    </div>
    <a class="headerlink" href="#GameScene.question_screen"></a>
    
    

                            </div>
                            <div id="GameScene.completed" class="classattr">
                                <div class="attr variable">
            <span class="name">completed</span>

        
    </div>
    <a class="headerlink" href="#GameScene.completed"></a>
    
    

                            </div>
                            <div id="GameScene.showing_question" class="classattr">
                                <div class="attr variable">
            <span class="name">showing_question</span>

        
    </div>
    <a class="headerlink" href="#GameScene.showing_question"></a>
    
    

                            </div>
                            <div id="GameScene.player_can_advance" class="classattr">
                                <div class="attr variable">
            <span class="name">player_can_advance</span>

        
    </div>
    <a class="headerlink" href="#GameScene.player_can_advance"></a>
    
    

                            </div>
                            <div id="GameScene.illas_message" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_message</span>

        
    </div>
    <a class="headerlink" href="#GameScene.illas_message"></a>
    
    

                            </div>
                            <div id="GameScene.illas_message_timer" class="classattr">
                                <div class="attr variable">
            <span class="name">illas_message_timer</span>

        
    </div>
    <a class="headerlink" href="#GameScene.illas_message_timer"></a>
    
    

                            </div>
                            <div id="GameScene.artikulos_visuales" class="classattr">
                                <div class="attr variable">
            <span class="name">artikulos_visuales</span>

        
    </div>
    <a class="headerlink" href="#GameScene.artikulos_visuales"></a>
    
    

                            </div>
                            <div id="GameScene.create_visual_artikulos" class="classattr">
                                        <input id="GameScene.create_visual_artikulos-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_visual_artikulos</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameScene.create_visual_artikulos-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameScene.create_visual_artikulos"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameScene.create_visual_artikulos-1550"><a href="#GameScene.create_visual_artikulos-1550"><span class="linenos">1550</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_visual_artikulos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameScene.create_visual_artikulos-1551"><a href="#GameScene.create_visual_artikulos-1551"><span class="linenos">1551</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Crear artculos visuales que aparecern despus de responder correctamente&quot;&quot;&quot;</span>
</span><span id="GameScene.create_visual_artikulos-1552"><a href="#GameScene.create_visual_artikulos-1552"><span class="linenos">1552</span></a>        <span class="n">illas_de_esta_escena</span> <span class="o">=</span> <span class="n">ILLAS_ROBADAS_POR_ESCENA</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="GameScene.create_visual_artikulos-1553"><a href="#GameScene.create_visual_artikulos-1553"><span class="linenos">1553</span></a>        <span class="n">x_start</span> <span class="o">=</span> <span class="mi">150</span>
</span><span id="GameScene.create_visual_artikulos-1554"><a href="#GameScene.create_visual_artikulos-1554"><span class="linenos">1554</span></a>        <span class="n">spacing</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="GameScene.create_visual_artikulos-1555"><a href="#GameScene.create_visual_artikulos-1555"><span class="linenos">1555</span></a>        
</span><span id="GameScene.create_visual_artikulos-1556"><a href="#GameScene.create_visual_artikulos-1556"><span class="linenos">1556</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">illa_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">illas_de_esta_escena</span><span class="p">):</span>
</span><span id="GameScene.create_visual_artikulos-1557"><a href="#GameScene.create_visual_artikulos-1557"><span class="linenos">1557</span></a>            <span class="n">x</span> <span class="o">=</span> <span class="n">x_start</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">spacing</span><span class="p">)</span>
</span><span id="GameScene.create_visual_artikulos-1558"><a href="#GameScene.create_visual_artikulos-1558"><span class="linenos">1558</span></a>            <span class="n">y</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span>
</span><span id="GameScene.create_visual_artikulos-1559"><a href="#GameScene.create_visual_artikulos-1559"><span class="linenos">1559</span></a>            <span class="n">articulo</span> <span class="o">=</span> <span class="n">Articulo</span><span class="p">(</span><span class="n">illa_name</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="GameScene.create_visual_artikulos-1560"><a href="#GameScene.create_visual_artikulos-1560"><span class="linenos">1560</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># Empiezan como &quot;recolectados&quot; (invisibles)</span>
</span><span id="GameScene.create_visual_artikulos-1561"><a href="#GameScene.create_visual_artikulos-1561"><span class="linenos">1561</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">articulo</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Crear artculos visuales que aparecern despus de responder correctamente</p>
</div>


                            </div>
                            <div id="GameScene.show_artikulos" class="classattr">
                                        <input id="GameScene.show_artikulos-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">show_artikulos</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameScene.show_artikulos-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameScene.show_artikulos"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameScene.show_artikulos-1563"><a href="#GameScene.show_artikulos-1563"><span class="linenos">1563</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">show_artikulos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameScene.show_artikulos-1564"><a href="#GameScene.show_artikulos-1564"><span class="linenos">1564</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Hacer visibles los artculos cuando el Apu los entrega&quot;&quot;&quot;</span>
</span><span id="GameScene.show_artikulos-1565"><a href="#GameScene.show_artikulos-1565"><span class="linenos">1565</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="GameScene.show_artikulos-1566"><a href="#GameScene.show_artikulos-1566"><span class="linenos">1566</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Hacerlos visibles</span>
</span><span id="GameScene.show_artikulos-1567"><a href="#GameScene.show_artikulos-1567"><span class="linenos">1567</span></a>        
</span><span id="GameScene.show_artikulos-1568"><a href="#GameScene.show_artikulos-1568"><span class="linenos">1568</span></a>        <span class="c1"># Timer para recolectarlos automticamente despus de un tiempo</span>
</span><span id="GameScene.show_artikulos-1569"><a href="#GameScene.show_artikulos-1569"><span class="linenos">1569</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">=</span> <span class="mi">180</span>  <span class="c1"># 3 segundos</span>
</span></pre></div>


            <div class="docstring"><p>Hacer visibles los artculos cuando el Apu los entrega</p>
</div>


                            </div>
                            <div id="GameScene.start_question" class="classattr">
                                        <input id="GameScene.start_question-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">start_question</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameScene.start_question-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameScene.start_question"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameScene.start_question-1571"><a href="#GameScene.start_question-1571"><span class="linenos">1571</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">start_question</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameScene.start_question-1572"><a href="#GameScene.start_question-1572"><span class="linenos">1572</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicia la pantalla de pregunta si no se est mostrando y la escena no est completada.&quot;&quot;&quot;</span>
</span><span id="GameScene.start_question-1573"><a href="#GameScene.start_question-1573"><span class="linenos">1573</span></a>
</span><span id="GameScene.start_question-1574"><a href="#GameScene.start_question-1574"><span class="linenos">1574</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="GameScene.start_question-1575"><a href="#GameScene.start_question-1575"><span class="linenos">1575</span></a>            <span class="c1">#  OPTIMIZACIN MXIMA: Acceso directo a preguntas en memoria</span>
</span><span id="GameScene.start_question-1576"><a href="#GameScene.start_question-1576"><span class="linenos">1576</span></a>            <span class="n">pregunta_data</span> <span class="o">=</span> <span class="n">PREGUNTAS_APUS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="GameScene.start_question-1577"><a href="#GameScene.start_question-1577"><span class="linenos">1577</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span> <span class="o">=</span> <span class="n">QuestionScreen</span><span class="p">(</span><span class="n">pregunta_data</span><span class="p">)</span>
</span><span id="GameScene.start_question-1578"><a href="#GameScene.start_question-1578"><span class="linenos">1578</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Inicia la pantalla de pregunta si no se est mostrando y la escena no est completada.</p>
</div>


                            </div>
                            <div id="GameScene.handle_event" class="classattr">
                                        <input id="GameScene.handle_event-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">handle_event</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span>, </span><span class="param"><span class="n">player</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameScene.handle_event-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameScene.handle_event"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameScene.handle_event-1580"><a href="#GameScene.handle_event-1580"><span class="linenos">1580</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="GameScene.handle_event-1581"><a href="#GameScene.handle_event-1581"><span class="linenos">1581</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Procesa los eventos del jugador relacionados con la pregunta y la recoleccin de illas.</span>
</span><span id="GameScene.handle_event-1582"><a href="#GameScene.handle_event-1582"><span class="linenos">1582</span></a>
</span><span id="GameScene.handle_event-1583"><a href="#GameScene.handle_event-1583"><span class="linenos">1583</span></a><span class="sd">        Args:</span>
</span><span id="GameScene.handle_event-1584"><a href="#GameScene.handle_event-1584"><span class="linenos">1584</span></a><span class="sd">            event (pygame.event.Event): Evento de teclado.</span>
</span><span id="GameScene.handle_event-1585"><a href="#GameScene.handle_event-1585"><span class="linenos">1585</span></a><span class="sd">            player (Player): Instancia del jugador.</span>
</span><span id="GameScene.handle_event-1586"><a href="#GameScene.handle_event-1586"><span class="linenos">1586</span></a>
</span><span id="GameScene.handle_event-1587"><a href="#GameScene.handle_event-1587"><span class="linenos">1587</span></a><span class="sd">        Returns:</span>
</span><span id="GameScene.handle_event-1588"><a href="#GameScene.handle_event-1588"><span class="linenos">1588</span></a><span class="sd">            str: &quot;CONTINUE&quot; si el juego sigue, &quot;GAME_OVER&quot; si el jugador pierde todas sus vidas.</span>
</span><span id="GameScene.handle_event-1589"><a href="#GameScene.handle_event-1589"><span class="linenos">1589</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameScene.handle_event-1590"><a href="#GameScene.handle_event-1590"><span class="linenos">1590</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="p">:</span>
</span><span id="GameScene.handle_event-1591"><a href="#GameScene.handle_event-1591"><span class="linenos">1591</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="GameScene.handle_event-1592"><a href="#GameScene.handle_event-1592"><span class="linenos">1592</span></a>            
</span><span id="GameScene.handle_event-1593"><a href="#GameScene.handle_event-1593"><span class="linenos">1593</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">is_finished</span><span class="p">():</span>
</span><span id="GameScene.handle_event-1594"><a href="#GameScene.handle_event-1594"><span class="linenos">1594</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">correct</span><span class="p">:</span>
</span><span id="GameScene.handle_event-1595"><a href="#GameScene.handle_event-1595"><span class="linenos">1595</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="GameScene.handle_event-1596"><a href="#GameScene.handle_event-1596"><span class="linenos">1596</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">open_door</span><span class="p">()</span>
</span><span id="GameScene.handle_event-1597"><a href="#GameScene.handle_event-1597"><span class="linenos">1597</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">player_can_advance</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="GameScene.handle_event-1598"><a href="#GameScene.handle_event-1598"><span class="linenos">1598</span></a>                    
</span><span id="GameScene.handle_event-1599"><a href="#GameScene.handle_event-1599"><span class="linenos">1599</span></a>                    <span class="c1"># El Apu entrega las illas robadas</span>
</span><span id="GameScene.handle_event-1600"><a href="#GameScene.handle_event-1600"><span class="linenos">1600</span></a>                    <span class="n">illas_received</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">give_illas_to_player</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">)</span>
</span><span id="GameScene.handle_event-1601"><a href="#GameScene.handle_event-1601"><span class="linenos">1601</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">illas_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Recibiste: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">illas_received</span><span class="p">)</span><span class="si">}</span><span class="s2">!&quot;</span>
</span><span id="GameScene.handle_event-1602"><a href="#GameScene.handle_event-1602"><span class="linenos">1602</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">=</span> <span class="mi">300</span>
</span><span id="GameScene.handle_event-1603"><a href="#GameScene.handle_event-1603"><span class="linenos">1603</span></a>                    
</span><span id="GameScene.handle_event-1604"><a href="#GameScene.handle_event-1604"><span class="linenos">1604</span></a>                    <span class="c1"># Mostrar artculos visuales flotando</span>
</span><span id="GameScene.handle_event-1605"><a href="#GameScene.handle_event-1605"><span class="linenos">1605</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">show_artikulos</span><span class="p">()</span>
</span><span id="GameScene.handle_event-1606"><a href="#GameScene.handle_event-1606"><span class="linenos">1606</span></a>                    
</span><span id="GameScene.handle_event-1607"><a href="#GameScene.handle_event-1607"><span class="linenos">1607</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="GameScene.handle_event-1608"><a href="#GameScene.handle_event-1608"><span class="linenos">1608</span></a>                    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">lose_life</span><span class="p">():</span>
</span><span id="GameScene.handle_event-1609"><a href="#GameScene.handle_event-1609"><span class="linenos">1609</span></a>                        <span class="c1">#  OPTIMIZACIN MXIMA: Acceso directo a preguntas en memoria</span>
</span><span id="GameScene.handle_event-1610"><a href="#GameScene.handle_event-1610"><span class="linenos">1610</span></a>                        <span class="n">pregunta_data</span> <span class="o">=</span> <span class="n">PREGUNTAS_APUS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="GameScene.handle_event-1611"><a href="#GameScene.handle_event-1611"><span class="linenos">1611</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span> <span class="o">=</span> <span class="n">QuestionScreen</span><span class="p">(</span><span class="n">pregunta_data</span><span class="p">)</span>
</span><span id="GameScene.handle_event-1612"><a href="#GameScene.handle_event-1612"><span class="linenos">1612</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="GameScene.handle_event-1613"><a href="#GameScene.handle_event-1613"><span class="linenos">1613</span></a>                        <span class="k">return</span> <span class="s2">&quot;GAME_OVER&quot;</span>
</span><span id="GameScene.handle_event-1614"><a href="#GameScene.handle_event-1614"><span class="linenos">1614</span></a>                
</span><span id="GameScene.handle_event-1615"><a href="#GameScene.handle_event-1615"><span class="linenos">1615</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="GameScene.handle_event-1616"><a href="#GameScene.handle_event-1616"><span class="linenos">1616</span></a>        
</span><span id="GameScene.handle_event-1617"><a href="#GameScene.handle_event-1617"><span class="linenos">1617</span></a>        <span class="k">return</span> <span class="s2">&quot;CONTINUE&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Procesa los eventos del jugador relacionados con la pregunta y la recoleccin de illas.</p>

<p>Args:
    event (pygame.event.Event): Evento de teclado.
    player (Player): Instancia del jugador.</p>

<p>Returns:
    str: "CONTINUE" si el juego sigue, "GAME_OVER" si el jugador pierde todas sus vidas.</p>
</div>


                            </div>
                            <div id="GameScene.update" class="classattr">
                                        <input id="GameScene.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">player</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameScene.update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameScene.update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameScene.update-1619"><a href="#GameScene.update-1619"><span class="linenos">1619</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="GameScene.update-1620"><a href="#GameScene.update-1620"><span class="linenos">1620</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la escena, incluyendo Apu, puerta, pregunta y artculos.</span>
</span><span id="GameScene.update-1621"><a href="#GameScene.update-1621"><span class="linenos">1621</span></a>
</span><span id="GameScene.update-1622"><a href="#GameScene.update-1622"><span class="linenos">1622</span></a><span class="sd">        Args:</span>
</span><span id="GameScene.update-1623"><a href="#GameScene.update-1623"><span class="linenos">1623</span></a><span class="sd">            player (Player): Instancia del jugador para verificar proximidad y recoleccin.</span>
</span><span id="GameScene.update-1624"><a href="#GameScene.update-1624"><span class="linenos">1624</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameScene.update-1625"><a href="#GameScene.update-1625"><span class="linenos">1625</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameScene.update-1626"><a href="#GameScene.update-1626"><span class="linenos">1626</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameScene.update-1627"><a href="#GameScene.update-1627"><span class="linenos">1627</span></a>        
</span><span id="GameScene.update-1628"><a href="#GameScene.update-1628"><span class="linenos">1628</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="p">:</span>
</span><span id="GameScene.update-1629"><a href="#GameScene.update-1629"><span class="linenos">1629</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameScene.update-1630"><a href="#GameScene.update-1630"><span class="linenos">1630</span></a>        
</span><span id="GameScene.update-1631"><a href="#GameScene.update-1631"><span class="linenos">1631</span></a>        <span class="c1"># Actualizar artculos visuales</span>
</span><span id="GameScene.update-1632"><a href="#GameScene.update-1632"><span class="linenos">1632</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="GameScene.update-1633"><a href="#GameScene.update-1633"><span class="linenos">1633</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameScene.update-1634"><a href="#GameScene.update-1634"><span class="linenos">1634</span></a>        
</span><span id="GameScene.update-1635"><a href="#GameScene.update-1635"><span class="linenos">1635</span></a>        <span class="c1"># Verificar recoleccin por proximidad</span>
</span><span id="GameScene.update-1636"><a href="#GameScene.update-1636"><span class="linenos">1636</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="GameScene.update-1637"><a href="#GameScene.update-1637"><span class="linenos">1637</span></a>            <span class="n">player</span><span class="o">.</span><span class="n">check_collection_proximity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">)</span>
</span><span id="GameScene.update-1638"><a href="#GameScene.update-1638"><span class="linenos">1638</span></a>        
</span><span id="GameScene.update-1639"><a href="#GameScene.update-1639"><span class="linenos">1639</span></a>        <span class="c1"># Auto-recolectar artculos despus de un tiempo (solo si no se recolectaron manualmente)</span>
</span><span id="GameScene.update-1640"><a href="#GameScene.update-1640"><span class="linenos">1640</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;auto_collect_timer&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GameScene.update-1641"><a href="#GameScene.update-1641"><span class="linenos">1641</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="GameScene.update-1642"><a href="#GameScene.update-1642"><span class="linenos">1642</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_collect_timer</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GameScene.update-1643"><a href="#GameScene.update-1643"><span class="linenos">1643</span></a>                <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="GameScene.update-1644"><a href="#GameScene.update-1644"><span class="linenos">1644</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="GameScene.update-1645"><a href="#GameScene.update-1645"><span class="linenos">1645</span></a>                        <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="GameScene.update-1646"><a href="#GameScene.update-1646"><span class="linenos">1646</span></a>                        <span class="n">player</span><span class="o">.</span><span class="n">collect_articulos</span><span class="p">([</span><span class="n">articulo</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
</span><span id="GameScene.update-1647"><a href="#GameScene.update-1647"><span class="linenos">1647</span></a>        
</span><span id="GameScene.update-1648"><a href="#GameScene.update-1648"><span class="linenos">1648</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GameScene.update-1649"><a href="#GameScene.update-1649"><span class="linenos">1649</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span id="GameScene.update-1650"><a href="#GameScene.update-1650"><span class="linenos">1650</span></a>        
</span><span id="GameScene.update-1651"><a href="#GameScene.update-1651"><span class="linenos">1651</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="GameScene.update-1652"><a href="#GameScene.update-1652"><span class="linenos">1652</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="p">):</span>
</span><span id="GameScene.update-1653"><a href="#GameScene.update-1653"><span class="linenos">1653</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">start_question</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza la escena, incluyendo Apu, puerta, pregunta y artculos.</p>

<p>Args:
    player (Player): Instancia del jugador para verificar proximidad y recoleccin.</p>
</div>


                            </div>
                            <div id="GameScene.draw" class="classattr">
                                        <input id="GameScene.draw-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">draw</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">screen</span>, </span><span class="param"><span class="n">player</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameScene.draw-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameScene.draw"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameScene.draw-1655"><a href="#GameScene.draw-1655"><span class="linenos">1655</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="GameScene.draw-1656"><a href="#GameScene.draw-1656"><span class="linenos">1656</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja la escena completa, incluyendo Apu, puerta, artculos y HUD.</span>
</span><span id="GameScene.draw-1657"><a href="#GameScene.draw-1657"><span class="linenos">1657</span></a>
</span><span id="GameScene.draw-1658"><a href="#GameScene.draw-1658"><span class="linenos">1658</span></a><span class="sd">        Args:</span>
</span><span id="GameScene.draw-1659"><a href="#GameScene.draw-1659"><span class="linenos">1659</span></a><span class="sd">            screen (pygame.Surface): Superficie donde se dibuja la escena.</span>
</span><span id="GameScene.draw-1660"><a href="#GameScene.draw-1660"><span class="linenos">1660</span></a><span class="sd">            player (Player): Instancia del jugador para mostrar informacin relevante.</span>
</span><span id="GameScene.draw-1661"><a href="#GameScene.draw-1661"><span class="linenos">1661</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameScene.draw-1662"><a href="#GameScene.draw-1662"><span class="linenos">1662</span></a>        <span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="GameScene.draw-1663"><a href="#GameScene.draw-1663"><span class="linenos">1663</span></a>        <span class="c1"># Obtener el bioma del Apu usando el rbol binario o fallback</span>
</span><span id="GameScene.draw-1664"><a href="#GameScene.draw-1664"><span class="linenos">1664</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;apu&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">):</span>
</span><span id="GameScene.draw-1665"><a href="#GameScene.draw-1665"><span class="linenos">1665</span></a>            <span class="n">bioma</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bioma&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="GameScene.draw-1666"><a href="#GameScene.draw-1666"><span class="linenos">1666</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="GameScene.draw-1667"><a href="#GameScene.draw-1667"><span class="linenos">1667</span></a>            <span class="n">bioma</span> <span class="o">=</span> <span class="n">APUS_DATA</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apu_name</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bioma&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="GameScene.draw-1668"><a href="#GameScene.draw-1668"><span class="linenos">1668</span></a>        
</span><span id="GameScene.draw-1669"><a href="#GameScene.draw-1669"><span class="linenos">1669</span></a>        <span class="n">scene_text</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Escena </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">/14 - </span><span class="si">{</span><span class="n">bioma</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameScene.draw-1670"><a href="#GameScene.draw-1670"><span class="linenos">1670</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">scene_text</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</span><span id="GameScene.draw-1671"><a href="#GameScene.draw-1671"><span class="linenos">1671</span></a>        
</span><span id="GameScene.draw-1672"><a href="#GameScene.draw-1672"><span class="linenos">1672</span></a>        <span class="n">draw_pixelated_hearts</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">player</span><span class="o">.</span><span class="n">lives</span><span class="p">,</span> <span class="n">player</span><span class="o">.</span><span class="n">max_lives</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
</span><span id="GameScene.draw-1673"><a href="#GameScene.draw-1673"><span class="linenos">1673</span></a>        
</span><span id="GameScene.draw-1674"><a href="#GameScene.draw-1674"><span class="linenos">1674</span></a>        <span class="n">illas_text</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Illas Recuperadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameScene.draw-1675"><a href="#GameScene.draw-1675"><span class="linenos">1675</span></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">illas_text</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">80</span><span class="p">))</span>
</span><span id="GameScene.draw-1676"><a href="#GameScene.draw-1676"><span class="linenos">1676</span></a>        
</span><span id="GameScene.draw-1677"><a href="#GameScene.draw-1677"><span class="linenos">1677</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">illas_message_timer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GameScene.draw-1678"><a href="#GameScene.draw-1678"><span class="linenos">1678</span></a>            <span class="n">message_font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="GameScene.draw-1679"><a href="#GameScene.draw-1679"><span class="linenos">1679</span></a>            <span class="n">message_surface</span> <span class="o">=</span> <span class="n">message_font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">illas_message</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GREEN</span><span class="p">)</span>
</span><span id="GameScene.draw-1680"><a href="#GameScene.draw-1680"><span class="linenos">1680</span></a>            <span class="n">message_rect</span> <span class="o">=</span> <span class="n">message_surface</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>
</span><span id="GameScene.draw-1681"><a href="#GameScene.draw-1681"><span class="linenos">1681</span></a>            
</span><span id="GameScene.draw-1682"><a href="#GameScene.draw-1682"><span class="linenos">1682</span></a>            <span class="n">padding</span> <span class="o">=</span> <span class="mi">10</span>
</span><span id="GameScene.draw-1683"><a href="#GameScene.draw-1683"><span class="linenos">1683</span></a>            <span class="n">bg_rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">message_rect</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">padding</span><span class="p">,</span> <span class="n">message_rect</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">padding</span><span class="p">,</span>
</span><span id="GameScene.draw-1684"><a href="#GameScene.draw-1684"><span class="linenos">1684</span></a>                                <span class="n">message_rect</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">padding</span><span class="p">,</span> <span class="n">message_rect</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">padding</span><span class="p">)</span>
</span><span id="GameScene.draw-1685"><a href="#GameScene.draw-1685"><span class="linenos">1685</span></a>            <span class="n">bg_surface</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">bg_rect</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">bg_rect</span><span class="o">.</span><span class="n">height</span><span class="p">))</span>
</span><span id="GameScene.draw-1686"><a href="#GameScene.draw-1686"><span class="linenos">1686</span></a>            <span class="n">bg_surface</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">180</span><span class="p">)</span>
</span><span id="GameScene.draw-1687"><a href="#GameScene.draw-1687"><span class="linenos">1687</span></a>            <span class="n">bg_surface</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="GameScene.draw-1688"><a href="#GameScene.draw-1688"><span class="linenos">1688</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">bg_surface</span><span class="p">,</span> <span class="n">bg_rect</span><span class="p">)</span>
</span><span id="GameScene.draw-1689"><a href="#GameScene.draw-1689"><span class="linenos">1689</span></a>            
</span><span id="GameScene.draw-1690"><a href="#GameScene.draw-1690"><span class="linenos">1690</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">message_surface</span><span class="p">,</span> <span class="n">message_rect</span><span class="p">)</span>
</span><span id="GameScene.draw-1691"><a href="#GameScene.draw-1691"><span class="linenos">1691</span></a>        
</span><span id="GameScene.draw-1692"><a href="#GameScene.draw-1692"><span class="linenos">1692</span></a>        <span class="c1"># Dibujar artculos visuales flotantes con animacin</span>
</span><span id="GameScene.draw-1693"><a href="#GameScene.draw-1693"><span class="linenos">1693</span></a>        <span class="k">for</span> <span class="n">articulo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artikulos_visuales</span><span class="p">:</span>
</span><span id="GameScene.draw-1694"><a href="#GameScene.draw-1694"><span class="linenos">1694</span></a>            <span class="n">articulo</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameScene.draw-1695"><a href="#GameScene.draw-1695"><span class="linenos">1695</span></a>            
</span><span id="GameScene.draw-1696"><a href="#GameScene.draw-1696"><span class="linenos">1696</span></a>            <span class="c1"># Dibujar indicador de proximidad si est cerca del jugador</span>
</span><span id="GameScene.draw-1697"><a href="#GameScene.draw-1697"><span class="linenos">1697</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">articulo</span><span class="o">.</span><span class="n">collected</span><span class="p">:</span>
</span><span id="GameScene.draw-1698"><a href="#GameScene.draw-1698"><span class="linenos">1698</span></a>                <span class="n">distance</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> 
</span><span id="GameScene.draw-1699"><a href="#GameScene.draw-1699"><span class="linenos">1699</span></a>                                  <span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span> <span class="o">-</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centery</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</span><span id="GameScene.draw-1700"><a href="#GameScene.draw-1700"><span class="linenos">1700</span></a>                <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="n">player</span><span class="o">.</span><span class="n">collection_radius</span><span class="p">:</span>
</span><span id="GameScene.draw-1701"><a href="#GameScene.draw-1701"><span class="linenos">1701</span></a>                    <span class="c1"># Dibujar crculo de proximidad</span>
</span><span id="GameScene.draw-1702"><a href="#GameScene.draw-1702"><span class="linenos">1702</span></a>                    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> 
</span><span id="GameScene.draw-1703"><a href="#GameScene.draw-1703"><span class="linenos">1703</span></a>                                     <span class="n">player</span><span class="o">.</span><span class="n">collection_radius</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="GameScene.draw-1704"><a href="#GameScene.draw-1704"><span class="linenos">1704</span></a>                    <span class="c1"># Dibujar texto de instruccin</span>
</span><span id="GameScene.draw-1705"><a href="#GameScene.draw-1705"><span class="linenos">1705</span></a>                    <span class="n">collect_text</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
</span><span id="GameScene.draw-1706"><a href="#GameScene.draw-1706"><span class="linenos">1706</span></a>                        <span class="s2">&quot;Acrcate para recolectar!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="GameScene.draw-1707"><a href="#GameScene.draw-1707"><span class="linenos">1707</span></a>                    <span class="n">collect_rect</span> <span class="o">=</span> <span class="n">collect_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">centerx</span><span class="p">,</span> 
</span><span id="GameScene.draw-1708"><a href="#GameScene.draw-1708"><span class="linenos">1708</span></a>                                                               <span class="n">articulo</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="mi">30</span><span class="p">))</span>
</span><span id="GameScene.draw-1709"><a href="#GameScene.draw-1709"><span class="linenos">1709</span></a>                    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">collect_text</span><span class="p">,</span> <span class="n">collect_rect</span><span class="p">)</span>
</span><span id="GameScene.draw-1710"><a href="#GameScene.draw-1710"><span class="linenos">1710</span></a>        
</span><span id="GameScene.draw-1711"><a href="#GameScene.draw-1711"><span class="linenos">1711</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="GameScene.draw-1712"><a href="#GameScene.draw-1712"><span class="linenos">1712</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">apu</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameScene.draw-1713"><a href="#GameScene.draw-1713"><span class="linenos">1713</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameScene.draw-1714"><a href="#GameScene.draw-1714"><span class="linenos">1714</span></a>        
</span><span id="GameScene.draw-1715"><a href="#GameScene.draw-1715"><span class="linenos">1715</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showing_question</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="p">:</span>
</span><span id="GameScene.draw-1716"><a href="#GameScene.draw-1716"><span class="linenos">1716</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">question_screen</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dibuja la escena completa, incluyendo Apu, puerta, artculos y HUD.</p>

<p>Args:
    screen (pygame.Surface): Superficie donde se dibuja la escena.
    player (Player): Instancia del jugador para mostrar informacin relevante.</p>
</div>


                            </div>
                            <div id="GameScene.can_advance" class="classattr">
                                        <input id="GameScene.can_advance-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">can_advance</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">player</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameScene.can_advance-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameScene.can_advance"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameScene.can_advance-1718"><a href="#GameScene.can_advance-1718"><span class="linenos">1718</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">can_advance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span id="GameScene.can_advance-1719"><a href="#GameScene.can_advance-1719"><span class="linenos">1719</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifica si el jugador puede avanzar a la siguiente escena.</span>
</span><span id="GameScene.can_advance-1720"><a href="#GameScene.can_advance-1720"><span class="linenos">1720</span></a>
</span><span id="GameScene.can_advance-1721"><a href="#GameScene.can_advance-1721"><span class="linenos">1721</span></a><span class="sd">        Args:</span>
</span><span id="GameScene.can_advance-1722"><a href="#GameScene.can_advance-1722"><span class="linenos">1722</span></a><span class="sd">            player (Player): Instancia del jugador.</span>
</span><span id="GameScene.can_advance-1723"><a href="#GameScene.can_advance-1723"><span class="linenos">1723</span></a>
</span><span id="GameScene.can_advance-1724"><a href="#GameScene.can_advance-1724"><span class="linenos">1724</span></a><span class="sd">        Returns:</span>
</span><span id="GameScene.can_advance-1725"><a href="#GameScene.can_advance-1725"><span class="linenos">1725</span></a><span class="sd">            bool: True si puede avanzar, False en caso contrario.</span>
</span><span id="GameScene.can_advance-1726"><a href="#GameScene.can_advance-1726"><span class="linenos">1726</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameScene.can_advance-1727"><a href="#GameScene.can_advance-1727"><span class="linenos">1727</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">player_can_advance</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">door</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Verifica si el jugador puede avanzar a la siguiente escena.</p>

<p>Args:
    player (Player): Instancia del jugador.</p>

<p>Returns:
    bool: True si puede avanzar, False en caso contrario.</p>
</div>


                            </div>
                </section>
                <section id="AnimatedBackground">
                            <input id="AnimatedBackground-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AnimatedBackground</span>:

                <label class="view-source-button" for="AnimatedBackground-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AnimatedBackground"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AnimatedBackground-1730"><a href="#AnimatedBackground-1730"><span class="linenos">1730</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AnimatedBackground</span><span class="p">:</span>
</span><span id="AnimatedBackground-1731"><a href="#AnimatedBackground-1731"><span class="linenos">1731</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase para manejar el fondo animado o esttico de cada escena.</span>
</span><span id="AnimatedBackground-1732"><a href="#AnimatedBackground-1732"><span class="linenos">1732</span></a>
</span><span id="AnimatedBackground-1733"><a href="#AnimatedBackground-1733"><span class="linenos">1733</span></a><span class="sd">    Dependiendo de la escena, carga un GIF animado como fondo o crea un fondo esttico</span>
</span><span id="AnimatedBackground-1734"><a href="#AnimatedBackground-1734"><span class="linenos">1734</span></a><span class="sd">    con colores representativos del bioma correspondiente.</span>
</span><span id="AnimatedBackground-1735"><a href="#AnimatedBackground-1735"><span class="linenos">1735</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AnimatedBackground-1736"><a href="#AnimatedBackground-1736"><span class="linenos">1736</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="AnimatedBackground-1737"><a href="#AnimatedBackground-1737"><span class="linenos">1737</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa el fondo segn la escena.</span>
</span><span id="AnimatedBackground-1738"><a href="#AnimatedBackground-1738"><span class="linenos">1738</span></a>
</span><span id="AnimatedBackground-1739"><a href="#AnimatedBackground-1739"><span class="linenos">1739</span></a><span class="sd">        Intenta cargar un GIF animado. Si no existe o falla, crea un fondo esttico.</span>
</span><span id="AnimatedBackground-1740"><a href="#AnimatedBackground-1740"><span class="linenos">1740</span></a>
</span><span id="AnimatedBackground-1741"><a href="#AnimatedBackground-1741"><span class="linenos">1741</span></a><span class="sd">        Args:</span>
</span><span id="AnimatedBackground-1742"><a href="#AnimatedBackground-1742"><span class="linenos">1742</span></a><span class="sd">            scene_number (int, opcional): Nmero de la escena. Default es 0.</span>
</span><span id="AnimatedBackground-1743"><a href="#AnimatedBackground-1743"><span class="linenos">1743</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AnimatedBackground-1744"><a href="#AnimatedBackground-1744"><span class="linenos">1744</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">=</span> <span class="n">scene_number</span>
</span><span id="AnimatedBackground-1745"><a href="#AnimatedBackground-1745"><span class="linenos">1745</span></a>        
</span><span id="AnimatedBackground-1746"><a href="#AnimatedBackground-1746"><span class="linenos">1746</span></a>        <span class="n">bioma_gif_path</span> <span class="o">=</span> <span class="n">BIOMA_GIFS</span><span class="p">[</span><span class="n">scene_number</span><span class="p">]</span> <span class="k">if</span> <span class="n">scene_number</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">BIOMA_GIFS</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="AnimatedBackground-1747"><a href="#AnimatedBackground-1747"><span class="linenos">1747</span></a>        
</span><span id="AnimatedBackground-1748"><a href="#AnimatedBackground-1748"><span class="linenos">1748</span></a>        <span class="k">if</span> <span class="n">bioma_gif_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">bioma_gif_path</span><span class="p">):</span>
</span><span id="AnimatedBackground-1749"><a href="#AnimatedBackground-1749"><span class="linenos">1749</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">bioma_gif_path</span><span class="p">)</span>
</span><span id="AnimatedBackground-1750"><a href="#AnimatedBackground-1750"><span class="linenos">1750</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="AnimatedBackground-1751"><a href="#AnimatedBackground-1751"><span class="linenos">1751</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span><span id="AnimatedBackground-1752"><a href="#AnimatedBackground-1752"><span class="linenos">1752</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="AnimatedBackground-1753"><a href="#AnimatedBackground-1753"><span class="linenos">1753</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="AnimatedBackground-1754"><a href="#AnimatedBackground-1754"><span class="linenos">1754</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="AnimatedBackground-1755"><a href="#AnimatedBackground-1755"><span class="linenos">1755</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="AnimatedBackground-1756"><a href="#AnimatedBackground-1756"><span class="linenos">1756</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Cargado fondo animado: </span><span class="si">{</span><span class="n">bioma_gif_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="AnimatedBackground-1757"><a href="#AnimatedBackground-1757"><span class="linenos">1757</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="AnimatedBackground-1758"><a href="#AnimatedBackground-1758"><span class="linenos">1758</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error cargando GIF: </span><span class="si">{</span><span class="n">bioma_gif_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="AnimatedBackground-1759"><a href="#AnimatedBackground-1759"><span class="linenos">1759</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">create_biome_background</span><span class="p">()</span>
</span><span id="AnimatedBackground-1760"><a href="#AnimatedBackground-1760"><span class="linenos">1760</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="AnimatedBackground-1761"><a href="#AnimatedBackground-1761"><span class="linenos">1761</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; GIF no encontrado: </span><span class="si">{</span><span class="n">bioma_gif_path</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">bioma_gif_path</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;N/A&#39;</span><span class="si">}</span><span class="s2">, usando fondo esttico&quot;</span><span class="p">)</span>
</span><span id="AnimatedBackground-1762"><a href="#AnimatedBackground-1762"><span class="linenos">1762</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_biome_background</span><span class="p">()</span>
</span><span id="AnimatedBackground-1763"><a href="#AnimatedBackground-1763"><span class="linenos">1763</span></a>
</span><span id="AnimatedBackground-1764"><a href="#AnimatedBackground-1764"><span class="linenos">1764</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_biome_background</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="AnimatedBackground-1765"><a href="#AnimatedBackground-1765"><span class="linenos">1765</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Crea un fondo esttico usando colores del bioma segn la escena.&quot;&quot;&quot;</span>
</span><span id="AnimatedBackground-1766"><a href="#AnimatedBackground-1766"><span class="linenos">1766</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="AnimatedBackground-1767"><a href="#AnimatedBackground-1767"><span class="linenos">1767</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="AnimatedBackground-1768"><a href="#AnimatedBackground-1768"><span class="linenos">1768</span></a>        
</span><span id="AnimatedBackground-1769"><a href="#AnimatedBackground-1769"><span class="linenos">1769</span></a>        <span class="n">biome_colors</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="AnimatedBackground-1770"><a href="#AnimatedBackground-1770"><span class="linenos">1770</span></a>            <span class="p">(</span><span class="mi">135</span><span class="p">,</span> <span class="mi">206</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">149</span><span class="p">,</span> <span class="mi">237</span><span class="p">),</span>  <span class="c1"># Azul montaa</span>
</span><span id="AnimatedBackground-1771"><a href="#AnimatedBackground-1771"><span class="linenos">1771</span></a>            <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>       <span class="c1"># Naranja volcn</span>
</span><span id="AnimatedBackground-1772"><a href="#AnimatedBackground-1772"><span class="linenos">1772</span></a>            <span class="p">(</span><span class="mi">176</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>  <span class="c1"># Blanco glaciar</span>
</span><span id="AnimatedBackground-1773"><a href="#AnimatedBackground-1773"><span class="linenos">1773</span></a>            <span class="p">(</span><span class="mi">154</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">34</span><span class="p">),</span>     <span class="c1"># Verde altiplano</span>
</span><span id="AnimatedBackground-1774"><a href="#AnimatedBackground-1774"><span class="linenos">1774</span></a>            <span class="p">(</span><span class="mi">238</span><span class="p">,</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">173</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">63</span><span class="p">),</span>   <span class="c1"># Beige desierto</span>
</span><span id="AnimatedBackground-1775"><a href="#AnimatedBackground-1775"><span class="linenos">1775</span></a>            <span class="p">(</span><span class="mi">220</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>        <span class="c1"># Rojo volcn activo</span>
</span><span id="AnimatedBackground-1776"><a href="#AnimatedBackground-1776"><span class="linenos">1776</span></a>            <span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">248</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">180</span><span class="p">),</span>   <span class="c1"># Azul claro nevado</span>
</span><span id="AnimatedBackground-1777"><a href="#AnimatedBackground-1777"><span class="linenos">1777</span></a>            <span class="p">(</span><span class="mi">112</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">79</span><span class="p">),</span>     <span class="c1"># Gris cordillera</span>
</span><span id="AnimatedBackground-1778"><a href="#AnimatedBackground-1778"><span class="linenos">1778</span></a>            <span class="p">(</span><span class="mi">147</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">219</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">),</span>     <span class="c1"># Prpura laguna</span>
</span><span id="AnimatedBackground-1779"><a href="#AnimatedBackground-1779"><span class="linenos">1779</span></a>            <span class="p">(</span><span class="mi">34</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>        <span class="c1"># Verde selva</span>
</span><span id="AnimatedBackground-1780"><a href="#AnimatedBackground-1780"><span class="linenos">1780</span></a>            <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">215</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>    <span class="c1"># Amarillo valle</span>
</span><span id="AnimatedBackground-1781"><a href="#AnimatedBackground-1781"><span class="linenos">1781</span></a>            <span class="p">(</span><span class="mi">138</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">226</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">)</span>       <span class="c1"># Prpura cima suprema</span>
</span><span id="AnimatedBackground-1782"><a href="#AnimatedBackground-1782"><span class="linenos">1782</span></a>        <span class="p">]</span>
</span><span id="AnimatedBackground-1783"><a href="#AnimatedBackground-1783"><span class="linenos">1783</span></a>        
</span><span id="AnimatedBackground-1784"><a href="#AnimatedBackground-1784"><span class="linenos">1784</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">biome_colors</span><span class="p">):</span>
</span><span id="AnimatedBackground-1785"><a href="#AnimatedBackground-1785"><span class="linenos">1785</span></a>            <span class="n">sky_color</span> <span class="o">=</span> <span class="n">biome_colors</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">][:</span><span class="mi">3</span><span class="p">]</span>
</span><span id="AnimatedBackground-1786"><a href="#AnimatedBackground-1786"><span class="linenos">1786</span></a>            <span class="n">ground_color</span> <span class="o">=</span> <span class="n">biome_colors</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">][</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
</span><span id="AnimatedBackground-1787"><a href="#AnimatedBackground-1787"><span class="linenos">1787</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="AnimatedBackground-1788"><a href="#AnimatedBackground-1788"><span class="linenos">1788</span></a>            <span class="n">sky_color</span> <span class="o">=</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="AnimatedBackground-1789"><a href="#AnimatedBackground-1789"><span class="linenos">1789</span></a>            <span class="n">ground_color</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="AnimatedBackground-1790"><a href="#AnimatedBackground-1790"><span class="linenos">1790</span></a>        
</span><span id="AnimatedBackground-1791"><a href="#AnimatedBackground-1791"><span class="linenos">1791</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">sky_color</span><span class="p">)</span>
</span><span id="AnimatedBackground-1792"><a href="#AnimatedBackground-1792"><span class="linenos">1792</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">,</span> <span class="n">ground_color</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">150</span><span class="p">,</span> <span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="mi">150</span><span class="p">))</span>
</span><span id="AnimatedBackground-1793"><a href="#AnimatedBackground-1793"><span class="linenos">1793</span></a>
</span><span id="AnimatedBackground-1794"><a href="#AnimatedBackground-1794"><span class="linenos">1794</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="AnimatedBackground-1795"><a href="#AnimatedBackground-1795"><span class="linenos">1795</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la animacin del GIF si se est usando uno.&quot;&quot;&quot;</span>
</span><span id="AnimatedBackground-1796"><a href="#AnimatedBackground-1796"><span class="linenos">1796</span></a>
</span><span id="AnimatedBackground-1797"><a href="#AnimatedBackground-1797"><span class="linenos">1797</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span><span class="p">:</span>
</span><span id="AnimatedBackground-1798"><a href="#AnimatedBackground-1798"><span class="linenos">1798</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="AnimatedBackground-1799"><a href="#AnimatedBackground-1799"><span class="linenos">1799</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="AnimatedBackground-1800"><a href="#AnimatedBackground-1800"><span class="linenos">1800</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="AnimatedBackground-1801"><a href="#AnimatedBackground-1801"><span class="linenos">1801</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
</span><span id="AnimatedBackground-1802"><a href="#AnimatedBackground-1802"><span class="linenos">1802</span></a>
</span><span id="AnimatedBackground-1803"><a href="#AnimatedBackground-1803"><span class="linenos">1803</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="AnimatedBackground-1804"><a href="#AnimatedBackground-1804"><span class="linenos">1804</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja el fondo en la pantalla.</span>
</span><span id="AnimatedBackground-1805"><a href="#AnimatedBackground-1805"><span class="linenos">1805</span></a>
</span><span id="AnimatedBackground-1806"><a href="#AnimatedBackground-1806"><span class="linenos">1806</span></a><span class="sd">        Args:</span>
</span><span id="AnimatedBackground-1807"><a href="#AnimatedBackground-1807"><span class="linenos">1807</span></a><span class="sd">            screen (pygame.Surface): Superficie de Pygame donde se dibuja el fondo.</span>
</span><span id="AnimatedBackground-1808"><a href="#AnimatedBackground-1808"><span class="linenos">1808</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AnimatedBackground-1809"><a href="#AnimatedBackground-1809"><span class="linenos">1809</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span><span class="p">:</span>
</span><span id="AnimatedBackground-1810"><a href="#AnimatedBackground-1810"><span class="linenos">1810</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span><span class="p">],</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="AnimatedBackground-1811"><a href="#AnimatedBackground-1811"><span class="linenos">1811</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="AnimatedBackground-1812"><a href="#AnimatedBackground-1812"><span class="linenos">1812</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Clase para manejar el fondo animado o esttico de cada escena.</p>

<p>Dependiendo de la escena, carga un GIF animado como fondo o crea un fondo esttico
con colores representativos del bioma correspondiente.</p>
</div>


                            <div id="AnimatedBackground.__init__" class="classattr">
                                        <input id="AnimatedBackground.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AnimatedBackground</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span></span>)</span>

                <label class="view-source-button" for="AnimatedBackground.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AnimatedBackground.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AnimatedBackground.__init__-1736"><a href="#AnimatedBackground.__init__-1736"><span class="linenos">1736</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="AnimatedBackground.__init__-1737"><a href="#AnimatedBackground.__init__-1737"><span class="linenos">1737</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa el fondo segn la escena.</span>
</span><span id="AnimatedBackground.__init__-1738"><a href="#AnimatedBackground.__init__-1738"><span class="linenos">1738</span></a>
</span><span id="AnimatedBackground.__init__-1739"><a href="#AnimatedBackground.__init__-1739"><span class="linenos">1739</span></a><span class="sd">        Intenta cargar un GIF animado. Si no existe o falla, crea un fondo esttico.</span>
</span><span id="AnimatedBackground.__init__-1740"><a href="#AnimatedBackground.__init__-1740"><span class="linenos">1740</span></a>
</span><span id="AnimatedBackground.__init__-1741"><a href="#AnimatedBackground.__init__-1741"><span class="linenos">1741</span></a><span class="sd">        Args:</span>
</span><span id="AnimatedBackground.__init__-1742"><a href="#AnimatedBackground.__init__-1742"><span class="linenos">1742</span></a><span class="sd">            scene_number (int, opcional): Nmero de la escena. Default es 0.</span>
</span><span id="AnimatedBackground.__init__-1743"><a href="#AnimatedBackground.__init__-1743"><span class="linenos">1743</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AnimatedBackground.__init__-1744"><a href="#AnimatedBackground.__init__-1744"><span class="linenos">1744</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">=</span> <span class="n">scene_number</span>
</span><span id="AnimatedBackground.__init__-1745"><a href="#AnimatedBackground.__init__-1745"><span class="linenos">1745</span></a>        
</span><span id="AnimatedBackground.__init__-1746"><a href="#AnimatedBackground.__init__-1746"><span class="linenos">1746</span></a>        <span class="n">bioma_gif_path</span> <span class="o">=</span> <span class="n">BIOMA_GIFS</span><span class="p">[</span><span class="n">scene_number</span><span class="p">]</span> <span class="k">if</span> <span class="n">scene_number</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">BIOMA_GIFS</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="AnimatedBackground.__init__-1747"><a href="#AnimatedBackground.__init__-1747"><span class="linenos">1747</span></a>        
</span><span id="AnimatedBackground.__init__-1748"><a href="#AnimatedBackground.__init__-1748"><span class="linenos">1748</span></a>        <span class="k">if</span> <span class="n">bioma_gif_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">bioma_gif_path</span><span class="p">):</span>
</span><span id="AnimatedBackground.__init__-1749"><a href="#AnimatedBackground.__init__-1749"><span class="linenos">1749</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="n">load_gif_frames</span><span class="p">(</span><span class="n">bioma_gif_path</span><span class="p">)</span>
</span><span id="AnimatedBackground.__init__-1750"><a href="#AnimatedBackground.__init__-1750"><span class="linenos">1750</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">:</span>
</span><span id="AnimatedBackground.__init__-1751"><a href="#AnimatedBackground.__init__-1751"><span class="linenos">1751</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>
</span><span id="AnimatedBackground.__init__-1752"><a href="#AnimatedBackground.__init__-1752"><span class="linenos">1752</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="AnimatedBackground.__init__-1753"><a href="#AnimatedBackground.__init__-1753"><span class="linenos">1753</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="AnimatedBackground.__init__-1754"><a href="#AnimatedBackground.__init__-1754"><span class="linenos">1754</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="AnimatedBackground.__init__-1755"><a href="#AnimatedBackground.__init__-1755"><span class="linenos">1755</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="AnimatedBackground.__init__-1756"><a href="#AnimatedBackground.__init__-1756"><span class="linenos">1756</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Cargado fondo animado: </span><span class="si">{</span><span class="n">bioma_gif_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="AnimatedBackground.__init__-1757"><a href="#AnimatedBackground.__init__-1757"><span class="linenos">1757</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="AnimatedBackground.__init__-1758"><a href="#AnimatedBackground.__init__-1758"><span class="linenos">1758</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error cargando GIF: </span><span class="si">{</span><span class="n">bioma_gif_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="AnimatedBackground.__init__-1759"><a href="#AnimatedBackground.__init__-1759"><span class="linenos">1759</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">create_biome_background</span><span class="p">()</span>
</span><span id="AnimatedBackground.__init__-1760"><a href="#AnimatedBackground.__init__-1760"><span class="linenos">1760</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="AnimatedBackground.__init__-1761"><a href="#AnimatedBackground.__init__-1761"><span class="linenos">1761</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; GIF no encontrado: </span><span class="si">{</span><span class="n">bioma_gif_path</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">bioma_gif_path</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;N/A&#39;</span><span class="si">}</span><span class="s2">, usando fondo esttico&quot;</span><span class="p">)</span>
</span><span id="AnimatedBackground.__init__-1762"><a href="#AnimatedBackground.__init__-1762"><span class="linenos">1762</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_biome_background</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa el fondo segn la escena.</p>

<p>Intenta cargar un GIF animado. Si no existe o falla, crea un fondo esttico.</p>

<p>Args:
    scene_number (int, opcional): Nmero de la escena. Default es 0.</p>
</div>


                            </div>
                            <div id="AnimatedBackground.scene_number" class="classattr">
                                <div class="attr variable">
            <span class="name">scene_number</span>

        
    </div>
    <a class="headerlink" href="#AnimatedBackground.scene_number"></a>
    
    

                            </div>
                            <div id="AnimatedBackground.create_biome_background" class="classattr">
                                        <input id="AnimatedBackground.create_biome_background-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_biome_background</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="AnimatedBackground.create_biome_background-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AnimatedBackground.create_biome_background"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AnimatedBackground.create_biome_background-1764"><a href="#AnimatedBackground.create_biome_background-1764"><span class="linenos">1764</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_biome_background</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="AnimatedBackground.create_biome_background-1765"><a href="#AnimatedBackground.create_biome_background-1765"><span class="linenos">1765</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Crea un fondo esttico usando colores del bioma segn la escena.&quot;&quot;&quot;</span>
</span><span id="AnimatedBackground.create_biome_background-1766"><a href="#AnimatedBackground.create_biome_background-1766"><span class="linenos">1766</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="AnimatedBackground.create_biome_background-1767"><a href="#AnimatedBackground.create_biome_background-1767"><span class="linenos">1767</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="AnimatedBackground.create_biome_background-1768"><a href="#AnimatedBackground.create_biome_background-1768"><span class="linenos">1768</span></a>        
</span><span id="AnimatedBackground.create_biome_background-1769"><a href="#AnimatedBackground.create_biome_background-1769"><span class="linenos">1769</span></a>        <span class="n">biome_colors</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="AnimatedBackground.create_biome_background-1770"><a href="#AnimatedBackground.create_biome_background-1770"><span class="linenos">1770</span></a>            <span class="p">(</span><span class="mi">135</span><span class="p">,</span> <span class="mi">206</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">149</span><span class="p">,</span> <span class="mi">237</span><span class="p">),</span>  <span class="c1"># Azul montaa</span>
</span><span id="AnimatedBackground.create_biome_background-1771"><a href="#AnimatedBackground.create_biome_background-1771"><span class="linenos">1771</span></a>            <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>       <span class="c1"># Naranja volcn</span>
</span><span id="AnimatedBackground.create_biome_background-1772"><a href="#AnimatedBackground.create_biome_background-1772"><span class="linenos">1772</span></a>            <span class="p">(</span><span class="mi">176</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>  <span class="c1"># Blanco glaciar</span>
</span><span id="AnimatedBackground.create_biome_background-1773"><a href="#AnimatedBackground.create_biome_background-1773"><span class="linenos">1773</span></a>            <span class="p">(</span><span class="mi">154</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">34</span><span class="p">),</span>     <span class="c1"># Verde altiplano</span>
</span><span id="AnimatedBackground.create_biome_background-1774"><a href="#AnimatedBackground.create_biome_background-1774"><span class="linenos">1774</span></a>            <span class="p">(</span><span class="mi">238</span><span class="p">,</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">173</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">63</span><span class="p">),</span>   <span class="c1"># Beige desierto</span>
</span><span id="AnimatedBackground.create_biome_background-1775"><a href="#AnimatedBackground.create_biome_background-1775"><span class="linenos">1775</span></a>            <span class="p">(</span><span class="mi">220</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>        <span class="c1"># Rojo volcn activo</span>
</span><span id="AnimatedBackground.create_biome_background-1776"><a href="#AnimatedBackground.create_biome_background-1776"><span class="linenos">1776</span></a>            <span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">248</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">180</span><span class="p">),</span>   <span class="c1"># Azul claro nevado</span>
</span><span id="AnimatedBackground.create_biome_background-1777"><a href="#AnimatedBackground.create_biome_background-1777"><span class="linenos">1777</span></a>            <span class="p">(</span><span class="mi">112</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">79</span><span class="p">),</span>     <span class="c1"># Gris cordillera</span>
</span><span id="AnimatedBackground.create_biome_background-1778"><a href="#AnimatedBackground.create_biome_background-1778"><span class="linenos">1778</span></a>            <span class="p">(</span><span class="mi">147</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">219</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">),</span>     <span class="c1"># Prpura laguna</span>
</span><span id="AnimatedBackground.create_biome_background-1779"><a href="#AnimatedBackground.create_biome_background-1779"><span class="linenos">1779</span></a>            <span class="p">(</span><span class="mi">34</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>        <span class="c1"># Verde selva</span>
</span><span id="AnimatedBackground.create_biome_background-1780"><a href="#AnimatedBackground.create_biome_background-1780"><span class="linenos">1780</span></a>            <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">215</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>    <span class="c1"># Amarillo valle</span>
</span><span id="AnimatedBackground.create_biome_background-1781"><a href="#AnimatedBackground.create_biome_background-1781"><span class="linenos">1781</span></a>            <span class="p">(</span><span class="mi">138</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">226</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">)</span>       <span class="c1"># Prpura cima suprema</span>
</span><span id="AnimatedBackground.create_biome_background-1782"><a href="#AnimatedBackground.create_biome_background-1782"><span class="linenos">1782</span></a>        <span class="p">]</span>
</span><span id="AnimatedBackground.create_biome_background-1783"><a href="#AnimatedBackground.create_biome_background-1783"><span class="linenos">1783</span></a>        
</span><span id="AnimatedBackground.create_biome_background-1784"><a href="#AnimatedBackground.create_biome_background-1784"><span class="linenos">1784</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">biome_colors</span><span class="p">):</span>
</span><span id="AnimatedBackground.create_biome_background-1785"><a href="#AnimatedBackground.create_biome_background-1785"><span class="linenos">1785</span></a>            <span class="n">sky_color</span> <span class="o">=</span> <span class="n">biome_colors</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">][:</span><span class="mi">3</span><span class="p">]</span>
</span><span id="AnimatedBackground.create_biome_background-1786"><a href="#AnimatedBackground.create_biome_background-1786"><span class="linenos">1786</span></a>            <span class="n">ground_color</span> <span class="o">=</span> <span class="n">biome_colors</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scene_number</span><span class="p">][</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
</span><span id="AnimatedBackground.create_biome_background-1787"><a href="#AnimatedBackground.create_biome_background-1787"><span class="linenos">1787</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="AnimatedBackground.create_biome_background-1788"><a href="#AnimatedBackground.create_biome_background-1788"><span class="linenos">1788</span></a>            <span class="n">sky_color</span> <span class="o">=</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="AnimatedBackground.create_biome_background-1789"><a href="#AnimatedBackground.create_biome_background-1789"><span class="linenos">1789</span></a>            <span class="n">ground_color</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="AnimatedBackground.create_biome_background-1790"><a href="#AnimatedBackground.create_biome_background-1790"><span class="linenos">1790</span></a>        
</span><span id="AnimatedBackground.create_biome_background-1791"><a href="#AnimatedBackground.create_biome_background-1791"><span class="linenos">1791</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">sky_color</span><span class="p">)</span>
</span><span id="AnimatedBackground.create_biome_background-1792"><a href="#AnimatedBackground.create_biome_background-1792"><span class="linenos">1792</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">,</span> <span class="n">ground_color</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">150</span><span class="p">,</span> <span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="mi">150</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Crea un fondo esttico usando colores del bioma segn la escena.</p>
</div>


                            </div>
                            <div id="AnimatedBackground.update" class="classattr">
                                        <input id="AnimatedBackground.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="AnimatedBackground.update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AnimatedBackground.update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AnimatedBackground.update-1794"><a href="#AnimatedBackground.update-1794"><span class="linenos">1794</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="AnimatedBackground.update-1795"><a href="#AnimatedBackground.update-1795"><span class="linenos">1795</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza la animacin del GIF si se est usando uno.&quot;&quot;&quot;</span>
</span><span id="AnimatedBackground.update-1796"><a href="#AnimatedBackground.update-1796"><span class="linenos">1796</span></a>
</span><span id="AnimatedBackground.update-1797"><a href="#AnimatedBackground.update-1797"><span class="linenos">1797</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span><span class="p">:</span>
</span><span id="AnimatedBackground.update-1798"><a href="#AnimatedBackground.update-1798"><span class="linenos">1798</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_speed</span>
</span><span id="AnimatedBackground.update-1799"><a href="#AnimatedBackground.update-1799"><span class="linenos">1799</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="AnimatedBackground.update-1800"><a href="#AnimatedBackground.update-1800"><span class="linenos">1800</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">animation_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="AnimatedBackground.update-1801"><a href="#AnimatedBackground.update-1801"><span class="linenos">1801</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza la animacin del GIF si se est usando uno.</p>
</div>


                            </div>
                            <div id="AnimatedBackground.draw" class="classattr">
                                        <input id="AnimatedBackground.draw-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">draw</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">screen</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="AnimatedBackground.draw-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AnimatedBackground.draw"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AnimatedBackground.draw-1803"><a href="#AnimatedBackground.draw-1803"><span class="linenos">1803</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="AnimatedBackground.draw-1804"><a href="#AnimatedBackground.draw-1804"><span class="linenos">1804</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja el fondo en la pantalla.</span>
</span><span id="AnimatedBackground.draw-1805"><a href="#AnimatedBackground.draw-1805"><span class="linenos">1805</span></a>
</span><span id="AnimatedBackground.draw-1806"><a href="#AnimatedBackground.draw-1806"><span class="linenos">1806</span></a><span class="sd">        Args:</span>
</span><span id="AnimatedBackground.draw-1807"><a href="#AnimatedBackground.draw-1807"><span class="linenos">1807</span></a><span class="sd">            screen (pygame.Surface): Superficie de Pygame donde se dibuja el fondo.</span>
</span><span id="AnimatedBackground.draw-1808"><a href="#AnimatedBackground.draw-1808"><span class="linenos">1808</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AnimatedBackground.draw-1809"><a href="#AnimatedBackground.draw-1809"><span class="linenos">1809</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gif</span><span class="p">:</span>
</span><span id="AnimatedBackground.draw-1810"><a href="#AnimatedBackground.draw-1810"><span class="linenos">1810</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span><span class="p">],</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="AnimatedBackground.draw-1811"><a href="#AnimatedBackground.draw-1811"><span class="linenos">1811</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="AnimatedBackground.draw-1812"><a href="#AnimatedBackground.draw-1812"><span class="linenos">1812</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Dibuja el fondo en la pantalla.</p>

<p>Args:
    screen (pygame.Surface): Superficie de Pygame donde se dibuja el fondo.</p>
</div>


                            </div>
                </section>
                <section id="GameManager">
                            <input id="GameManager-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">GameManager</span>:

                <label class="view-source-button" for="GameManager-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager-1816"><a href="#GameManager-1816"><span class="linenos">1816</span></a><span class="k">class</span><span class="w"> </span><span class="nc">GameManager</span><span class="p">:</span>
</span><span id="GameManager-1817"><a href="#GameManager-1817"><span class="linenos">1817</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase principal que gestiona el juego completo.&quot;&quot;&quot;</span>
</span><span id="GameManager-1818"><a href="#GameManager-1818"><span class="linenos">1818</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager-1819"><a href="#GameManager-1819"><span class="linenos">1819</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa GameManager, carga msica del men, rbol de Apus y escenas.&quot;&quot;&quot;</span>
</span><span id="GameManager-1820"><a href="#GameManager-1820"><span class="linenos">1820</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="GameManager-1821"><a href="#GameManager-1821"><span class="linenos">1821</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span> <span class="o">=</span> <span class="mi">14</span>  <span class="c1"># Actualizado a 14 Apus</span>
</span><span id="GameManager-1822"><a href="#GameManager-1822"><span class="linenos">1822</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="GameManager-1823"><a href="#GameManager-1823"><span class="linenos">1823</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span><span class="p">,</span> <span class="n">gif_path</span><span class="o">=</span><span class="s2">&quot;gif.gif&quot;</span><span class="p">,</span> <span class="n">scale_factor</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="GameManager-1824"><a href="#GameManager-1824"><span class="linenos">1824</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">AnimatedBackground</span><span class="p">(</span><span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="GameManager-1825"><a href="#GameManager-1825"><span class="linenos">1825</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;MENU&quot;</span>  <span class="c1">#  empieza en men</span>
</span><span id="GameManager-1826"><a href="#GameManager-1826"><span class="linenos">1826</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_big</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="GameManager-1827"><a href="#GameManager-1827"><span class="linenos">1827</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="GameManager-1828"><a href="#GameManager-1828"><span class="linenos">1828</span></a>
</span><span id="GameManager-1829"><a href="#GameManager-1829"><span class="linenos">1829</span></a>        <span class="c1">#  rbol binario de Apus</span>
</span><span id="GameManager-1830"><a href="#GameManager-1830"><span class="linenos">1830</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span> <span class="o">=</span> <span class="n">ArbolApus</span><span class="p">()</span>
</span><span id="GameManager-1831"><a href="#GameManager-1831"><span class="linenos">1831</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">poblar_arbol_apus</span><span class="p">()</span>  <span class="c1"># Poblar el rbol con los 14 Apus</span>
</span><span id="GameManager-1832"><a href="#GameManager-1832"><span class="linenos">1832</span></a>
</span><span id="GameManager-1833"><a href="#GameManager-1833"><span class="linenos">1833</span></a>        <span class="c1">#  Men principal (usando archivo separado)</span>
</span><span id="GameManager-1834"><a href="#GameManager-1834"><span class="linenos">1834</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">menu</span><span class="w"> </span><span class="kn">import</span> <span class="n">MainMenu</span>
</span><span id="GameManager-1835"><a href="#GameManager-1835"><span class="linenos">1835</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span> <span class="o">=</span> <span class="n">MainMenu</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">)</span>
</span><span id="GameManager-1836"><a href="#GameManager-1836"><span class="linenos">1836</span></a>
</span><span id="GameManager-1837"><a href="#GameManager-1837"><span class="linenos">1837</span></a>        <span class="c1">#  Escenas (ahora usando el rbol binario)</span>
</span><span id="GameManager-1838"><a href="#GameManager-1838"><span class="linenos">1838</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span><span class="p">):</span>
</span><span id="GameManager-1839"><a href="#GameManager-1839"><span class="linenos">1839</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">GameScene</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="p">))</span>
</span><span id="GameManager-1840"><a href="#GameManager-1840"><span class="linenos">1840</span></a>
</span><span id="GameManager-1841"><a href="#GameManager-1841"><span class="linenos">1841</span></a>        <span class="c1">#  Msica</span>
</span><span id="GameManager-1842"><a href="#GameManager-1842"><span class="linenos">1842</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="GameManager-1843"><a href="#GameManager-1843"><span class="linenos">1843</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">load_menu_music</span><span class="p">()</span>  <span class="c1">#  suena msica del men apenas inicia</span>
</span><span id="GameManager-1844"><a href="#GameManager-1844"><span class="linenos">1844</span></a>
</span><span id="GameManager-1845"><a href="#GameManager-1845"><span class="linenos">1845</span></a>
</span><span id="GameManager-1846"><a href="#GameManager-1846"><span class="linenos">1846</span></a>
</span><span id="GameManager-1847"><a href="#GameManager-1847"><span class="linenos">1847</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">poblar_arbol_apus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager-1848"><a href="#GameManager-1848"><span class="linenos">1848</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Poblar el rbol binario con los 14 Apus del juego usando clases especficas&quot;&quot;&quot;</span>
</span><span id="GameManager-1849"><a href="#GameManager-1849"><span class="linenos">1849</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; Poblando rbol binario con los 14 Apus usando clases especficas...&quot;</span><span class="p">)</span>
</span><span id="GameManager-1850"><a href="#GameManager-1850"><span class="linenos">1850</span></a>        
</span><span id="GameManager-1851"><a href="#GameManager-1851"><span class="linenos">1851</span></a>        <span class="c1"># Crear instancias de cada clase de Apu (en orden de la lista de Ekeko)</span>
</span><span id="GameManager-1852"><a href="#GameManager-1852"><span class="linenos">1852</span></a>        <span class="n">apus_instancias</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="GameManager-1853"><a href="#GameManager-1853"><span class="linenos">1853</span></a>            <span class="n">ApuHuascaran</span><span class="p">(),</span> <span class="n">ApuCoropuna</span><span class="p">(),</span> <span class="n">ApuMisti</span><span class="p">(),</span> <span class="n">ApuAmpato</span><span class="p">(),</span>
</span><span id="GameManager-1854"><a href="#GameManager-1854"><span class="linenos">1854</span></a>            <span class="n">ApuSaraSara</span><span class="p">(),</span> <span class="n">ApuSalkantay</span><span class="p">(),</span> <span class="n">ApuChachani</span><span class="p">(),</span> <span class="n">ApuCcarhuarazo</span><span class="p">(),</span>
</span><span id="GameManager-1855"><a href="#GameManager-1855"><span class="linenos">1855</span></a>            <span class="n">ApuRasuwillka</span><span class="p">(),</span> <span class="n">ApuHualcaHualca</span><span class="p">(),</span> <span class="n">ApuUarancante</span><span class="p">(),</span> <span class="n">ApuAllincapac</span><span class="p">(),</span>
</span><span id="GameManager-1856"><a href="#GameManager-1856"><span class="linenos">1856</span></a>            <span class="n">ApuKatunqui</span><span class="p">(),</span> <span class="n">ApuPatallacta</span><span class="p">()</span>
</span><span id="GameManager-1857"><a href="#GameManager-1857"><span class="linenos">1857</span></a>        <span class="p">]</span>
</span><span id="GameManager-1858"><a href="#GameManager-1858"><span class="linenos">1858</span></a>        
</span><span id="GameManager-1859"><a href="#GameManager-1859"><span class="linenos">1859</span></a>        <span class="c1"># Insertar todos los Apus en el rbol binario</span>
</span><span id="GameManager-1860"><a href="#GameManager-1860"><span class="linenos">1860</span></a>        <span class="k">for</span> <span class="n">apu</span> <span class="ow">in</span> <span class="n">apus_instancias</span><span class="p">:</span>
</span><span id="GameManager-1861"><a href="#GameManager-1861"><span class="linenos">1861</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">insertar</span><span class="p">(</span><span class="n">apu</span><span class="o">.</span><span class="n">nombre</span><span class="p">,</span> <span class="n">apu</span><span class="o">.</span><span class="n">get_datos</span><span class="p">())</span>
</span><span id="GameManager-1862"><a href="#GameManager-1862"><span class="linenos">1862</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">bioma</span><span class="si">}</span><span class="s2">) - Altura: </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">altura</span><span class="si">}</span><span class="s2">m - Illas: </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">illas_robadas</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GameManager-1863"><a href="#GameManager-1863"><span class="linenos">1863</span></a>        
</span><span id="GameManager-1864"><a href="#GameManager-1864"><span class="linenos">1864</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;rbol binario poblado con </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">total_apus</span><span class="si">}</span><span class="s2"> Apus&quot;</span><span class="p">)</span>
</span><span id="GameManager-1865"><a href="#GameManager-1865"><span class="linenos">1865</span></a>        <span class="c1"># Mostrar estructura del rbol para debugging</span>
</span><span id="GameManager-1866"><a href="#GameManager-1866"><span class="linenos">1866</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">mostrar_arbol</span><span class="p">()</span>
</span><span id="GameManager-1867"><a href="#GameManager-1867"><span class="linenos">1867</span></a>        
</span><span id="GameManager-1868"><a href="#GameManager-1868"><span class="linenos">1868</span></a>        <span class="c1"># Demostrar funcionalidades del rbol binario</span>
</span><span id="GameManager-1869"><a href="#GameManager-1869"><span class="linenos">1869</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">demostrar_funcionalidades_arbol</span><span class="p">()</span>
</span><span id="GameManager-1870"><a href="#GameManager-1870"><span class="linenos">1870</span></a>    
</span><span id="GameManager-1871"><a href="#GameManager-1871"><span class="linenos">1871</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">demostrar_funcionalidades_arbol</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager-1872"><a href="#GameManager-1872"><span class="linenos">1872</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Demuestra las funcionalidades del rbol binario&quot;&quot;&quot;</span>
</span><span id="GameManager-1873"><a href="#GameManager-1873"><span class="linenos">1873</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== DEMOSTRACIN DE FUNCIONALIDADES DEL RBOL BINARIO ===&quot;</span><span class="p">)</span>
</span><span id="GameManager-1874"><a href="#GameManager-1874"><span class="linenos">1874</span></a>        
</span><span id="GameManager-1875"><a href="#GameManager-1875"><span class="linenos">1875</span></a>        <span class="c1"># 1. Buscar un Apu especfico</span>
</span><span id="GameManager-1876"><a href="#GameManager-1876"><span class="linenos">1876</span></a>        <span class="n">apu_buscado</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">buscar</span><span class="p">(</span><span class="s2">&quot;Huascarn&quot;</span><span class="p">)</span>
</span><span id="GameManager-1877"><a href="#GameManager-1877"><span class="linenos">1877</span></a>        <span class="k">if</span> <span class="n">apu_buscado</span><span class="p">:</span>
</span><span id="GameManager-1878"><a href="#GameManager-1878"><span class="linenos">1878</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Bsqueda exitosa: Encontrado </span><span class="si">{</span><span class="n">apu_buscado</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">apu_buscado</span><span class="o">.</span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;bioma&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GameManager-1879"><a href="#GameManager-1879"><span class="linenos">1879</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="GameManager-1880"><a href="#GameManager-1880"><span class="linenos">1880</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; Apu no encontrado&quot;</span><span class="p">)</span>
</span><span id="GameManager-1881"><a href="#GameManager-1881"><span class="linenos">1881</span></a>        
</span><span id="GameManager-1882"><a href="#GameManager-1882"><span class="linenos">1882</span></a>        <span class="c1"># 2. Recorrer todos los Apus en orden alfabtico</span>
</span><span id="GameManager-1883"><a href="#GameManager-1883"><span class="linenos">1883</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Recorrido inorden (orden alfabtico) de todos los Apus:&quot;</span><span class="p">)</span>
</span><span id="GameManager-1884"><a href="#GameManager-1884"><span class="linenos">1884</span></a>        <span class="n">apus_ordenados</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">recorrer_inorden</span><span class="p">()</span>
</span><span id="GameManager-1885"><a href="#GameManager-1885"><span class="linenos">1885</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">apu</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">apus_ordenados</span><span class="p">):</span>
</span><span id="GameManager-1886"><a href="#GameManager-1886"><span class="linenos">1886</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;bioma&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GameManager-1887"><a href="#GameManager-1887"><span class="linenos">1887</span></a>        
</span><span id="GameManager-1888"><a href="#GameManager-1888"><span class="linenos">1888</span></a>        <span class="c1"># 3. Obtener Apu por ndice</span>
</span><span id="GameManager-1889"><a href="#GameManager-1889"><span class="linenos">1889</span></a>        <span class="n">apu_por_indice</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">obtener_apu_por_indice</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="GameManager-1890"><a href="#GameManager-1890"><span class="linenos">1890</span></a>        <span class="k">if</span> <span class="n">apu_por_indice</span><span class="p">:</span>
</span><span id="GameManager-1891"><a href="#GameManager-1891"><span class="linenos">1891</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Primer Apu en orden alfabtico: </span><span class="si">{</span><span class="n">apu_por_indice</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GameManager-1892"><a href="#GameManager-1892"><span class="linenos">1892</span></a>        
</span><span id="GameManager-1893"><a href="#GameManager-1893"><span class="linenos">1893</span></a>        <span class="c1"># 4. Mostrar cmo funciona el recorrido por niveles</span>
</span><span id="GameManager-1894"><a href="#GameManager-1894"><span class="linenos">1894</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> FUNCIONAMIENTO DEL RBOL BINARIO:&quot;</span><span class="p">)</span>
</span><span id="GameManager-1895"><a href="#GameManager-1895"><span class="linenos">1895</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; ORDENACIN: Los Apus se ordenan alfabticamente&quot;</span><span class="p">)</span>
</span><span id="GameManager-1896"><a href="#GameManager-1896"><span class="linenos">1896</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; INSERCIN: Nombres menores van a la IZQUIERDA, mayores a la DERECHA&quot;</span><span class="p">)</span>
</span><span id="GameManager-1897"><a href="#GameManager-1897"><span class="linenos">1897</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; BSQUEDA: Compara alfabticamente y navega por niveles&quot;</span><span class="p">)</span>
</span><span id="GameManager-1898"><a href="#GameManager-1898"><span class="linenos">1898</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; RECORRIDO: Visita izquierda  raz  derecha (orden alfabtico)&quot;</span><span class="p">)</span>
</span><span id="GameManager-1899"><a href="#GameManager-1899"><span class="linenos">1899</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; CAMBIO DE NIVEL: Automtico segn comparacin alfabtica&quot;</span><span class="p">)</span>
</span><span id="GameManager-1900"><a href="#GameManager-1900"><span class="linenos">1900</span></a>        
</span><span id="GameManager-1901"><a href="#GameManager-1901"><span class="linenos">1901</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
</span><span id="GameManager-1902"><a href="#GameManager-1902"><span class="linenos">1902</span></a>
</span><span id="GameManager-1903"><a href="#GameManager-1903"><span class="linenos">1903</span></a>    <span class="c1">#  LO NUEVO QUE DEBES AGREGAR AQU</span>
</span><span id="GameManager-1904"><a href="#GameManager-1904"><span class="linenos">1904</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">load_menu_music</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager-1905"><a href="#GameManager-1905"><span class="linenos">1905</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Carga la msica del men principal si existe y no est sonando.&quot;&quot;&quot;</span>
</span><span id="GameManager-1906"><a href="#GameManager-1906"><span class="linenos">1906</span></a>        <span class="n">menu_music_path</span> <span class="o">=</span> <span class="s2">&quot;music/inicio.mp3&quot;</span>  <span class="c1">#  ruta actualizada</span>
</span><span id="GameManager-1907"><a href="#GameManager-1907"><span class="linenos">1907</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">menu_music_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">menu_music_path</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span><span class="p">:</span>
</span><span id="GameManager-1908"><a href="#GameManager-1908"><span class="linenos">1908</span></a>         <span class="n">stop_music</span><span class="p">()</span>
</span><span id="GameManager-1909"><a href="#GameManager-1909"><span class="linenos">1909</span></a>         <span class="n">play_music</span><span class="p">(</span><span class="n">menu_music_path</span><span class="p">)</span>
</span><span id="GameManager-1910"><a href="#GameManager-1910"><span class="linenos">1910</span></a>         <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span> <span class="o">=</span> <span class="n">menu_music_path</span>
</span><span id="GameManager-1911"><a href="#GameManager-1911"><span class="linenos">1911</span></a>         <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; Msica del MEN principal cargada&quot;</span><span class="p">)</span>
</span><span id="GameManager-1912"><a href="#GameManager-1912"><span class="linenos">1912</span></a>
</span><span id="GameManager-1913"><a href="#GameManager-1913"><span class="linenos">1913</span></a>
</span><span id="GameManager-1914"><a href="#GameManager-1914"><span class="linenos">1914</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">load_biome_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">):</span>
</span><span id="GameManager-1915"><a href="#GameManager-1915"><span class="linenos">1915</span></a><span class="w">     </span><span class="sd">&quot;&quot;&quot;Carga la msica del bioma correspondiente a la escena actual.&quot;&quot;&quot;</span>
</span><span id="GameManager-1916"><a href="#GameManager-1916"><span class="linenos">1916</span></a>     <span class="k">if</span> <span class="n">scene_number</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">BIOMA_MUSIC</span><span class="p">):</span>
</span><span id="GameManager-1917"><a href="#GameManager-1917"><span class="linenos">1917</span></a>        <span class="n">music_path</span> <span class="o">=</span> <span class="n">BIOMA_MUSIC</span><span class="p">[</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="GameManager-1918"><a href="#GameManager-1918"><span class="linenos">1918</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">music_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">music_path</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span><span class="p">:</span>
</span><span id="GameManager-1919"><a href="#GameManager-1919"><span class="linenos">1919</span></a>            <span class="n">stop_music</span><span class="p">()</span>
</span><span id="GameManager-1920"><a href="#GameManager-1920"><span class="linenos">1920</span></a>            <span class="n">play_music</span><span class="p">(</span><span class="n">music_path</span><span class="p">)</span>
</span><span id="GameManager-1921"><a href="#GameManager-1921"><span class="linenos">1921</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span> <span class="o">=</span> <span class="n">music_path</span>
</span><span id="GameManager-1922"><a href="#GameManager-1922"><span class="linenos">1922</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Msica del bioma </span><span class="si">{</span><span class="n">scene_number</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">music_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GameManager-1923"><a href="#GameManager-1923"><span class="linenos">1923</span></a>
</span><span id="GameManager-1924"><a href="#GameManager-1924"><span class="linenos">1924</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="GameManager-1925"><a href="#GameManager-1925"><span class="linenos">1925</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gestiona la entrada del usuario segn el estado del juego.</span>
</span><span id="GameManager-1926"><a href="#GameManager-1926"><span class="linenos">1926</span></a>
</span><span id="GameManager-1927"><a href="#GameManager-1927"><span class="linenos">1927</span></a><span class="sd">        Args:</span>
</span><span id="GameManager-1928"><a href="#GameManager-1928"><span class="linenos">1928</span></a><span class="sd">            event (pygame.event.Event): Evento de Pygame capturado.</span>
</span><span id="GameManager-1929"><a href="#GameManager-1929"><span class="linenos">1929</span></a><span class="sd">        </span>
</span><span id="GameManager-1930"><a href="#GameManager-1930"><span class="linenos">1930</span></a><span class="sd">        Returns:</span>
</span><span id="GameManager-1931"><a href="#GameManager-1931"><span class="linenos">1931</span></a><span class="sd">            str: &quot;QUIT&quot; si se debe cerrar el juego, &quot;CONTINUE&quot; de lo contrario.</span>
</span><span id="GameManager-1932"><a href="#GameManager-1932"><span class="linenos">1932</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameManager-1933"><a href="#GameManager-1933"><span class="linenos">1933</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;MENU&quot;</span><span class="p">:</span>
</span><span id="GameManager-1934"><a href="#GameManager-1934"><span class="linenos">1934</span></a>            <span class="c1"># Manejar tecla ESC para salir</span>
</span><span id="GameManager-1935"><a href="#GameManager-1935"><span class="linenos">1935</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_ESCAPE</span><span class="p">:</span>
</span><span id="GameManager-1936"><a href="#GameManager-1936"><span class="linenos">1936</span></a>                <span class="k">return</span> <span class="s2">&quot;QUIT&quot;</span>
</span><span id="GameManager-1937"><a href="#GameManager-1937"><span class="linenos">1937</span></a>            
</span><span id="GameManager-1938"><a href="#GameManager-1938"><span class="linenos">1938</span></a>            <span class="n">menu_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="GameManager-1939"><a href="#GameManager-1939"><span class="linenos">1939</span></a>            <span class="k">if</span> <span class="n">menu_result</span> <span class="o">==</span> <span class="s2">&quot;JUGAR&quot;</span><span class="p">:</span>
</span><span id="GameManager-1940"><a href="#GameManager-1940"><span class="linenos">1940</span></a>                <span class="n">stop_music</span><span class="p">()</span>
</span><span id="GameManager-1941"><a href="#GameManager-1941"><span class="linenos">1941</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;PLAYING&quot;</span>
</span><span id="GameManager-1942"><a href="#GameManager-1942"><span class="linenos">1942</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">load_biome_music</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="GameManager-1943"><a href="#GameManager-1943"><span class="linenos">1943</span></a>            <span class="k">elif</span> <span class="n">menu_result</span> <span class="o">==</span> <span class="s2">&quot;INSTRUCCIONES&quot;</span><span class="p">:</span>
</span><span id="GameManager-1944"><a href="#GameManager-1944"><span class="linenos">1944</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;INSTRUCTIONS&quot;</span>
</span><span id="GameManager-1945"><a href="#GameManager-1945"><span class="linenos">1945</span></a>            <span class="k">elif</span> <span class="n">menu_result</span> <span class="o">==</span> <span class="s2">&quot;SALIR&quot;</span><span class="p">:</span>
</span><span id="GameManager-1946"><a href="#GameManager-1946"><span class="linenos">1946</span></a>                <span class="k">return</span> <span class="s2">&quot;QUIT&quot;</span>
</span><span id="GameManager-1947"><a href="#GameManager-1947"><span class="linenos">1947</span></a>                
</span><span id="GameManager-1948"><a href="#GameManager-1948"><span class="linenos">1948</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;INSTRUCTIONS&quot;</span><span class="p">:</span>
</span><span id="GameManager-1949"><a href="#GameManager-1949"><span class="linenos">1949</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;instructions_screen&#39;</span><span class="p">):</span>
</span><span id="GameManager-1950"><a href="#GameManager-1950"><span class="linenos">1950</span></a>                <span class="kn">from</span><span class="w"> </span><span class="nn">menu</span><span class="w"> </span><span class="kn">import</span> <span class="n">InstructionsScreen</span>
</span><span id="GameManager-1951"><a href="#GameManager-1951"><span class="linenos">1951</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span> <span class="o">=</span> <span class="n">InstructionsScreen</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">)</span>
</span><span id="GameManager-1952"><a href="#GameManager-1952"><span class="linenos">1952</span></a>            <span class="n">instr_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="GameManager-1953"><a href="#GameManager-1953"><span class="linenos">1953</span></a>            <span class="k">if</span> <span class="n">instr_result</span> <span class="o">==</span> <span class="s2">&quot;BACK&quot;</span><span class="p">:</span>
</span><span id="GameManager-1954"><a href="#GameManager-1954"><span class="linenos">1954</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;MENU&quot;</span>
</span><span id="GameManager-1955"><a href="#GameManager-1955"><span class="linenos">1955</span></a>                
</span><span id="GameManager-1956"><a href="#GameManager-1956"><span class="linenos">1956</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;PLAYING&quot;</span><span class="p">:</span>
</span><span id="GameManager-1957"><a href="#GameManager-1957"><span class="linenos">1957</span></a>            <span class="c1"># Manejar tecla J para mostrar/ocultar mochila</span>
</span><span id="GameManager-1958"><a href="#GameManager-1958"><span class="linenos">1958</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_j</span><span class="p">:</span>
</span><span id="GameManager-1959"><a href="#GameManager-1959"><span class="linenos">1959</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">alternar_visibilidad</span><span class="p">()</span>
</span><span id="GameManager-1960"><a href="#GameManager-1960"><span class="linenos">1960</span></a>            
</span><span id="GameManager-1961"><a href="#GameManager-1961"><span class="linenos">1961</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">handle_event</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>
</span><span id="GameManager-1962"><a href="#GameManager-1962"><span class="linenos">1962</span></a>            <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="s2">&quot;GAME_OVER&quot;</span><span class="p">:</span>
</span><span id="GameManager-1963"><a href="#GameManager-1963"><span class="linenos">1963</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;GAME_OVER&quot;</span>
</span><span id="GameManager-1964"><a href="#GameManager-1964"><span class="linenos">1964</span></a>                <span class="n">stop_music</span><span class="p">()</span>
</span><span id="GameManager-1965"><a href="#GameManager-1965"><span class="linenos">1965</span></a>                
</span><span id="GameManager-1966"><a href="#GameManager-1966"><span class="linenos">1966</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;GAME_OVER&quot;</span><span class="p">,</span> <span class="s2">&quot;VICTORY&quot;</span><span class="p">]:</span>
</span><span id="GameManager-1967"><a href="#GameManager-1967"><span class="linenos">1967</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span><span class="p">:</span>
</span><span id="GameManager-1968"><a href="#GameManager-1968"><span class="linenos">1968</span></a>                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_r</span><span class="p">:</span>
</span><span id="GameManager-1969"><a href="#GameManager-1969"><span class="linenos">1969</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">restart_game</span><span class="p">()</span>
</span><span id="GameManager-1970"><a href="#GameManager-1970"><span class="linenos">1970</span></a>                <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_m</span><span class="p">:</span>
</span><span id="GameManager-1971"><a href="#GameManager-1971"><span class="linenos">1971</span></a>                    <span class="n">stop_music</span><span class="p">()</span>
</span><span id="GameManager-1972"><a href="#GameManager-1972"><span class="linenos">1972</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;MENU&quot;</span>
</span><span id="GameManager-1973"><a href="#GameManager-1973"><span class="linenos">1973</span></a>                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;main_menu&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="p">,</span> <span class="s1">&#39;menu_music_path&#39;</span><span class="p">):</span>
</span><span id="GameManager-1974"><a href="#GameManager-1974"><span class="linenos">1974</span></a>                        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">menu_music_path</span><span class="p">):</span>
</span><span id="GameManager-1975"><a href="#GameManager-1975"><span class="linenos">1975</span></a>                            <span class="n">play_music</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">menu_music_path</span><span class="p">)</span>
</span><span id="GameManager-1976"><a href="#GameManager-1976"><span class="linenos">1976</span></a>        
</span><span id="GameManager-1977"><a href="#GameManager-1977"><span class="linenos">1977</span></a>        <span class="k">return</span> <span class="s2">&quot;CONTINUE&quot;</span>
</span><span id="GameManager-1978"><a href="#GameManager-1978"><span class="linenos">1978</span></a>
</span><span id="GameManager-1979"><a href="#GameManager-1979"><span class="linenos">1979</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager-1980"><a href="#GameManager-1980"><span class="linenos">1980</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza todos los elementos del juego segn el estado actual.&quot;&quot;&quot;</span>
</span><span id="GameManager-1981"><a href="#GameManager-1981"><span class="linenos">1981</span></a>
</span><span id="GameManager-1982"><a href="#GameManager-1982"><span class="linenos">1982</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;MENU&quot;</span><span class="p">:</span>
</span><span id="GameManager-1983"><a href="#GameManager-1983"><span class="linenos">1983</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameManager-1984"><a href="#GameManager-1984"><span class="linenos">1984</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;PLAYING&quot;</span><span class="p">:</span>
</span><span id="GameManager-1985"><a href="#GameManager-1985"><span class="linenos">1985</span></a>            <span class="n">keys</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">()</span>
</span><span id="GameManager-1986"><a href="#GameManager-1986"><span class="linenos">1986</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
</span><span id="GameManager-1987"><a href="#GameManager-1987"><span class="linenos">1987</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameManager-1988"><a href="#GameManager-1988"><span class="linenos">1988</span></a>            
</span><span id="GameManager-1989"><a href="#GameManager-1989"><span class="linenos">1989</span></a>            <span class="c1"># Actualizar la mochila del jugador</span>
</span><span id="GameManager-1990"><a href="#GameManager-1990"><span class="linenos">1990</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameManager-1991"><a href="#GameManager-1991"><span class="linenos">1991</span></a>            
</span><span id="GameManager-1992"><a href="#GameManager-1992"><span class="linenos">1992</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>
</span><span id="GameManager-1993"><a href="#GameManager-1993"><span class="linenos">1993</span></a>            
</span><span id="GameManager-1994"><a href="#GameManager-1994"><span class="linenos">1994</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">can_advance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">):</span>
</span><span id="GameManager-1995"><a href="#GameManager-1995"><span class="linenos">1995</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">advance_to_next_scene</span><span class="p">()</span>
</span><span id="GameManager-1996"><a href="#GameManager-1996"><span class="linenos">1996</span></a>            
</span><span id="GameManager-1997"><a href="#GameManager-1997"><span class="linenos">1997</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameManager-1998"><a href="#GameManager-1998"><span class="linenos">1998</span></a>
</span><span id="GameManager-1999"><a href="#GameManager-1999"><span class="linenos">1999</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">advance_to_next_scene</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager-2000"><a href="#GameManager-2000"><span class="linenos">2000</span></a><span class="w">     </span><span class="sd">&quot;&quot;&quot;Avanza a la siguiente escena si se cumplen las condiciones.&quot;&quot;&quot;</span>
</span><span id="GameManager-2001"><a href="#GameManager-2001"><span class="linenos">2001</span></a>
</span><span id="GameManager-2002"><a href="#GameManager-2002"><span class="linenos">2002</span></a>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GameManager-2003"><a href="#GameManager-2003"><span class="linenos">2003</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="GameManager-2004"><a href="#GameManager-2004"><span class="linenos">2004</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="GameManager-2005"><a href="#GameManager-2005"><span class="linenos">2005</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span>
</span><span id="GameManager-2006"><a href="#GameManager-2006"><span class="linenos">2006</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">AnimatedBackground</span><span class="p">(</span><span class="n">scene_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">)</span>
</span><span id="GameManager-2007"><a href="#GameManager-2007"><span class="linenos">2007</span></a>
</span><span id="GameManager-2008"><a href="#GameManager-2008"><span class="linenos">2008</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">load_biome_music</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">)</span>  <span class="c1">#  cambia msica</span>
</span><span id="GameManager-2009"><a href="#GameManager-2009"><span class="linenos">2009</span></a>     <span class="k">else</span><span class="p">:</span>
</span><span id="GameManager-2010"><a href="#GameManager-2010"><span class="linenos">2010</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;VICTORY&quot;</span>
</span><span id="GameManager-2011"><a href="#GameManager-2011"><span class="linenos">2011</span></a>        <span class="n">stop_music</span><span class="p">()</span>
</span><span id="GameManager-2012"><a href="#GameManager-2012"><span class="linenos">2012</span></a>
</span><span id="GameManager-2013"><a href="#GameManager-2013"><span class="linenos">2013</span></a>
</span><span id="GameManager-2014"><a href="#GameManager-2014"><span class="linenos">2014</span></a>
</span><span id="GameManager-2015"><a href="#GameManager-2015"><span class="linenos">2015</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">restart_game</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager-2016"><a href="#GameManager-2016"><span class="linenos">2016</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Reinicia el juego desde la primera escena y resetea jugador y escenas.&quot;&quot;&quot;</span>
</span><span id="GameManager-2017"><a href="#GameManager-2017"><span class="linenos">2017</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="GameManager-2018"><a href="#GameManager-2018"><span class="linenos">2018</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span><span class="p">,</span> <span class="n">gif_path</span><span class="o">=</span><span class="s2">&quot;gif.gif&quot;</span><span class="p">,</span> <span class="n">scale_factor</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="GameManager-2019"><a href="#GameManager-2019"><span class="linenos">2019</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">AnimatedBackground</span><span class="p">(</span><span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="GameManager-2020"><a href="#GameManager-2020"><span class="linenos">2020</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;PLAYING&quot;</span>
</span><span id="GameManager-2021"><a href="#GameManager-2021"><span class="linenos">2021</span></a>        
</span><span id="GameManager-2022"><a href="#GameManager-2022"><span class="linenos">2022</span></a>        <span class="c1"># Recrear las escenas usando el rbol binario</span>
</span><span id="GameManager-2023"><a href="#GameManager-2023"><span class="linenos">2023</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="GameManager-2024"><a href="#GameManager-2024"><span class="linenos">2024</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span><span class="p">):</span>
</span><span id="GameManager-2025"><a href="#GameManager-2025"><span class="linenos">2025</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">GameScene</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="p">))</span>
</span><span id="GameManager-2026"><a href="#GameManager-2026"><span class="linenos">2026</span></a>        
</span><span id="GameManager-2027"><a href="#GameManager-2027"><span class="linenos">2027</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">load_biome_music</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="GameManager-2028"><a href="#GameManager-2028"><span class="linenos">2028</span></a>
</span><span id="GameManager-2029"><a href="#GameManager-2029"><span class="linenos">2029</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="GameManager-2030"><a href="#GameManager-2030"><span class="linenos">2030</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja todos los elementos visibles segn el estado del juego.</span>
</span><span id="GameManager-2031"><a href="#GameManager-2031"><span class="linenos">2031</span></a>
</span><span id="GameManager-2032"><a href="#GameManager-2032"><span class="linenos">2032</span></a><span class="sd">        Args:</span>
</span><span id="GameManager-2033"><a href="#GameManager-2033"><span class="linenos">2033</span></a><span class="sd">            screen (pygame.Surface): Superficie de Pygame donde se dibuja.</span>
</span><span id="GameManager-2034"><a href="#GameManager-2034"><span class="linenos">2034</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameManager-2035"><a href="#GameManager-2035"><span class="linenos">2035</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;MENU&quot;</span><span class="p">:</span>
</span><span id="GameManager-2036"><a href="#GameManager-2036"><span class="linenos">2036</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager-2037"><a href="#GameManager-2037"><span class="linenos">2037</span></a>            
</span><span id="GameManager-2038"><a href="#GameManager-2038"><span class="linenos">2038</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;INSTRUCTIONS&quot;</span><span class="p">:</span>
</span><span id="GameManager-2039"><a href="#GameManager-2039"><span class="linenos">2039</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>  <span class="c1"># Fondo del men</span>
</span><span id="GameManager-2040"><a href="#GameManager-2040"><span class="linenos">2040</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">menu</span><span class="w"> </span><span class="kn">import</span> <span class="n">InstructionsScreen</span>
</span><span id="GameManager-2041"><a href="#GameManager-2041"><span class="linenos">2041</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;instructions_screen&#39;</span><span class="p">):</span>
</span><span id="GameManager-2042"><a href="#GameManager-2042"><span class="linenos">2042</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span> <span class="o">=</span> <span class="n">InstructionsScreen</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">)</span>
</span><span id="GameManager-2043"><a href="#GameManager-2043"><span class="linenos">2043</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager-2044"><a href="#GameManager-2044"><span class="linenos">2044</span></a>            
</span><span id="GameManager-2045"><a href="#GameManager-2045"><span class="linenos">2045</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;PLAYING&quot;</span><span class="p">:</span>
</span><span id="GameManager-2046"><a href="#GameManager-2046"><span class="linenos">2046</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager-2047"><a href="#GameManager-2047"><span class="linenos">2047</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager-2048"><a href="#GameManager-2048"><span class="linenos">2048</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>
</span><span id="GameManager-2049"><a href="#GameManager-2049"><span class="linenos">2049</span></a>            
</span><span id="GameManager-2050"><a href="#GameManager-2050"><span class="linenos">2050</span></a>            <span class="c1"># Dibujar mochila si est abierta</span>
</span><span id="GameManager-2051"><a href="#GameManager-2051"><span class="linenos">2051</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager-2052"><a href="#GameManager-2052"><span class="linenos">2052</span></a>            
</span><span id="GameManager-2053"><a href="#GameManager-2053"><span class="linenos">2053</span></a>            <span class="n">progress_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Progreso: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">/14&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameManager-2054"><a href="#GameManager-2054"><span class="linenos">2054</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">progress_text</span><span class="p">,</span> <span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</span><span id="GameManager-2055"><a href="#GameManager-2055"><span class="linenos">2055</span></a>            
</span><span id="GameManager-2056"><a href="#GameManager-2056"><span class="linenos">2056</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;GAME_OVER&quot;</span><span class="p">:</span>
</span><span id="GameManager-2057"><a href="#GameManager-2057"><span class="linenos">2057</span></a>            <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="GameManager-2058"><a href="#GameManager-2058"><span class="linenos">2058</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</span><span id="GameManager-2059"><a href="#GameManager-2059"><span class="linenos">2059</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="GameManager-2060"><a href="#GameManager-2060"><span class="linenos">2060</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="GameManager-2061"><a href="#GameManager-2061"><span class="linenos">2061</span></a>            
</span><span id="GameManager-2062"><a href="#GameManager-2062"><span class="linenos">2062</span></a>            <span class="n">game_over_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_big</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;GAME OVER!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">RED</span><span class="p">)</span>
</span><span id="GameManager-2063"><a href="#GameManager-2063"><span class="linenos">2063</span></a>            <span class="n">game_over_rect</span> <span class="o">=</span> <span class="n">game_over_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">70</span><span class="p">))</span>
</span><span id="GameManager-2064"><a href="#GameManager-2064"><span class="linenos">2064</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">game_over_text</span><span class="p">,</span> <span class="n">game_over_rect</span><span class="p">)</span>
</span><span id="GameManager-2065"><a href="#GameManager-2065"><span class="linenos">2065</span></a>            
</span><span id="GameManager-2066"><a href="#GameManager-2066"><span class="linenos">2066</span></a>            <span class="n">score_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Llegaste hasta la escena </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameManager-2067"><a href="#GameManager-2067"><span class="linenos">2067</span></a>            <span class="n">score_rect</span> <span class="o">=</span> <span class="n">score_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="GameManager-2068"><a href="#GameManager-2068"><span class="linenos">2068</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">score_text</span><span class="p">,</span> <span class="n">score_rect</span><span class="p">)</span>
</span><span id="GameManager-2069"><a href="#GameManager-2069"><span class="linenos">2069</span></a>            
</span><span id="GameManager-2070"><a href="#GameManager-2070"><span class="linenos">2070</span></a>            <span class="n">articles_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Illas recuperadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameManager-2071"><a href="#GameManager-2071"><span class="linenos">2071</span></a>            <span class="n">articles_rect</span> <span class="o">=</span> <span class="n">articles_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">10</span><span class="p">))</span>
</span><span id="GameManager-2072"><a href="#GameManager-2072"><span class="linenos">2072</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">articles_text</span><span class="p">,</span> <span class="n">articles_rect</span><span class="p">)</span>
</span><span id="GameManager-2073"><a href="#GameManager-2073"><span class="linenos">2073</span></a>            
</span><span id="GameManager-2074"><a href="#GameManager-2074"><span class="linenos">2074</span></a>            <span class="n">restart_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Presiona &#39;R&#39; para reiniciar | &#39;M&#39; para men&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="GameManager-2075"><a href="#GameManager-2075"><span class="linenos">2075</span></a>            <span class="n">restart_rect</span> <span class="o">=</span> <span class="n">restart_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">60</span><span class="p">))</span>
</span><span id="GameManager-2076"><a href="#GameManager-2076"><span class="linenos">2076</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">restart_text</span><span class="p">,</span> <span class="n">restart_rect</span><span class="p">)</span>
</span><span id="GameManager-2077"><a href="#GameManager-2077"><span class="linenos">2077</span></a>            
</span><span id="GameManager-2078"><a href="#GameManager-2078"><span class="linenos">2078</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;VICTORY&quot;</span><span class="p">:</span>
</span><span id="GameManager-2079"><a href="#GameManager-2079"><span class="linenos">2079</span></a>            <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="GameManager-2080"><a href="#GameManager-2080"><span class="linenos">2080</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</span><span id="GameManager-2081"><a href="#GameManager-2081"><span class="linenos">2081</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="GameManager-2082"><a href="#GameManager-2082"><span class="linenos">2082</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="GameManager-2083"><a href="#GameManager-2083"><span class="linenos">2083</span></a>            
</span><span id="GameManager-2084"><a href="#GameManager-2084"><span class="linenos">2084</span></a>            <span class="n">victory_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_big</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;VICTORIA TOTAL!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GREEN</span><span class="p">)</span>
</span><span id="GameManager-2085"><a href="#GameManager-2085"><span class="linenos">2085</span></a>            <span class="n">victory_rect</span> <span class="o">=</span> <span class="n">victory_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">90</span><span class="p">))</span>
</span><span id="GameManager-2086"><a href="#GameManager-2086"><span class="linenos">2086</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">victory_text</span><span class="p">,</span> <span class="n">victory_rect</span><span class="p">)</span>
</span><span id="GameManager-2087"><a href="#GameManager-2087"><span class="linenos">2087</span></a>            
</span><span id="GameManager-2088"><a href="#GameManager-2088"><span class="linenos">2088</span></a>            <span class="n">completion_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Ekeko complet su aventura por los 14 Apus!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameManager-2089"><a href="#GameManager-2089"><span class="linenos">2089</span></a>            <span class="n">completion_rect</span> <span class="o">=</span> <span class="n">completion_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">40</span><span class="p">))</span>
</span><span id="GameManager-2090"><a href="#GameManager-2090"><span class="linenos">2090</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">completion_text</span><span class="p">,</span> <span class="n">completion_rect</span><span class="p">)</span>
</span><span id="GameManager-2091"><a href="#GameManager-2091"><span class="linenos">2091</span></a>            
</span><span id="GameManager-2092"><a href="#GameManager-2092"><span class="linenos">2092</span></a>            <span class="n">articles_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
</span><span id="GameManager-2093"><a href="#GameManager-2093"><span class="linenos">2093</span></a>                <span class="sa">f</span><span class="s2">&quot;Illas sagradas recuperadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span><span class="p">,</span> 
</span><span id="GameManager-2094"><a href="#GameManager-2094"><span class="linenos">2094</span></a>                <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span>
</span><span id="GameManager-2095"><a href="#GameManager-2095"><span class="linenos">2095</span></a>            <span class="p">)</span>
</span><span id="GameManager-2096"><a href="#GameManager-2096"><span class="linenos">2096</span></a>            <span class="n">articles_rect</span> <span class="o">=</span> <span class="n">articles_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="GameManager-2097"><a href="#GameManager-2097"><span class="linenos">2097</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">articles_text</span><span class="p">,</span> <span class="n">articles_rect</span><span class="p">)</span>
</span><span id="GameManager-2098"><a href="#GameManager-2098"><span class="linenos">2098</span></a>            
</span><span id="GameManager-2099"><a href="#GameManager-2099"><span class="linenos">2099</span></a>            <span class="n">restart_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Presiona &#39;R&#39; para reiniciar | &#39;M&#39; para men&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="GameManager-2100"><a href="#GameManager-2100"><span class="linenos">2100</span></a>            <span class="n">restart_rect</span> <span class="o">=</span> <span class="n">restart_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">60</span><span class="p">))</span>
</span><span id="GameManager-2101"><a href="#GameManager-2101"><span class="linenos">2101</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">restart_text</span><span class="p">,</span> <span class="n">restart_rect</span><span class="p">)</span>
</span><span id="GameManager-2102"><a href="#GameManager-2102"><span class="linenos">2102</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager-2103"><a href="#GameManager-2103"><span class="linenos">2103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Bucle principal del juego. Maneja eventos, actualizaciones y renderizado.&quot;&quot;&quot;</span>
</span><span id="GameManager-2104"><a href="#GameManager-2104"><span class="linenos">2104</span></a>        <span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="GameManager-2105"><a href="#GameManager-2105"><span class="linenos">2105</span></a>        <span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
</span><span id="GameManager-2106"><a href="#GameManager-2106"><span class="linenos">2106</span></a>        <span class="k">while</span> <span class="n">running</span><span class="p">:</span>
</span><span id="GameManager-2107"><a href="#GameManager-2107"><span class="linenos">2107</span></a>            <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="GameManager-2108"><a href="#GameManager-2108"><span class="linenos">2108</span></a>                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span><span id="GameManager-2109"><a href="#GameManager-2109"><span class="linenos">2109</span></a>                    <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="GameManager-2110"><a href="#GameManager-2110"><span class="linenos">2110</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="GameManager-2111"><a href="#GameManager-2111"><span class="linenos">2111</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">handle_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="GameManager-2112"><a href="#GameManager-2112"><span class="linenos">2112</span></a>
</span><span id="GameManager-2113"><a href="#GameManager-2113"><span class="linenos">2113</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameManager-2114"><a href="#GameManager-2114"><span class="linenos">2114</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager-2115"><a href="#GameManager-2115"><span class="linenos">2115</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span><span id="GameManager-2116"><a href="#GameManager-2116"><span class="linenos">2116</span></a>            <span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>  <span class="c1"># 60 FPS</span>
</span><span id="GameManager-2117"><a href="#GameManager-2117"><span class="linenos">2117</span></a>
</span><span id="GameManager-2118"><a href="#GameManager-2118"><span class="linenos">2118</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Clase principal que gestiona el juego completo.</p>
</div>


                            <div id="GameManager.__init__" class="classattr">
                                        <input id="GameManager.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">GameManager</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="GameManager.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager.__init__-1818"><a href="#GameManager.__init__-1818"><span class="linenos">1818</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager.__init__-1819"><a href="#GameManager.__init__-1819"><span class="linenos">1819</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Inicializa GameManager, carga msica del men, rbol de Apus y escenas.&quot;&quot;&quot;</span>
</span><span id="GameManager.__init__-1820"><a href="#GameManager.__init__-1820"><span class="linenos">1820</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="GameManager.__init__-1821"><a href="#GameManager.__init__-1821"><span class="linenos">1821</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span> <span class="o">=</span> <span class="mi">14</span>  <span class="c1"># Actualizado a 14 Apus</span>
</span><span id="GameManager.__init__-1822"><a href="#GameManager.__init__-1822"><span class="linenos">1822</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="GameManager.__init__-1823"><a href="#GameManager.__init__-1823"><span class="linenos">1823</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span><span class="p">,</span> <span class="n">gif_path</span><span class="o">=</span><span class="s2">&quot;gif.gif&quot;</span><span class="p">,</span> <span class="n">scale_factor</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="GameManager.__init__-1824"><a href="#GameManager.__init__-1824"><span class="linenos">1824</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">AnimatedBackground</span><span class="p">(</span><span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="GameManager.__init__-1825"><a href="#GameManager.__init__-1825"><span class="linenos">1825</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;MENU&quot;</span>  <span class="c1">#  empieza en men</span>
</span><span id="GameManager.__init__-1826"><a href="#GameManager.__init__-1826"><span class="linenos">1826</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_big</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="GameManager.__init__-1827"><a href="#GameManager.__init__-1827"><span class="linenos">1827</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="GameManager.__init__-1828"><a href="#GameManager.__init__-1828"><span class="linenos">1828</span></a>
</span><span id="GameManager.__init__-1829"><a href="#GameManager.__init__-1829"><span class="linenos">1829</span></a>        <span class="c1">#  rbol binario de Apus</span>
</span><span id="GameManager.__init__-1830"><a href="#GameManager.__init__-1830"><span class="linenos">1830</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span> <span class="o">=</span> <span class="n">ArbolApus</span><span class="p">()</span>
</span><span id="GameManager.__init__-1831"><a href="#GameManager.__init__-1831"><span class="linenos">1831</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">poblar_arbol_apus</span><span class="p">()</span>  <span class="c1"># Poblar el rbol con los 14 Apus</span>
</span><span id="GameManager.__init__-1832"><a href="#GameManager.__init__-1832"><span class="linenos">1832</span></a>
</span><span id="GameManager.__init__-1833"><a href="#GameManager.__init__-1833"><span class="linenos">1833</span></a>        <span class="c1">#  Men principal (usando archivo separado)</span>
</span><span id="GameManager.__init__-1834"><a href="#GameManager.__init__-1834"><span class="linenos">1834</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">menu</span><span class="w"> </span><span class="kn">import</span> <span class="n">MainMenu</span>
</span><span id="GameManager.__init__-1835"><a href="#GameManager.__init__-1835"><span class="linenos">1835</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span> <span class="o">=</span> <span class="n">MainMenu</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">)</span>
</span><span id="GameManager.__init__-1836"><a href="#GameManager.__init__-1836"><span class="linenos">1836</span></a>
</span><span id="GameManager.__init__-1837"><a href="#GameManager.__init__-1837"><span class="linenos">1837</span></a>        <span class="c1">#  Escenas (ahora usando el rbol binario)</span>
</span><span id="GameManager.__init__-1838"><a href="#GameManager.__init__-1838"><span class="linenos">1838</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span><span class="p">):</span>
</span><span id="GameManager.__init__-1839"><a href="#GameManager.__init__-1839"><span class="linenos">1839</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">GameScene</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="p">))</span>
</span><span id="GameManager.__init__-1840"><a href="#GameManager.__init__-1840"><span class="linenos">1840</span></a>
</span><span id="GameManager.__init__-1841"><a href="#GameManager.__init__-1841"><span class="linenos">1841</span></a>        <span class="c1">#  Msica</span>
</span><span id="GameManager.__init__-1842"><a href="#GameManager.__init__-1842"><span class="linenos">1842</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="GameManager.__init__-1843"><a href="#GameManager.__init__-1843"><span class="linenos">1843</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">load_menu_music</span><span class="p">()</span>  <span class="c1">#  suena msica del men apenas inicia</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa GameManager, carga msica del men, rbol de Apus y escenas.</p>
</div>


                            </div>
                            <div id="GameManager.current_scene" class="classattr">
                                <div class="attr variable">
            <span class="name">current_scene</span>

        
    </div>
    <a class="headerlink" href="#GameManager.current_scene"></a>
    
    

                            </div>
                            <div id="GameManager.total_scenes" class="classattr">
                                <div class="attr variable">
            <span class="name">total_scenes</span>

        
    </div>
    <a class="headerlink" href="#GameManager.total_scenes"></a>
    
    

                            </div>
                            <div id="GameManager.scenes" class="classattr">
                                <div class="attr variable">
            <span class="name">scenes</span>

        
    </div>
    <a class="headerlink" href="#GameManager.scenes"></a>
    
    

                            </div>
                            <div id="GameManager.player" class="classattr">
                                <div class="attr variable">
            <span class="name">player</span>

        
    </div>
    <a class="headerlink" href="#GameManager.player"></a>
    
    

                            </div>
                            <div id="GameManager.background" class="classattr">
                                <div class="attr variable">
            <span class="name">background</span>

        
    </div>
    <a class="headerlink" href="#GameManager.background"></a>
    
    

                            </div>
                            <div id="GameManager.game_state" class="classattr">
                                <div class="attr variable">
            <span class="name">game_state</span>

        
    </div>
    <a class="headerlink" href="#GameManager.game_state"></a>
    
    

                            </div>
                            <div id="GameManager.font_big" class="classattr">
                                <div class="attr variable">
            <span class="name">font_big</span>

        
    </div>
    <a class="headerlink" href="#GameManager.font_big"></a>
    
    

                            </div>
                            <div id="GameManager.font_medium" class="classattr">
                                <div class="attr variable">
            <span class="name">font_medium</span>

        
    </div>
    <a class="headerlink" href="#GameManager.font_medium"></a>
    
    

                            </div>
                            <div id="GameManager.arbol_apus" class="classattr">
                                <div class="attr variable">
            <span class="name">arbol_apus</span>

        
    </div>
    <a class="headerlink" href="#GameManager.arbol_apus"></a>
    
    

                            </div>
                            <div id="GameManager.main_menu" class="classattr">
                                <div class="attr variable">
            <span class="name">main_menu</span>

        
    </div>
    <a class="headerlink" href="#GameManager.main_menu"></a>
    
    

                            </div>
                            <div id="GameManager.current_music" class="classattr">
                                <div class="attr variable">
            <span class="name">current_music</span>

        
    </div>
    <a class="headerlink" href="#GameManager.current_music"></a>
    
    

                            </div>
                            <div id="GameManager.poblar_arbol_apus" class="classattr">
                                        <input id="GameManager.poblar_arbol_apus-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">poblar_arbol_apus</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameManager.poblar_arbol_apus-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager.poblar_arbol_apus"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager.poblar_arbol_apus-1847"><a href="#GameManager.poblar_arbol_apus-1847"><span class="linenos">1847</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">poblar_arbol_apus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager.poblar_arbol_apus-1848"><a href="#GameManager.poblar_arbol_apus-1848"><span class="linenos">1848</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Poblar el rbol binario con los 14 Apus del juego usando clases especficas&quot;&quot;&quot;</span>
</span><span id="GameManager.poblar_arbol_apus-1849"><a href="#GameManager.poblar_arbol_apus-1849"><span class="linenos">1849</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; Poblando rbol binario con los 14 Apus usando clases especficas...&quot;</span><span class="p">)</span>
</span><span id="GameManager.poblar_arbol_apus-1850"><a href="#GameManager.poblar_arbol_apus-1850"><span class="linenos">1850</span></a>        
</span><span id="GameManager.poblar_arbol_apus-1851"><a href="#GameManager.poblar_arbol_apus-1851"><span class="linenos">1851</span></a>        <span class="c1"># Crear instancias de cada clase de Apu (en orden de la lista de Ekeko)</span>
</span><span id="GameManager.poblar_arbol_apus-1852"><a href="#GameManager.poblar_arbol_apus-1852"><span class="linenos">1852</span></a>        <span class="n">apus_instancias</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="GameManager.poblar_arbol_apus-1853"><a href="#GameManager.poblar_arbol_apus-1853"><span class="linenos">1853</span></a>            <span class="n">ApuHuascaran</span><span class="p">(),</span> <span class="n">ApuCoropuna</span><span class="p">(),</span> <span class="n">ApuMisti</span><span class="p">(),</span> <span class="n">ApuAmpato</span><span class="p">(),</span>
</span><span id="GameManager.poblar_arbol_apus-1854"><a href="#GameManager.poblar_arbol_apus-1854"><span class="linenos">1854</span></a>            <span class="n">ApuSaraSara</span><span class="p">(),</span> <span class="n">ApuSalkantay</span><span class="p">(),</span> <span class="n">ApuChachani</span><span class="p">(),</span> <span class="n">ApuCcarhuarazo</span><span class="p">(),</span>
</span><span id="GameManager.poblar_arbol_apus-1855"><a href="#GameManager.poblar_arbol_apus-1855"><span class="linenos">1855</span></a>            <span class="n">ApuRasuwillka</span><span class="p">(),</span> <span class="n">ApuHualcaHualca</span><span class="p">(),</span> <span class="n">ApuUarancante</span><span class="p">(),</span> <span class="n">ApuAllincapac</span><span class="p">(),</span>
</span><span id="GameManager.poblar_arbol_apus-1856"><a href="#GameManager.poblar_arbol_apus-1856"><span class="linenos">1856</span></a>            <span class="n">ApuKatunqui</span><span class="p">(),</span> <span class="n">ApuPatallacta</span><span class="p">()</span>
</span><span id="GameManager.poblar_arbol_apus-1857"><a href="#GameManager.poblar_arbol_apus-1857"><span class="linenos">1857</span></a>        <span class="p">]</span>
</span><span id="GameManager.poblar_arbol_apus-1858"><a href="#GameManager.poblar_arbol_apus-1858"><span class="linenos">1858</span></a>        
</span><span id="GameManager.poblar_arbol_apus-1859"><a href="#GameManager.poblar_arbol_apus-1859"><span class="linenos">1859</span></a>        <span class="c1"># Insertar todos los Apus en el rbol binario</span>
</span><span id="GameManager.poblar_arbol_apus-1860"><a href="#GameManager.poblar_arbol_apus-1860"><span class="linenos">1860</span></a>        <span class="k">for</span> <span class="n">apu</span> <span class="ow">in</span> <span class="n">apus_instancias</span><span class="p">:</span>
</span><span id="GameManager.poblar_arbol_apus-1861"><a href="#GameManager.poblar_arbol_apus-1861"><span class="linenos">1861</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">insertar</span><span class="p">(</span><span class="n">apu</span><span class="o">.</span><span class="n">nombre</span><span class="p">,</span> <span class="n">apu</span><span class="o">.</span><span class="n">get_datos</span><span class="p">())</span>
</span><span id="GameManager.poblar_arbol_apus-1862"><a href="#GameManager.poblar_arbol_apus-1862"><span class="linenos">1862</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">bioma</span><span class="si">}</span><span class="s2">) - Altura: </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">altura</span><span class="si">}</span><span class="s2">m - Illas: </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">illas_robadas</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GameManager.poblar_arbol_apus-1863"><a href="#GameManager.poblar_arbol_apus-1863"><span class="linenos">1863</span></a>        
</span><span id="GameManager.poblar_arbol_apus-1864"><a href="#GameManager.poblar_arbol_apus-1864"><span class="linenos">1864</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;rbol binario poblado con </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">total_apus</span><span class="si">}</span><span class="s2"> Apus&quot;</span><span class="p">)</span>
</span><span id="GameManager.poblar_arbol_apus-1865"><a href="#GameManager.poblar_arbol_apus-1865"><span class="linenos">1865</span></a>        <span class="c1"># Mostrar estructura del rbol para debugging</span>
</span><span id="GameManager.poblar_arbol_apus-1866"><a href="#GameManager.poblar_arbol_apus-1866"><span class="linenos">1866</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">mostrar_arbol</span><span class="p">()</span>
</span><span id="GameManager.poblar_arbol_apus-1867"><a href="#GameManager.poblar_arbol_apus-1867"><span class="linenos">1867</span></a>        
</span><span id="GameManager.poblar_arbol_apus-1868"><a href="#GameManager.poblar_arbol_apus-1868"><span class="linenos">1868</span></a>        <span class="c1"># Demostrar funcionalidades del rbol binario</span>
</span><span id="GameManager.poblar_arbol_apus-1869"><a href="#GameManager.poblar_arbol_apus-1869"><span class="linenos">1869</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">demostrar_funcionalidades_arbol</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Poblar el rbol binario con los 14 Apus del juego usando clases especficas</p>
</div>


                            </div>
                            <div id="GameManager.demostrar_funcionalidades_arbol" class="classattr">
                                        <input id="GameManager.demostrar_funcionalidades_arbol-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">demostrar_funcionalidades_arbol</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameManager.demostrar_funcionalidades_arbol-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager.demostrar_funcionalidades_arbol"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager.demostrar_funcionalidades_arbol-1871"><a href="#GameManager.demostrar_funcionalidades_arbol-1871"><span class="linenos">1871</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">demostrar_funcionalidades_arbol</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1872"><a href="#GameManager.demostrar_funcionalidades_arbol-1872"><span class="linenos">1872</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Demuestra las funcionalidades del rbol binario&quot;&quot;&quot;</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1873"><a href="#GameManager.demostrar_funcionalidades_arbol-1873"><span class="linenos">1873</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== DEMOSTRACIN DE FUNCIONALIDADES DEL RBOL BINARIO ===&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1874"><a href="#GameManager.demostrar_funcionalidades_arbol-1874"><span class="linenos">1874</span></a>        
</span><span id="GameManager.demostrar_funcionalidades_arbol-1875"><a href="#GameManager.demostrar_funcionalidades_arbol-1875"><span class="linenos">1875</span></a>        <span class="c1"># 1. Buscar un Apu especfico</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1876"><a href="#GameManager.demostrar_funcionalidades_arbol-1876"><span class="linenos">1876</span></a>        <span class="n">apu_buscado</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">buscar</span><span class="p">(</span><span class="s2">&quot;Huascarn&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1877"><a href="#GameManager.demostrar_funcionalidades_arbol-1877"><span class="linenos">1877</span></a>        <span class="k">if</span> <span class="n">apu_buscado</span><span class="p">:</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1878"><a href="#GameManager.demostrar_funcionalidades_arbol-1878"><span class="linenos">1878</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Bsqueda exitosa: Encontrado </span><span class="si">{</span><span class="n">apu_buscado</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">apu_buscado</span><span class="o">.</span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;bioma&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1879"><a href="#GameManager.demostrar_funcionalidades_arbol-1879"><span class="linenos">1879</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1880"><a href="#GameManager.demostrar_funcionalidades_arbol-1880"><span class="linenos">1880</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; Apu no encontrado&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1881"><a href="#GameManager.demostrar_funcionalidades_arbol-1881"><span class="linenos">1881</span></a>        
</span><span id="GameManager.demostrar_funcionalidades_arbol-1882"><a href="#GameManager.demostrar_funcionalidades_arbol-1882"><span class="linenos">1882</span></a>        <span class="c1"># 2. Recorrer todos los Apus en orden alfabtico</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1883"><a href="#GameManager.demostrar_funcionalidades_arbol-1883"><span class="linenos">1883</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Recorrido inorden (orden alfabtico) de todos los Apus:&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1884"><a href="#GameManager.demostrar_funcionalidades_arbol-1884"><span class="linenos">1884</span></a>        <span class="n">apus_ordenados</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">recorrer_inorden</span><span class="p">()</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1885"><a href="#GameManager.demostrar_funcionalidades_arbol-1885"><span class="linenos">1885</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">apu</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">apus_ordenados</span><span class="p">):</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1886"><a href="#GameManager.demostrar_funcionalidades_arbol-1886"><span class="linenos">1886</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">apu</span><span class="o">.</span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;bioma&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1887"><a href="#GameManager.demostrar_funcionalidades_arbol-1887"><span class="linenos">1887</span></a>        
</span><span id="GameManager.demostrar_funcionalidades_arbol-1888"><a href="#GameManager.demostrar_funcionalidades_arbol-1888"><span class="linenos">1888</span></a>        <span class="c1"># 3. Obtener Apu por ndice</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1889"><a href="#GameManager.demostrar_funcionalidades_arbol-1889"><span class="linenos">1889</span></a>        <span class="n">apu_por_indice</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="o">.</span><span class="n">obtener_apu_por_indice</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1890"><a href="#GameManager.demostrar_funcionalidades_arbol-1890"><span class="linenos">1890</span></a>        <span class="k">if</span> <span class="n">apu_por_indice</span><span class="p">:</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1891"><a href="#GameManager.demostrar_funcionalidades_arbol-1891"><span class="linenos">1891</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Primer Apu en orden alfabtico: </span><span class="si">{</span><span class="n">apu_por_indice</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1892"><a href="#GameManager.demostrar_funcionalidades_arbol-1892"><span class="linenos">1892</span></a>        
</span><span id="GameManager.demostrar_funcionalidades_arbol-1893"><a href="#GameManager.demostrar_funcionalidades_arbol-1893"><span class="linenos">1893</span></a>        <span class="c1"># 4. Mostrar cmo funciona el recorrido por niveles</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1894"><a href="#GameManager.demostrar_funcionalidades_arbol-1894"><span class="linenos">1894</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> FUNCIONAMIENTO DEL RBOL BINARIO:&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1895"><a href="#GameManager.demostrar_funcionalidades_arbol-1895"><span class="linenos">1895</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; ORDENACIN: Los Apus se ordenan alfabticamente&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1896"><a href="#GameManager.demostrar_funcionalidades_arbol-1896"><span class="linenos">1896</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; INSERCIN: Nombres menores van a la IZQUIERDA, mayores a la DERECHA&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1897"><a href="#GameManager.demostrar_funcionalidades_arbol-1897"><span class="linenos">1897</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; BSQUEDA: Compara alfabticamente y navega por niveles&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1898"><a href="#GameManager.demostrar_funcionalidades_arbol-1898"><span class="linenos">1898</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; RECORRIDO: Visita izquierda  raz  derecha (orden alfabtico)&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1899"><a href="#GameManager.demostrar_funcionalidades_arbol-1899"><span class="linenos">1899</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; CAMBIO DE NIVEL: Automtico segn comparacin alfabtica&quot;</span><span class="p">)</span>
</span><span id="GameManager.demostrar_funcionalidades_arbol-1900"><a href="#GameManager.demostrar_funcionalidades_arbol-1900"><span class="linenos">1900</span></a>        
</span><span id="GameManager.demostrar_funcionalidades_arbol-1901"><a href="#GameManager.demostrar_funcionalidades_arbol-1901"><span class="linenos">1901</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Demuestra las funcionalidades del rbol binario</p>
</div>


                            </div>
                            <div id="GameManager.load_menu_music" class="classattr">
                                        <input id="GameManager.load_menu_music-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">load_menu_music</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameManager.load_menu_music-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager.load_menu_music"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager.load_menu_music-1904"><a href="#GameManager.load_menu_music-1904"><span class="linenos">1904</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">load_menu_music</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager.load_menu_music-1905"><a href="#GameManager.load_menu_music-1905"><span class="linenos">1905</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Carga la msica del men principal si existe y no est sonando.&quot;&quot;&quot;</span>
</span><span id="GameManager.load_menu_music-1906"><a href="#GameManager.load_menu_music-1906"><span class="linenos">1906</span></a>        <span class="n">menu_music_path</span> <span class="o">=</span> <span class="s2">&quot;music/inicio.mp3&quot;</span>  <span class="c1">#  ruta actualizada</span>
</span><span id="GameManager.load_menu_music-1907"><a href="#GameManager.load_menu_music-1907"><span class="linenos">1907</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">menu_music_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">menu_music_path</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span><span class="p">:</span>
</span><span id="GameManager.load_menu_music-1908"><a href="#GameManager.load_menu_music-1908"><span class="linenos">1908</span></a>         <span class="n">stop_music</span><span class="p">()</span>
</span><span id="GameManager.load_menu_music-1909"><a href="#GameManager.load_menu_music-1909"><span class="linenos">1909</span></a>         <span class="n">play_music</span><span class="p">(</span><span class="n">menu_music_path</span><span class="p">)</span>
</span><span id="GameManager.load_menu_music-1910"><a href="#GameManager.load_menu_music-1910"><span class="linenos">1910</span></a>         <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span> <span class="o">=</span> <span class="n">menu_music_path</span>
</span><span id="GameManager.load_menu_music-1911"><a href="#GameManager.load_menu_music-1911"><span class="linenos">1911</span></a>         <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; Msica del MEN principal cargada&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Carga la msica del men principal si existe y no est sonando.</p>
</div>


                            </div>
                            <div id="GameManager.load_biome_music" class="classattr">
                                        <input id="GameManager.load_biome_music-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">load_biome_music</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">scene_number</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameManager.load_biome_music-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager.load_biome_music"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager.load_biome_music-1914"><a href="#GameManager.load_biome_music-1914"><span class="linenos">1914</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">load_biome_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_number</span><span class="p">):</span>
</span><span id="GameManager.load_biome_music-1915"><a href="#GameManager.load_biome_music-1915"><span class="linenos">1915</span></a><span class="w">     </span><span class="sd">&quot;&quot;&quot;Carga la msica del bioma correspondiente a la escena actual.&quot;&quot;&quot;</span>
</span><span id="GameManager.load_biome_music-1916"><a href="#GameManager.load_biome_music-1916"><span class="linenos">1916</span></a>     <span class="k">if</span> <span class="n">scene_number</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">BIOMA_MUSIC</span><span class="p">):</span>
</span><span id="GameManager.load_biome_music-1917"><a href="#GameManager.load_biome_music-1917"><span class="linenos">1917</span></a>        <span class="n">music_path</span> <span class="o">=</span> <span class="n">BIOMA_MUSIC</span><span class="p">[</span><span class="n">scene_number</span><span class="p">]</span>
</span><span id="GameManager.load_biome_music-1918"><a href="#GameManager.load_biome_music-1918"><span class="linenos">1918</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">music_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">music_path</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span><span class="p">:</span>
</span><span id="GameManager.load_biome_music-1919"><a href="#GameManager.load_biome_music-1919"><span class="linenos">1919</span></a>            <span class="n">stop_music</span><span class="p">()</span>
</span><span id="GameManager.load_biome_music-1920"><a href="#GameManager.load_biome_music-1920"><span class="linenos">1920</span></a>            <span class="n">play_music</span><span class="p">(</span><span class="n">music_path</span><span class="p">)</span>
</span><span id="GameManager.load_biome_music-1921"><a href="#GameManager.load_biome_music-1921"><span class="linenos">1921</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_music</span> <span class="o">=</span> <span class="n">music_path</span>
</span><span id="GameManager.load_biome_music-1922"><a href="#GameManager.load_biome_music-1922"><span class="linenos">1922</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Msica del bioma </span><span class="si">{</span><span class="n">scene_number</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">music_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Carga la msica del bioma correspondiente a la escena actual.</p>
</div>


                            </div>
                            <div id="GameManager.handle_event" class="classattr">
                                        <input id="GameManager.handle_event-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">handle_event</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameManager.handle_event-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager.handle_event"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager.handle_event-1924"><a href="#GameManager.handle_event-1924"><span class="linenos">1924</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">handle_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="GameManager.handle_event-1925"><a href="#GameManager.handle_event-1925"><span class="linenos">1925</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gestiona la entrada del usuario segn el estado del juego.</span>
</span><span id="GameManager.handle_event-1926"><a href="#GameManager.handle_event-1926"><span class="linenos">1926</span></a>
</span><span id="GameManager.handle_event-1927"><a href="#GameManager.handle_event-1927"><span class="linenos">1927</span></a><span class="sd">        Args:</span>
</span><span id="GameManager.handle_event-1928"><a href="#GameManager.handle_event-1928"><span class="linenos">1928</span></a><span class="sd">            event (pygame.event.Event): Evento de Pygame capturado.</span>
</span><span id="GameManager.handle_event-1929"><a href="#GameManager.handle_event-1929"><span class="linenos">1929</span></a><span class="sd">        </span>
</span><span id="GameManager.handle_event-1930"><a href="#GameManager.handle_event-1930"><span class="linenos">1930</span></a><span class="sd">        Returns:</span>
</span><span id="GameManager.handle_event-1931"><a href="#GameManager.handle_event-1931"><span class="linenos">1931</span></a><span class="sd">            str: &quot;QUIT&quot; si se debe cerrar el juego, &quot;CONTINUE&quot; de lo contrario.</span>
</span><span id="GameManager.handle_event-1932"><a href="#GameManager.handle_event-1932"><span class="linenos">1932</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameManager.handle_event-1933"><a href="#GameManager.handle_event-1933"><span class="linenos">1933</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;MENU&quot;</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1934"><a href="#GameManager.handle_event-1934"><span class="linenos">1934</span></a>            <span class="c1"># Manejar tecla ESC para salir</span>
</span><span id="GameManager.handle_event-1935"><a href="#GameManager.handle_event-1935"><span class="linenos">1935</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_ESCAPE</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1936"><a href="#GameManager.handle_event-1936"><span class="linenos">1936</span></a>                <span class="k">return</span> <span class="s2">&quot;QUIT&quot;</span>
</span><span id="GameManager.handle_event-1937"><a href="#GameManager.handle_event-1937"><span class="linenos">1937</span></a>            
</span><span id="GameManager.handle_event-1938"><a href="#GameManager.handle_event-1938"><span class="linenos">1938</span></a>            <span class="n">menu_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="GameManager.handle_event-1939"><a href="#GameManager.handle_event-1939"><span class="linenos">1939</span></a>            <span class="k">if</span> <span class="n">menu_result</span> <span class="o">==</span> <span class="s2">&quot;JUGAR&quot;</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1940"><a href="#GameManager.handle_event-1940"><span class="linenos">1940</span></a>                <span class="n">stop_music</span><span class="p">()</span>
</span><span id="GameManager.handle_event-1941"><a href="#GameManager.handle_event-1941"><span class="linenos">1941</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;PLAYING&quot;</span>
</span><span id="GameManager.handle_event-1942"><a href="#GameManager.handle_event-1942"><span class="linenos">1942</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">load_biome_music</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="GameManager.handle_event-1943"><a href="#GameManager.handle_event-1943"><span class="linenos">1943</span></a>            <span class="k">elif</span> <span class="n">menu_result</span> <span class="o">==</span> <span class="s2">&quot;INSTRUCCIONES&quot;</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1944"><a href="#GameManager.handle_event-1944"><span class="linenos">1944</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;INSTRUCTIONS&quot;</span>
</span><span id="GameManager.handle_event-1945"><a href="#GameManager.handle_event-1945"><span class="linenos">1945</span></a>            <span class="k">elif</span> <span class="n">menu_result</span> <span class="o">==</span> <span class="s2">&quot;SALIR&quot;</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1946"><a href="#GameManager.handle_event-1946"><span class="linenos">1946</span></a>                <span class="k">return</span> <span class="s2">&quot;QUIT&quot;</span>
</span><span id="GameManager.handle_event-1947"><a href="#GameManager.handle_event-1947"><span class="linenos">1947</span></a>                
</span><span id="GameManager.handle_event-1948"><a href="#GameManager.handle_event-1948"><span class="linenos">1948</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;INSTRUCTIONS&quot;</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1949"><a href="#GameManager.handle_event-1949"><span class="linenos">1949</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;instructions_screen&#39;</span><span class="p">):</span>
</span><span id="GameManager.handle_event-1950"><a href="#GameManager.handle_event-1950"><span class="linenos">1950</span></a>                <span class="kn">from</span><span class="w"> </span><span class="nn">menu</span><span class="w"> </span><span class="kn">import</span> <span class="n">InstructionsScreen</span>
</span><span id="GameManager.handle_event-1951"><a href="#GameManager.handle_event-1951"><span class="linenos">1951</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span> <span class="o">=</span> <span class="n">InstructionsScreen</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">)</span>
</span><span id="GameManager.handle_event-1952"><a href="#GameManager.handle_event-1952"><span class="linenos">1952</span></a>            <span class="n">instr_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="GameManager.handle_event-1953"><a href="#GameManager.handle_event-1953"><span class="linenos">1953</span></a>            <span class="k">if</span> <span class="n">instr_result</span> <span class="o">==</span> <span class="s2">&quot;BACK&quot;</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1954"><a href="#GameManager.handle_event-1954"><span class="linenos">1954</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;MENU&quot;</span>
</span><span id="GameManager.handle_event-1955"><a href="#GameManager.handle_event-1955"><span class="linenos">1955</span></a>                
</span><span id="GameManager.handle_event-1956"><a href="#GameManager.handle_event-1956"><span class="linenos">1956</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;PLAYING&quot;</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1957"><a href="#GameManager.handle_event-1957"><span class="linenos">1957</span></a>            <span class="c1"># Manejar tecla J para mostrar/ocultar mochila</span>
</span><span id="GameManager.handle_event-1958"><a href="#GameManager.handle_event-1958"><span class="linenos">1958</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_j</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1959"><a href="#GameManager.handle_event-1959"><span class="linenos">1959</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">alternar_visibilidad</span><span class="p">()</span>
</span><span id="GameManager.handle_event-1960"><a href="#GameManager.handle_event-1960"><span class="linenos">1960</span></a>            
</span><span id="GameManager.handle_event-1961"><a href="#GameManager.handle_event-1961"><span class="linenos">1961</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">handle_event</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>
</span><span id="GameManager.handle_event-1962"><a href="#GameManager.handle_event-1962"><span class="linenos">1962</span></a>            <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="s2">&quot;GAME_OVER&quot;</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1963"><a href="#GameManager.handle_event-1963"><span class="linenos">1963</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;GAME_OVER&quot;</span>
</span><span id="GameManager.handle_event-1964"><a href="#GameManager.handle_event-1964"><span class="linenos">1964</span></a>                <span class="n">stop_music</span><span class="p">()</span>
</span><span id="GameManager.handle_event-1965"><a href="#GameManager.handle_event-1965"><span class="linenos">1965</span></a>                
</span><span id="GameManager.handle_event-1966"><a href="#GameManager.handle_event-1966"><span class="linenos">1966</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;GAME_OVER&quot;</span><span class="p">,</span> <span class="s2">&quot;VICTORY&quot;</span><span class="p">]:</span>
</span><span id="GameManager.handle_event-1967"><a href="#GameManager.handle_event-1967"><span class="linenos">1967</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">KEYDOWN</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1968"><a href="#GameManager.handle_event-1968"><span class="linenos">1968</span></a>                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_r</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1969"><a href="#GameManager.handle_event-1969"><span class="linenos">1969</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">restart_game</span><span class="p">()</span>
</span><span id="GameManager.handle_event-1970"><a href="#GameManager.handle_event-1970"><span class="linenos">1970</span></a>                <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">K_m</span><span class="p">:</span>
</span><span id="GameManager.handle_event-1971"><a href="#GameManager.handle_event-1971"><span class="linenos">1971</span></a>                    <span class="n">stop_music</span><span class="p">()</span>
</span><span id="GameManager.handle_event-1972"><a href="#GameManager.handle_event-1972"><span class="linenos">1972</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;MENU&quot;</span>
</span><span id="GameManager.handle_event-1973"><a href="#GameManager.handle_event-1973"><span class="linenos">1973</span></a>                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;main_menu&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="p">,</span> <span class="s1">&#39;menu_music_path&#39;</span><span class="p">):</span>
</span><span id="GameManager.handle_event-1974"><a href="#GameManager.handle_event-1974"><span class="linenos">1974</span></a>                        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">menu_music_path</span><span class="p">):</span>
</span><span id="GameManager.handle_event-1975"><a href="#GameManager.handle_event-1975"><span class="linenos">1975</span></a>                            <span class="n">play_music</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">menu_music_path</span><span class="p">)</span>
</span><span id="GameManager.handle_event-1976"><a href="#GameManager.handle_event-1976"><span class="linenos">1976</span></a>        
</span><span id="GameManager.handle_event-1977"><a href="#GameManager.handle_event-1977"><span class="linenos">1977</span></a>        <span class="k">return</span> <span class="s2">&quot;CONTINUE&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Gestiona la entrada del usuario segn el estado del juego.</p>

<p>Args:
    event (pygame.event.Event): Evento de Pygame capturado.</p>

<p>Returns:
    str: "QUIT" si se debe cerrar el juego, "CONTINUE" de lo contrario.</p>
</div>


                            </div>
                            <div id="GameManager.update" class="classattr">
                                        <input id="GameManager.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameManager.update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager.update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager.update-1979"><a href="#GameManager.update-1979"><span class="linenos">1979</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager.update-1980"><a href="#GameManager.update-1980"><span class="linenos">1980</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Actualiza todos los elementos del juego segn el estado actual.&quot;&quot;&quot;</span>
</span><span id="GameManager.update-1981"><a href="#GameManager.update-1981"><span class="linenos">1981</span></a>
</span><span id="GameManager.update-1982"><a href="#GameManager.update-1982"><span class="linenos">1982</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;MENU&quot;</span><span class="p">:</span>
</span><span id="GameManager.update-1983"><a href="#GameManager.update-1983"><span class="linenos">1983</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameManager.update-1984"><a href="#GameManager.update-1984"><span class="linenos">1984</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;PLAYING&quot;</span><span class="p">:</span>
</span><span id="GameManager.update-1985"><a href="#GameManager.update-1985"><span class="linenos">1985</span></a>            <span class="n">keys</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">()</span>
</span><span id="GameManager.update-1986"><a href="#GameManager.update-1986"><span class="linenos">1986</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
</span><span id="GameManager.update-1987"><a href="#GameManager.update-1987"><span class="linenos">1987</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameManager.update-1988"><a href="#GameManager.update-1988"><span class="linenos">1988</span></a>            
</span><span id="GameManager.update-1989"><a href="#GameManager.update-1989"><span class="linenos">1989</span></a>            <span class="c1"># Actualizar la mochila del jugador</span>
</span><span id="GameManager.update-1990"><a href="#GameManager.update-1990"><span class="linenos">1990</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameManager.update-1991"><a href="#GameManager.update-1991"><span class="linenos">1991</span></a>            
</span><span id="GameManager.update-1992"><a href="#GameManager.update-1992"><span class="linenos">1992</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>
</span><span id="GameManager.update-1993"><a href="#GameManager.update-1993"><span class="linenos">1993</span></a>            
</span><span id="GameManager.update-1994"><a href="#GameManager.update-1994"><span class="linenos">1994</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">can_advance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">):</span>
</span><span id="GameManager.update-1995"><a href="#GameManager.update-1995"><span class="linenos">1995</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">advance_to_next_scene</span><span class="p">()</span>
</span><span id="GameManager.update-1996"><a href="#GameManager.update-1996"><span class="linenos">1996</span></a>            
</span><span id="GameManager.update-1997"><a href="#GameManager.update-1997"><span class="linenos">1997</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza todos los elementos del juego segn el estado actual.</p>
</div>


                            </div>
                            <div id="GameManager.advance_to_next_scene" class="classattr">
                                        <input id="GameManager.advance_to_next_scene-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">advance_to_next_scene</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameManager.advance_to_next_scene-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager.advance_to_next_scene"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager.advance_to_next_scene-1999"><a href="#GameManager.advance_to_next_scene-1999"><span class="linenos">1999</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">advance_to_next_scene</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager.advance_to_next_scene-2000"><a href="#GameManager.advance_to_next_scene-2000"><span class="linenos">2000</span></a><span class="w">     </span><span class="sd">&quot;&quot;&quot;Avanza a la siguiente escena si se cumplen las condiciones.&quot;&quot;&quot;</span>
</span><span id="GameManager.advance_to_next_scene-2001"><a href="#GameManager.advance_to_next_scene-2001"><span class="linenos">2001</span></a>
</span><span id="GameManager.advance_to_next_scene-2002"><a href="#GameManager.advance_to_next_scene-2002"><span class="linenos">2002</span></a>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GameManager.advance_to_next_scene-2003"><a href="#GameManager.advance_to_next_scene-2003"><span class="linenos">2003</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="GameManager.advance_to_next_scene-2004"><a href="#GameManager.advance_to_next_scene-2004"><span class="linenos">2004</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="GameManager.advance_to_next_scene-2005"><a href="#GameManager.advance_to_next_scene-2005"><span class="linenos">2005</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span>
</span><span id="GameManager.advance_to_next_scene-2006"><a href="#GameManager.advance_to_next_scene-2006"><span class="linenos">2006</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">AnimatedBackground</span><span class="p">(</span><span class="n">scene_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">)</span>
</span><span id="GameManager.advance_to_next_scene-2007"><a href="#GameManager.advance_to_next_scene-2007"><span class="linenos">2007</span></a>
</span><span id="GameManager.advance_to_next_scene-2008"><a href="#GameManager.advance_to_next_scene-2008"><span class="linenos">2008</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">load_biome_music</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">)</span>  <span class="c1">#  cambia msica</span>
</span><span id="GameManager.advance_to_next_scene-2009"><a href="#GameManager.advance_to_next_scene-2009"><span class="linenos">2009</span></a>     <span class="k">else</span><span class="p">:</span>
</span><span id="GameManager.advance_to_next_scene-2010"><a href="#GameManager.advance_to_next_scene-2010"><span class="linenos">2010</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;VICTORY&quot;</span>
</span><span id="GameManager.advance_to_next_scene-2011"><a href="#GameManager.advance_to_next_scene-2011"><span class="linenos">2011</span></a>        <span class="n">stop_music</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Avanza a la siguiente escena si se cumplen las condiciones.</p>
</div>


                            </div>
                            <div id="GameManager.restart_game" class="classattr">
                                        <input id="GameManager.restart_game-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">restart_game</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameManager.restart_game-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager.restart_game"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager.restart_game-2015"><a href="#GameManager.restart_game-2015"><span class="linenos">2015</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">restart_game</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager.restart_game-2016"><a href="#GameManager.restart_game-2016"><span class="linenos">2016</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Reinicia el juego desde la primera escena y resetea jugador y escenas.&quot;&quot;&quot;</span>
</span><span id="GameManager.restart_game-2017"><a href="#GameManager.restart_game-2017"><span class="linenos">2017</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="GameManager.restart_game-2018"><a href="#GameManager.restart_game-2018"><span class="linenos">2018</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="mi">250</span><span class="p">,</span> <span class="n">gif_path</span><span class="o">=</span><span class="s2">&quot;gif.gif&quot;</span><span class="p">,</span> <span class="n">scale_factor</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="GameManager.restart_game-2019"><a href="#GameManager.restart_game-2019"><span class="linenos">2019</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">AnimatedBackground</span><span class="p">(</span><span class="n">scene_number</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="GameManager.restart_game-2020"><a href="#GameManager.restart_game-2020"><span class="linenos">2020</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">=</span> <span class="s2">&quot;PLAYING&quot;</span>
</span><span id="GameManager.restart_game-2021"><a href="#GameManager.restart_game-2021"><span class="linenos">2021</span></a>        
</span><span id="GameManager.restart_game-2022"><a href="#GameManager.restart_game-2022"><span class="linenos">2022</span></a>        <span class="c1"># Recrear las escenas usando el rbol binario</span>
</span><span id="GameManager.restart_game-2023"><a href="#GameManager.restart_game-2023"><span class="linenos">2023</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="GameManager.restart_game-2024"><a href="#GameManager.restart_game-2024"><span class="linenos">2024</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">total_scenes</span><span class="p">):</span>
</span><span id="GameManager.restart_game-2025"><a href="#GameManager.restart_game-2025"><span class="linenos">2025</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">GameScene</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">arbol_apus</span><span class="p">))</span>
</span><span id="GameManager.restart_game-2026"><a href="#GameManager.restart_game-2026"><span class="linenos">2026</span></a>        
</span><span id="GameManager.restart_game-2027"><a href="#GameManager.restart_game-2027"><span class="linenos">2027</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">load_biome_music</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Reinicia el juego desde la primera escena y resetea jugador y escenas.</p>
</div>


                            </div>
                            <div id="GameManager.draw" class="classattr">
                                        <input id="GameManager.draw-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">draw</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">screen</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameManager.draw-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager.draw"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager.draw-2029"><a href="#GameManager.draw-2029"><span class="linenos">2029</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
</span><span id="GameManager.draw-2030"><a href="#GameManager.draw-2030"><span class="linenos">2030</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dibuja todos los elementos visibles segn el estado del juego.</span>
</span><span id="GameManager.draw-2031"><a href="#GameManager.draw-2031"><span class="linenos">2031</span></a>
</span><span id="GameManager.draw-2032"><a href="#GameManager.draw-2032"><span class="linenos">2032</span></a><span class="sd">        Args:</span>
</span><span id="GameManager.draw-2033"><a href="#GameManager.draw-2033"><span class="linenos">2033</span></a><span class="sd">            screen (pygame.Surface): Superficie de Pygame donde se dibuja.</span>
</span><span id="GameManager.draw-2034"><a href="#GameManager.draw-2034"><span class="linenos">2034</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GameManager.draw-2035"><a href="#GameManager.draw-2035"><span class="linenos">2035</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;MENU&quot;</span><span class="p">:</span>
</span><span id="GameManager.draw-2036"><a href="#GameManager.draw-2036"><span class="linenos">2036</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager.draw-2037"><a href="#GameManager.draw-2037"><span class="linenos">2037</span></a>            
</span><span id="GameManager.draw-2038"><a href="#GameManager.draw-2038"><span class="linenos">2038</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;INSTRUCTIONS&quot;</span><span class="p">:</span>
</span><span id="GameManager.draw-2039"><a href="#GameManager.draw-2039"><span class="linenos">2039</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_menu</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>  <span class="c1"># Fondo del men</span>
</span><span id="GameManager.draw-2040"><a href="#GameManager.draw-2040"><span class="linenos">2040</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">menu</span><span class="w"> </span><span class="kn">import</span> <span class="n">InstructionsScreen</span>
</span><span id="GameManager.draw-2041"><a href="#GameManager.draw-2041"><span class="linenos">2041</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;instructions_screen&#39;</span><span class="p">):</span>
</span><span id="GameManager.draw-2042"><a href="#GameManager.draw-2042"><span class="linenos">2042</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span> <span class="o">=</span> <span class="n">InstructionsScreen</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">)</span>
</span><span id="GameManager.draw-2043"><a href="#GameManager.draw-2043"><span class="linenos">2043</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">instructions_screen</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager.draw-2044"><a href="#GameManager.draw-2044"><span class="linenos">2044</span></a>            
</span><span id="GameManager.draw-2045"><a href="#GameManager.draw-2045"><span class="linenos">2045</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;PLAYING&quot;</span><span class="p">:</span>
</span><span id="GameManager.draw-2046"><a href="#GameManager.draw-2046"><span class="linenos">2046</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager.draw-2047"><a href="#GameManager.draw-2047"><span class="linenos">2047</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager.draw-2048"><a href="#GameManager.draw-2048"><span class="linenos">2048</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="p">]</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>
</span><span id="GameManager.draw-2049"><a href="#GameManager.draw-2049"><span class="linenos">2049</span></a>            
</span><span id="GameManager.draw-2050"><a href="#GameManager.draw-2050"><span class="linenos">2050</span></a>            <span class="c1"># Dibujar mochila si est abierta</span>
</span><span id="GameManager.draw-2051"><a href="#GameManager.draw-2051"><span class="linenos">2051</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mochila</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager.draw-2052"><a href="#GameManager.draw-2052"><span class="linenos">2052</span></a>            
</span><span id="GameManager.draw-2053"><a href="#GameManager.draw-2053"><span class="linenos">2053</span></a>            <span class="n">progress_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Progreso: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">/14&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameManager.draw-2054"><a href="#GameManager.draw-2054"><span class="linenos">2054</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">progress_text</span><span class="p">,</span> <span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">-</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</span><span id="GameManager.draw-2055"><a href="#GameManager.draw-2055"><span class="linenos">2055</span></a>            
</span><span id="GameManager.draw-2056"><a href="#GameManager.draw-2056"><span class="linenos">2056</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;GAME_OVER&quot;</span><span class="p">:</span>
</span><span id="GameManager.draw-2057"><a href="#GameManager.draw-2057"><span class="linenos">2057</span></a>            <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="GameManager.draw-2058"><a href="#GameManager.draw-2058"><span class="linenos">2058</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</span><span id="GameManager.draw-2059"><a href="#GameManager.draw-2059"><span class="linenos">2059</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="GameManager.draw-2060"><a href="#GameManager.draw-2060"><span class="linenos">2060</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="GameManager.draw-2061"><a href="#GameManager.draw-2061"><span class="linenos">2061</span></a>            
</span><span id="GameManager.draw-2062"><a href="#GameManager.draw-2062"><span class="linenos">2062</span></a>            <span class="n">game_over_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_big</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;GAME OVER!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">RED</span><span class="p">)</span>
</span><span id="GameManager.draw-2063"><a href="#GameManager.draw-2063"><span class="linenos">2063</span></a>            <span class="n">game_over_rect</span> <span class="o">=</span> <span class="n">game_over_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">70</span><span class="p">))</span>
</span><span id="GameManager.draw-2064"><a href="#GameManager.draw-2064"><span class="linenos">2064</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">game_over_text</span><span class="p">,</span> <span class="n">game_over_rect</span><span class="p">)</span>
</span><span id="GameManager.draw-2065"><a href="#GameManager.draw-2065"><span class="linenos">2065</span></a>            
</span><span id="GameManager.draw-2066"><a href="#GameManager.draw-2066"><span class="linenos">2066</span></a>            <span class="n">score_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Llegaste hasta la escena </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_scene</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameManager.draw-2067"><a href="#GameManager.draw-2067"><span class="linenos">2067</span></a>            <span class="n">score_rect</span> <span class="o">=</span> <span class="n">score_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="GameManager.draw-2068"><a href="#GameManager.draw-2068"><span class="linenos">2068</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">score_text</span><span class="p">,</span> <span class="n">score_rect</span><span class="p">)</span>
</span><span id="GameManager.draw-2069"><a href="#GameManager.draw-2069"><span class="linenos">2069</span></a>            
</span><span id="GameManager.draw-2070"><a href="#GameManager.draw-2070"><span class="linenos">2070</span></a>            <span class="n">articles_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Illas recuperadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameManager.draw-2071"><a href="#GameManager.draw-2071"><span class="linenos">2071</span></a>            <span class="n">articles_rect</span> <span class="o">=</span> <span class="n">articles_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">10</span><span class="p">))</span>
</span><span id="GameManager.draw-2072"><a href="#GameManager.draw-2072"><span class="linenos">2072</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">articles_text</span><span class="p">,</span> <span class="n">articles_rect</span><span class="p">)</span>
</span><span id="GameManager.draw-2073"><a href="#GameManager.draw-2073"><span class="linenos">2073</span></a>            
</span><span id="GameManager.draw-2074"><a href="#GameManager.draw-2074"><span class="linenos">2074</span></a>            <span class="n">restart_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Presiona &#39;R&#39; para reiniciar | &#39;M&#39; para men&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="GameManager.draw-2075"><a href="#GameManager.draw-2075"><span class="linenos">2075</span></a>            <span class="n">restart_rect</span> <span class="o">=</span> <span class="n">restart_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">60</span><span class="p">))</span>
</span><span id="GameManager.draw-2076"><a href="#GameManager.draw-2076"><span class="linenos">2076</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">restart_text</span><span class="p">,</span> <span class="n">restart_rect</span><span class="p">)</span>
</span><span id="GameManager.draw-2077"><a href="#GameManager.draw-2077"><span class="linenos">2077</span></a>            
</span><span id="GameManager.draw-2078"><a href="#GameManager.draw-2078"><span class="linenos">2078</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_state</span> <span class="o">==</span> <span class="s2">&quot;VICTORY&quot;</span><span class="p">:</span>
</span><span id="GameManager.draw-2079"><a href="#GameManager.draw-2079"><span class="linenos">2079</span></a>            <span class="n">overlay</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span><span id="GameManager.draw-2080"><a href="#GameManager.draw-2080"><span class="linenos">2080</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</span><span id="GameManager.draw-2081"><a href="#GameManager.draw-2081"><span class="linenos">2081</span></a>            <span class="n">overlay</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span><span id="GameManager.draw-2082"><a href="#GameManager.draw-2082"><span class="linenos">2082</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="GameManager.draw-2083"><a href="#GameManager.draw-2083"><span class="linenos">2083</span></a>            
</span><span id="GameManager.draw-2084"><a href="#GameManager.draw-2084"><span class="linenos">2084</span></a>            <span class="n">victory_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_big</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;VICTORIA TOTAL!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">GREEN</span><span class="p">)</span>
</span><span id="GameManager.draw-2085"><a href="#GameManager.draw-2085"><span class="linenos">2085</span></a>            <span class="n">victory_rect</span> <span class="o">=</span> <span class="n">victory_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">90</span><span class="p">))</span>
</span><span id="GameManager.draw-2086"><a href="#GameManager.draw-2086"><span class="linenos">2086</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">victory_text</span><span class="p">,</span> <span class="n">victory_rect</span><span class="p">)</span>
</span><span id="GameManager.draw-2087"><a href="#GameManager.draw-2087"><span class="linenos">2087</span></a>            
</span><span id="GameManager.draw-2088"><a href="#GameManager.draw-2088"><span class="linenos">2088</span></a>            <span class="n">completion_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Ekeko complet su aventura por los 14 Apus!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">)</span>
</span><span id="GameManager.draw-2089"><a href="#GameManager.draw-2089"><span class="linenos">2089</span></a>            <span class="n">completion_rect</span> <span class="o">=</span> <span class="n">completion_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">40</span><span class="p">))</span>
</span><span id="GameManager.draw-2090"><a href="#GameManager.draw-2090"><span class="linenos">2090</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">completion_text</span><span class="p">,</span> <span class="n">completion_rect</span><span class="p">)</span>
</span><span id="GameManager.draw-2091"><a href="#GameManager.draw-2091"><span class="linenos">2091</span></a>            
</span><span id="GameManager.draw-2092"><a href="#GameManager.draw-2092"><span class="linenos">2092</span></a>            <span class="n">articles_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
</span><span id="GameManager.draw-2093"><a href="#GameManager.draw-2093"><span class="linenos">2093</span></a>                <span class="sa">f</span><span class="s2">&quot;Illas sagradas recuperadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">articulos_collected</span><span class="p">)</span><span class="si">}</span><span class="s2">/19&quot;</span><span class="p">,</span> 
</span><span id="GameManager.draw-2094"><a href="#GameManager.draw-2094"><span class="linenos">2094</span></a>                <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span>
</span><span id="GameManager.draw-2095"><a href="#GameManager.draw-2095"><span class="linenos">2095</span></a>            <span class="p">)</span>
</span><span id="GameManager.draw-2096"><a href="#GameManager.draw-2096"><span class="linenos">2096</span></a>            <span class="n">articles_rect</span> <span class="o">=</span> <span class="n">articles_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="GameManager.draw-2097"><a href="#GameManager.draw-2097"><span class="linenos">2097</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">articles_text</span><span class="p">,</span> <span class="n">articles_rect</span><span class="p">)</span>
</span><span id="GameManager.draw-2098"><a href="#GameManager.draw-2098"><span class="linenos">2098</span></a>            
</span><span id="GameManager.draw-2099"><a href="#GameManager.draw-2099"><span class="linenos">2099</span></a>            <span class="n">restart_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_medium</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;Presiona &#39;R&#39; para reiniciar | &#39;M&#39; para men&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">YELLOW</span><span class="p">)</span>
</span><span id="GameManager.draw-2100"><a href="#GameManager.draw-2100"><span class="linenos">2100</span></a>            <span class="n">restart_rect</span> <span class="o">=</span> <span class="n">restart_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">60</span><span class="p">))</span>
</span><span id="GameManager.draw-2101"><a href="#GameManager.draw-2101"><span class="linenos">2101</span></a>            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">restart_text</span><span class="p">,</span> <span class="n">restart_rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dibuja todos los elementos visibles segn el estado del juego.</p>

<p>Args:
    screen (pygame.Surface): Superficie de Pygame donde se dibuja.</p>
</div>


                            </div>
                            <div id="GameManager.run" class="classattr">
                                        <input id="GameManager.run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GameManager.run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GameManager.run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GameManager.run-2102"><a href="#GameManager.run-2102"><span class="linenos">2102</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GameManager.run-2103"><a href="#GameManager.run-2103"><span class="linenos">2103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Bucle principal del juego. Maneja eventos, actualizaciones y renderizado.&quot;&quot;&quot;</span>
</span><span id="GameManager.run-2104"><a href="#GameManager.run-2104"><span class="linenos">2104</span></a>        <span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="GameManager.run-2105"><a href="#GameManager.run-2105"><span class="linenos">2105</span></a>        <span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
</span><span id="GameManager.run-2106"><a href="#GameManager.run-2106"><span class="linenos">2106</span></a>        <span class="k">while</span> <span class="n">running</span><span class="p">:</span>
</span><span id="GameManager.run-2107"><a href="#GameManager.run-2107"><span class="linenos">2107</span></a>            <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="GameManager.run-2108"><a href="#GameManager.run-2108"><span class="linenos">2108</span></a>                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span><span id="GameManager.run-2109"><a href="#GameManager.run-2109"><span class="linenos">2109</span></a>                    <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="GameManager.run-2110"><a href="#GameManager.run-2110"><span class="linenos">2110</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="GameManager.run-2111"><a href="#GameManager.run-2111"><span class="linenos">2111</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">handle_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="GameManager.run-2112"><a href="#GameManager.run-2112"><span class="linenos">2112</span></a>
</span><span id="GameManager.run-2113"><a href="#GameManager.run-2113"><span class="linenos">2113</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="GameManager.run-2114"><a href="#GameManager.run-2114"><span class="linenos">2114</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="GameManager.run-2115"><a href="#GameManager.run-2115"><span class="linenos">2115</span></a>            <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span><span id="GameManager.run-2116"><a href="#GameManager.run-2116"><span class="linenos">2116</span></a>            <span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>  <span class="c1"># 60 FPS</span>
</span><span id="GameManager.run-2117"><a href="#GameManager.run-2117"><span class="linenos">2117</span></a>
</span><span id="GameManager.run-2118"><a href="#GameManager.run-2118"><span class="linenos">2118</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Bucle principal del juego. Maneja eventos, actualizaciones y renderizado.</p>
</div>


                            </div>
                </section>
                <section id="main">
                            <input id="main-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">main</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="main-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#main"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="main-2119"><a href="#main-2119"><span class="linenos">2119</span></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
</span><span id="main-2120"><a href="#main-2120"><span class="linenos">2120</span></a>    <span class="n">game</span> <span class="o">=</span> <span class="n">GameManager</span><span class="p">()</span>
</span><span id="main-2121"><a href="#main-2121"><span class="linenos">2121</span></a>    <span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="main-2122"><a href="#main-2122"><span class="linenos">2122</span></a>    <span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
</span><span id="main-2123"><a href="#main-2123"><span class="linenos">2123</span></a>    <span class="k">while</span> <span class="n">running</span><span class="p">:</span>
</span><span id="main-2124"><a href="#main-2124"><span class="linenos">2124</span></a>        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span><span id="main-2125"><a href="#main-2125"><span class="linenos">2125</span></a>            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span><span id="main-2126"><a href="#main-2126"><span class="linenos">2126</span></a>                <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="main-2127"><a href="#main-2127"><span class="linenos">2127</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="main-2128"><a href="#main-2128"><span class="linenos">2128</span></a>                <span class="n">game</span><span class="o">.</span><span class="n">handle_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="main-2129"><a href="#main-2129"><span class="linenos">2129</span></a>
</span><span id="main-2130"><a href="#main-2130"><span class="linenos">2130</span></a>        <span class="n">game</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="main-2131"><a href="#main-2131"><span class="linenos">2131</span></a>        <span class="n">game</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span><span id="main-2132"><a href="#main-2132"><span class="linenos">2132</span></a>        <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span><span id="main-2133"><a href="#main-2133"><span class="linenos">2133</span></a>        <span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
</span><span id="main-2134"><a href="#main-2134"><span class="linenos">2134</span></a>
</span><span id="main-2135"><a href="#main-2135"><span class="linenos">2135</span></a>    <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></pre></div>


    

                </section>
    </main>
</body>
</html>